function Iw(r,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Cw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function xw(){if(Lv)return Hl;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var jv;function Dw(){return jv||(jv=1,Rm.exports=xw()),Rm.exports}var R=Dw(),Im={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Ow(){if(zv)return xe;zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Y={};function N(O,Z,ie){this.props=O,this.context=Z,this.refs=Y,this.updater=ie||L}N.prototype.isReactComponent={},N.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},N.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=N.prototype;function J(O,Z,ie){this.props=O,this.context=Z,this.refs=Y,this.updater=ie||L}var ee=J.prototype=new ne;ee.constructor=J,F(ee,N.prototype),ee.isPureReactComponent=!0;var ce=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function x(O,Z,ie,re,me,Ie){return ie=Ie.ref,{$$typeof:r,type:O,key:Z,ref:ie!==void 0?ie:null,props:Ie}}function A(O,Z){return x(O.type,Z,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Z[ie]})}var P=/\/+/g;function U(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Z.toString(36)}function D(){}function It(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function st(O,Z,ie,re,me){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var ye=!1;if(O===null)ye=!0;else switch(Ie){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(O.$$typeof){case r:case e:ye=!0;break;case E:return ye=O._init,st(ye(O._payload),Z,ie,re,me)}}if(ye)return me=me(O),ye=re===""?"."+U(O,0):re,ce(me)?(ie="",ye!=null&&(ie=ye.replace(P,"$&/")+"/"),st(me,Z,ie,"",function(Pt){return Pt})):me!=null&&(C(me)&&(me=A(me,ie+(me.key==null||O&&O.key===me.key?"":(""+me.key).replace(P,"$&/")+"/")+ye)),Z.push(me)),1;ye=0;var lt=re===""?".":re+":";if(ce(O))for(var qe=0;qe<O.length;qe++)re=O[qe],Ie=lt+U(re,qe),ye+=st(re,Z,ie,Ie,me);else if(qe=w(O),typeof qe=="function")for(O=qe.call(O),qe=0;!(re=O.next()).done;)re=re.value,Ie=lt+U(re,qe++),ye+=st(re,Z,ie,Ie,me);else if(Ie==="object"){if(typeof O.then=="function")return st(It(O),Z,ie,re,me);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ye}function K(O,Z,ie){if(O==null)return O;var re=[],me=0;return st(O,re,"","",function(Ie){return Z.call(ie,Ie,me++)}),re}function le(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ce(){}return xe.Children={map:K,forEach:function(O,Z,ie){K(O,function(){Z.apply(this,arguments)},ie)},count:function(O){var Z=0;return K(O,function(){Z++}),Z},toArray:function(O){return K(O,function(Z){return Z})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},xe.Component=N,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=J,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return oe.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cloneElement=function(O,Z,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=F({},O.props),me=O.key,Ie=void 0;if(Z!=null)for(ye in Z.ref!==void 0&&(Ie=void 0),Z.key!==void 0&&(me=""+Z.key),Z)!ue.call(Z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Z.ref===void 0||(re[ye]=Z[ye]);var ye=arguments.length-2;if(ye===1)re.children=ie;else if(1<ye){for(var lt=Array(ye),qe=0;qe<ye;qe++)lt[qe]=arguments[qe+2];re.children=lt}return x(O.type,me,void 0,void 0,Ie,re)},xe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},xe.createElement=function(O,Z,ie){var re,me={},Ie=null;if(Z!=null)for(re in Z.key!==void 0&&(Ie=""+Z.key),Z)ue.call(Z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=Z[re]);var ye=arguments.length-2;if(ye===1)me.children=ie;else if(1<ye){for(var lt=Array(ye),qe=0;qe<ye;qe++)lt[qe]=arguments[qe+2];me.children=lt}if(O&&O.defaultProps)for(re in ye=O.defaultProps,ye)me[re]===void 0&&(me[re]=ye[re]);return x(O,Ie,void 0,void 0,null,me)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:m,render:O}},xe.isValidElement=C,xe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:le}},xe.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},xe.startTransition=function(O){var Z=oe.T,ie={};oe.T=ie;try{var re=O(),me=oe.S;me!==null&&me(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ce,de)}catch(Ie){de(Ie)}finally{oe.T=Z}},xe.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},xe.use=function(O){return oe.H.use(O)},xe.useActionState=function(O,Z,ie){return oe.H.useActionState(O,Z,ie)},xe.useCallback=function(O,Z){return oe.H.useCallback(O,Z)},xe.useContext=function(O){return oe.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,Z){return oe.H.useDeferredValue(O,Z)},xe.useEffect=function(O,Z,ie){var re=oe.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,Z)},xe.useId=function(){return oe.H.useId()},xe.useImperativeHandle=function(O,Z,ie){return oe.H.useImperativeHandle(O,Z,ie)},xe.useInsertionEffect=function(O,Z){return oe.H.useInsertionEffect(O,Z)},xe.useLayoutEffect=function(O,Z){return oe.H.useLayoutEffect(O,Z)},xe.useMemo=function(O,Z){return oe.H.useMemo(O,Z)},xe.useOptimistic=function(O,Z){return oe.H.useOptimistic(O,Z)},xe.useReducer=function(O,Z,ie){return oe.H.useReducer(O,Z,ie)},xe.useRef=function(O){return oe.H.useRef(O)},xe.useState=function(O){return oe.H.useState(O)},xe.useSyncExternalStore=function(O,Z,ie){return oe.H.useSyncExternalStore(O,Z,ie)},xe.useTransition=function(){return oe.H.useTransition()},xe.version="19.1.0",xe}var Bv;function Dp(){return Bv||(Bv=1,Im.exports=Ow()),Im.exports}var ae=Dp();const fo=Cw(ae),Nw=Iw({__proto__:null,default:fo},[ae]);var Cm={exports:{}},Fl={},xm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Mw(){return qv||(qv=1,function(r){function e(K,le){var de=K.length;K.push(le);e:for(;0<de;){var Ce=de-1>>>1,O=K[Ce];if(0<o(O,le))K[Ce]=le,K[de]=O,de=Ce;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var le=K[0],de=K.pop();if(de!==le){K[0]=de;e:for(var Ce=0,O=K.length,Z=O>>>1;Ce<Z;){var ie=2*(Ce+1)-1,re=K[ie],me=ie+1,Ie=K[me];if(0>o(re,de))me<O&&0>o(Ie,re)?(K[Ce]=Ie,K[me]=de,Ce=me):(K[Ce]=re,K[ie]=de,Ce=ie);else if(me<O&&0>o(Ie,de))K[Ce]=Ie,K[me]=de,Ce=me;else break e}}return le}function o(K,le){var de=K.sortIndex-le.sortIndex;return de!==0?de:K.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,w=3,L=!1,F=!1,Y=!1,N=!1,ne=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ce(K){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=K)s(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function oe(K){if(Y=!1,ce(K),!F)if(n(p)!==null)F=!0,ue||(ue=!0,U());else{var le=n(y);le!==null&&st(oe,le.startTime-K)}}var ue=!1,x=-1,A=5,C=-1;function V(){return N?!0:!(r.unstable_now()-C<A)}function P(){if(N=!1,ue){var K=r.unstable_now();C=K;var le=!0;try{e:{F=!1,Y&&(Y=!1,J(x),x=-1),L=!0;var de=w;try{t:{for(ce(K),S=n(p);S!==null&&!(S.expirationTime>K&&V());){var Ce=S.callback;if(typeof Ce=="function"){S.callback=null,w=S.priorityLevel;var O=Ce(S.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){S.callback=O,ce(K),le=!0;break t}S===n(p)&&s(p),ce(K)}else s(p);S=n(p)}if(S!==null)le=!0;else{var Z=n(y);Z!==null&&st(oe,Z.startTime-K),le=!1}}break e}finally{S=null,w=de,L=!1}le=void 0}}finally{le?U():ue=!1}}}var U;if(typeof ee=="function")U=function(){ee(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,It=D.port2;D.port1.onmessage=P,U=function(){It.postMessage(null)}}else U=function(){ne(P,0)};function st(K,le){x=ne(function(){K(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var de=w;w=le;try{return K()}finally{w=de}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=w;w=K;try{return le()}finally{w=de}},r.unstable_scheduleCallback=function(K,le,de){var Ce=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ce+de:Ce):de=Ce,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,K={id:E++,callback:le,priorityLevel:K,startTime:de,expirationTime:O,sortIndex:-1},de>Ce?(K.sortIndex=de,e(y,K),n(p)===null&&K===n(y)&&(Y?(J(x),x=-1):Y=!0,st(oe,de-Ce))):(K.sortIndex=O,e(p,K),F||L||(F=!0,ue||(ue=!0,U()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var le=w;return function(){var de=w;w=le;try{return K.apply(this,arguments)}finally{w=de}}}}(Dm)),Dm}var Hv;function Vw(){return Hv||(Hv=1,xm.exports=Mw()),xm.exports}var Om={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Pw(){if(Fv)return tn;Fv=1;var r=Dp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},tn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},tn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},tn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,y){return p(y)},tn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var Gv;function XE(){if(Gv)return Om.exports;Gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=Pw(),Om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function kw(){if(Kv)return Fl;Kv=1;var r=Vw(),e=Dp(),n=XE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function It(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case N:return"Profiler";case Y:return"StrictMode";case oe:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:It(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return It(t(i))}catch{}}return null}var st=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ce=[],O=-1;function Z(t){return{current:t}}function ie(t){0>O||(t.current=Ce[O],Ce[O]=null,O--)}function re(t,i){O++,Ce[O]=t.current,t.current=i}var me=Z(null),Ie=Z(null),ye=Z(null),lt=Z(null);function qe(t,i){switch(re(ye,i),re(Ie,t),re(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?fv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=fv(i),t=dv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(me),re(me,t)}function Pt(){ie(me),ie(Ie),ie(ye)}function Cn(t){t.memoizedState!==null&&re(lt,t);var i=me.current,a=dv(i,t.type);i!==a&&(re(Ie,t),re(me,a))}function hn(t){Ie.current===t&&(ie(me),ie(Ie)),lt.current===t&&(ie(lt),Ll._currentValue=de)}var Zt=Object.prototype.hasOwnProperty,os=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,Po=r.unstable_shouldYield,Vu=r.unstable_requestPaint,xn=r.unstable_now,Rf=r.unstable_getCurrentPriorityLevel,ko=r.unstable_ImmediatePriority,ua=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,If=r.unstable_LowPriority,ca=r.unstable_IdlePriority,Uo=r.log,Pu=r.unstable_setDisableYieldValue,ft=null,Qe=null;function _n(t){if(typeof Uo=="function"&&Pu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,t)}catch{}}var Jt=Math.clz32?Math.clz32:cs,ku=Math.log,Cf=Math.LN2;function cs(t){return t>>>=0,t===0?32:31-(ku(t)/Cf|0)|0}var hs=256,fs=4194304;function Kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ha(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Kn(l):(v&=T,v!==0?h=Kn(v):a||(a=T&~t,a!==0&&(h=Kn(a))))):(T=l&~d,T!==0?h=Kn(T):v!==0?h=Kn(v):a||(a=l&~t,a!==0&&(h=Kn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ds(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Lo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var t=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),t}function zo(){var t=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),t}function Cr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Jt(a),X=1<<Q;T[Q]=0,I[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var H=q[Q];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&nr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function nr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Jt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function qo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Jt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ci(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hi(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Nv(t.type))}function Uu(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var at=Math.random().toString(36).slice(2),Ct="__reactFiber$"+at,vt="__reactProps$"+at,Dn="__reactContainer$"+at,Ho="__reactEvents$"+at,xf="__reactListeners$"+at,fi="__reactHandles$"+at,Lu="__reactResources$"+at,ms="__reactMarker$"+at;function di(t){delete t[Ct],delete t[vt],delete t[Ho],delete t[xf],delete t[fi]}function Dr(t){var i=t[Ct];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Dn]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=yv(t);t!==null;){if(a=t[Ct])return a;t=yv(t)}return i}t=a,a=t.parentNode}return null}function rr(t){if(t=t[Ct]||t[Dn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ir(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function on(t){var i=t[Lu];return i||(i=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[ms]=!0}var Fo=new Set,da={};function Yn(t,i){Or(t,i),Or(t+"Capture",i)}function Or(t,i){for(da[t]=i,t=0;t<i.length;t++)Fo.add(i[t])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},ps={};function Bu(t){return Zt.call(ps,t)?!0:Zt.call(zu,t)?!1:ju.test(t)?ps[t]=!0:(zu[t]=!0,!1)}function mi(t,i,a){if(Bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function sr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ft(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var gs,qu;function Nr(t){if(gs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);gs=i&&i[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+qu}var ma=!1;function pa(t,i){if(!t||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var q=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){q=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){q=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nr(a):""}function Go(t){switch(t.tag){case 26:case 27:case 5:return Nr(t.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return Nr("Activity");default:return""}}function ga(t){try{var i="";do i+=Go(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ko(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Df(t){var i=Ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ya(t){t._valueTracker||(t._valueTracker=Df(t))}function Yo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Of=/[\n"\\]/g;function Et(t){return t.replace(Of,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?pi(t,v,ln(i)):a!=null?pi(t,v,ln(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ln(T):t.removeAttribute("name")}function _s(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function pi(t,i,a){i==="number"&&ys(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function We(t,i,a){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+ln(a):""}function vs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ln(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function On(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Es.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Hu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Hu(t,d,i[d])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Mf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vr=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pr=null,kr=null;function Xo(t){var i=rr(t);if(i&&(t=i.stateNode)){var a=t[vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(s(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Yo(l)}break e;case"textarea":We(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Mr(t,!!a.multiple,i,!1)}}}var ar=!1;function Fu(t,i,a){if(ar)return t(i,a);ar=!0;try{var l=t(i);return l}finally{if(ar=!1,(Pr!==null||kr!==null)&&(Uc(),Pr&&(i=Pr,t=kr,kr=Pr=null,Xo(i),t)))for(i=0;i<t.length;i++)Xo(t[i])}}function Ts(t,i){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Qn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Mn=!1}var or=null,gi=null,Ur=null;function Wo(){if(Ur)return Ur;var t,i=gi,a=i.length,l,h="value"in or?or.value:or.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ur=h.slice(t,1<l?1-l:void 0)}function lr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function Zo(){return!1}function kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:Zo,this.isPropagationStopped=Zo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=kt(Ge),bs=E({},Ge,{view:0,detail:0}),Gu=kt(bs),Ea,Ta,cr,ws=E({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(Ea=t.screenX-cr.screenX,Ta=t.screenY-cr.screenY):Ta=Ea=0,cr=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Vn=kt(ws),Ku=E({},ws,{dataTransfer:0}),Vf=kt(Ku),As=E({},bs,{relatedTarget:0}),Sa=kt(As),Jo=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=kt(Jo),Yu=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=kt(Yu),Pf=E({},Ge,{data:0}),el=kt(Pf),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$u[t])?!!i[t]:!1}function Is(){return tl}var Xu=E({},bs,{key:function(t){if(t.key){var i=Rs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=kt(Xu),Wu=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=kt(Wu),Lr=E({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),Zu=kt(Lr),Ju=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=kt(Ju),tc=E({},ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=kt(tc),un=E({},Ge,{newState:0,oldState:0}),nc=kt(un),rc=[9,13,27,32],hr=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var g=Qn&&"TextEvent"in window&&!c,_=Qn&&(!hr||c&&8<c&&11>=c),b=" ",j=!1;function G(t,i){switch(t){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function xt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(j=!0,b);case"textInput":return t=i.data,t===b&&j?null:t;default:return null}}function je(t,i){if(Le)return t==="compositionend"||!hr&&G(t,i)?(t=Wo(),Ur=gi=or=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ut[t.type]:i==="textarea"}function jr(t,i,a,l){Pr?kr?kr.push(l):kr=[l]:Pr=l,i=Hc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Gt=null,fr=null;function rl(t){ov(t,0)}function ic(t){var i=ir(t);if(Yo(i))return t}function Cg(t,i){if(t==="change")return i}var xg=!1;if(Qn){var kf;if(Qn){var Uf="oninput"in document;if(!Uf){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Uf=typeof Dg.oninput=="function"}kf=Uf}else kf=!1;xg=kf&&(!document.documentMode||9<document.documentMode)}function Og(){Gt&&(Gt.detachEvent("onpropertychange",Ng),fr=Gt=null)}function Ng(t){if(t.propertyName==="value"&&ic(fr)){var i=[];jr(i,fr,t,Nn(t)),Fu(rl,i)}}function rb(t,i,a){t==="focusin"?(Og(),Gt=i,fr=a,Gt.attachEvent("onpropertychange",Ng)):t==="focusout"&&Og()}function ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(fr)}function sb(t,i){if(t==="click")return ic(i)}function ab(t,i){if(t==="input"||t==="change")return ic(i)}function ob(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:ob;function il(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Zt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,i){var a=Mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function Pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ys(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ys(t.document)}return i}function Lf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var lb=Qn&&"documentMode"in document&&11>=document.documentMode,Ia=null,jf=null,sl=null,zf=!1;function Ug(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zf||Ia==null||Ia!==ys(l)||(l=Ia,"selectionStart"in l&&Lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Hc(jf,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Bf={},Lg={};Qn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function xs(t){if(Bf[t])return Bf[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lg)return Bf[t]=i[a];return t}var jg=xs("animationend"),zg=xs("animationiteration"),Bg=xs("animationstart"),ub=xs("transitionrun"),cb=xs("transitionstart"),hb=xs("transitioncancel"),qg=xs("transitionend"),Hg=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function $n(t,i){Hg.set(t,i),Yn(i,[t])}var Fg=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ga(i)},Fg.set(t,i),i)}return{value:t,source:i,stack:ga(i)}}var kn=[],xa=0,Hf=0;function sc(){for(var t=xa,i=Hf=xa=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Gg(a,h,d)}}function ac(t,i,a,l){kn[xa++]=t,kn[xa++]=i,kn[xa++]=a,kn[xa++]=l,Hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ff(t,i,a,l){return ac(t,i,a,l),oc(t)}function Da(t,i){return ac(t,null,null,i),oc(t)}function Gg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Jt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(t){if(50<Dl)throw Dl=0,Xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function fb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new fb(t,i,a,l)}function Gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function lc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Gf(t)&&(v=1);else if(typeof t=="string")v=mw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,i,h),t.elementType=C,t.lanes=d,t;case F:return Ds(a.children,h,d,i);case Y:v=8,h|=24;break;case N:return t=Tn(12,a,i,h|2),t.elementType=N,t.lanes=d,t;case oe:return t=Tn(13,a,i,h),t.elementType=oe,t.lanes=d,t;case ue:return t=Tn(19,a,i,h),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case ee:v=10;break e;case J:v=9;break e;case ce:v=11;break e;case x:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function Kf(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function Yf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Na=[],Ma=0,uc=null,cc=0,Un=[],Ln=0,Os=null,Br=1,qr="";function Ns(t,i){Na[Ma++]=cc,Na[Ma++]=uc,uc=t,cc=i}function Yg(t,i,a){Un[Ln++]=Br,Un[Ln++]=qr,Un[Ln++]=Os,Os=t;var l=Br;t=qr;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Br=1<<32-Jt(i)+h|a<<h|l,qr=d+t}else Br=1<<d|a<<h|l,qr=t}function Qf(t){t.return!==null&&(Ns(t,1),Yg(t,1,0))}function $f(t){for(;t===uc;)uc=Na[--Ma],Na[Ma]=null,cc=Na[--Ma],Na[Ma]=null;for(;t===Os;)Os=Un[--Ln],Un[Ln]=null,qr=Un[--Ln],Un[Ln]=null,Br=Un[--Ln],Un[Ln]=null}var cn=null,dt=null,Fe=!1,Ms=null,dr=!1,Xf=Error(s(519));function Vs(t){var i=Error(s(418,""));throw ll(Pn(i,t)),Xf}function Qg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ct]=t,i[vt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ve(Nl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),_s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),vs(i,l.value,l.defaultValue,l.children),ya(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||hv(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||Vs(t)}function $g(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:cn=cn.return}}function al(t){if(t!==cn)return!1;if(!Fe)return $g(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||fm(t.type,t.memoizedProps)),a=!a),a&&dt&&Vs(t),$g(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){dt=Wn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}dt=null}}else i===27?(i=dt,Ni(t.type)?(t=gm,gm=null,dt=t):dt=i):dt=cn?Wn(t.stateNode.nextSibling):null;return!0}function ol(){dt=cn=null,Fe=!1}function Xg(){var t=Ms;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Ms=null),t}function ll(t){Ms===null?Ms=[t]:Ms.push(t)}var Wf=Z(null),Ps=null,Hr=null;function yi(t,i,a){re(Wf,i._currentValue),i._currentValue=a}function Fr(t){t._currentValue=Wf.current,ie(Wf)}function Zf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Jf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Zf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Zf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ul(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===lt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&Jf(i,t,a,l),i.flags|=262144}function hc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Ps=t,Hr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return Wg(Ps,t)}function fc(t,i){return Ps===null&&ks(t),Wg(t,i)}function Wg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hr===null){if(t===null)throw Error(s(308));Hr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hr=Hr.next=i;return a}var db=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},mb=r.unstable_scheduleCallback,pb=r.unstable_NormalPriority,Ot={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ed(){return{controller:new db,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&mb(pb,function(){t.controller.abort()})}var hl=null,td=0,Va=0,Pa=null;function gb(t,i){if(hl===null){var a=hl=[];td=0,Va=rm(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return td++,i.then(Zg,Zg),i}function Zg(){if(--td===0&&hl!==null){Pa!==null&&(Pa.status="fulfilled");var t=hl;hl=null,Va=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Jg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&gb(t,i),Jg!==null&&Jg(t,i)};var Us=Z(null);function nd(){var t=Us.current;return t!==null?t:nt.pooledCache}function dc(t,i){i===null?re(Us,Us.current):re(Us,i.pool)}function ey(){var t=nd();return t===null?null:{parent:Ot._currentValue,pool:t}}var fl=Error(s(460)),ty=Error(s(474)),mc=Error(s(542)),rd={then:function(){}};function ny(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pc(){}function ry(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(pc,pc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sy(t),t;default:if(typeof i.status=="string")i.then(pc,pc);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sy(t),t}throw dl=i,fl}}var dl=null;function iy(){if(dl===null)throw Error(s(459));var t=dl;return dl=null,t}function sy(t){if(t===fl||t===mc)throw Error(s(483))}var _i=!1;function id(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=oc(t),Gg(t,null,a),i}return ac(t,l,i,a),oc(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,qo(t,a)}}function ad(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var od=!1;function pl(){if(od){var t=Pa;if(t!==null)throw t}}function gl(t,i,a,l){od=!1;var h=t.updateQueue;_i=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=I))}if(d!==null){var X=h.baseState;v=0,Q=B=I=null,T=d;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(ze&q)===q:(l&q)===q){q!==0&&q===Va&&(od=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,ve=T;q=i;var et=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){X=we.call(et,X,q);break e}X=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,q=typeof we=="function"?we.call(et,X,q):we,q==null)break e;X=E({},X,q);break e;case 2:_i=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=H,I=X):Q=Q.next=H,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Ci|=v,t.lanes=v,t.memoizedState=X}}function ay(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function oy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ay(a[t],i)}var ka=Z(null),gc=Z(0);function ly(t,i){t=Wr,re(gc,t),re(ka,i),Wr=t|i.baseLanes}function ld(){re(gc,Wr),re(ka,ka.current)}function ud(){Wr=gc.current,ie(ka),ie(gc)}var Ti=0,Oe=null,Ze=null,Tt=null,yc=!1,Ua=!1,Ls=!1,_c=0,yl=0,La=null,_b=0;function gt(){throw Error(s(321))}function cd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function hd(t,i,a,l,h,d){return Ti=d,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Gy:Ky,Ls=!1,d=a(l,h),Ls=!1,Ua&&(d=cy(i,a,l,h)),uy(t),d}function uy(t){K.H=wc;var i=Ze!==null&&Ze.next!==null;if(Ti=0,Tt=Ze=Oe=null,yc=!1,yl=0,La=null,i)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&hc(t)&&(Lt=!0))}function cy(t,i,a,l){Oe=t;var h=0;do{if(Ua&&(La=null),yl=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,Tt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Ab,d=i(a,l)}while(Ua);return d}function vb(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Oe.flags|=1024),i}function fd(){var t=_c!==0;return _c=0,t}function dd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function md(t){if(yc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yc=!1}Ti=0,Tt=Ze=Oe=null,Ua=!1,yl=_c=0,La=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Oe.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function St(){if(Ze===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Tt===null?Oe.memoizedState:Tt.next;if(i!==null)Tt=i,Ze=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Tt===null?Oe.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=yl;return yl+=1,La===null&&(La=[]),t=ry(La,t,i),i=Oe,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Gy:Ky),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===ee)return en(t)}throw Error(s(438,String(t)))}function gd(t){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pd(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Gr(t,i){return typeof i=="function"?i(t):i}function Ec(t){var i=St();return yd(i,Ze,t)}function yd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,Q=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(ze&X)===X:(Ti&X)===X){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Va&&(Q=!0);else if((Ti&q)===q){B=B.next,q===Va&&(Q=!0);continue}else X={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=X,v=d):I=I.next=X,Oe.lanes|=q,Ci|=q;X=B.action,Ls&&a(d,X),d=B.hasEagerState?B.eagerState:a(d,X)}else q={lane:X,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=q,v=d):I=I.next=q,Oe.lanes|=X,Ci|=X;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!En(d,t.memoizedState)&&(Lt=!0,Q&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _d(t){var i=St(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(Lt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function hy(t,i,a){var l=Oe,h=St(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((Ze||h).memoizedState,a);v&&(h.memoizedState=a,Lt=!0),h=h.queue;var T=my.bind(null,l,h,t);if(vl(2048,8,T,[t]),h.getSnapshot!==i||v||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,ja(9,Tc(),dy.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(Ti&124)!==0||fy(l,i,a)}return a}function fy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=pd(),Oe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function dy(t,i,a,l){i.value=a,i.getSnapshot=l,py(i)&&gy(t)}function my(t,i,a){return a(function(){py(i)&&gy(t)})}function py(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function gy(t){var i=Da(t,2);i!==null&&Rn(i,t,2)}function vd(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),Ls){_n(!0);try{a()}finally{_n(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},i}function yy(t,i,a,l){return t.baseState=a,yd(t,Ze,typeof l=="function"?l:Gr)}function Eb(t,i,a,l,h){if(bc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,_y(i,d)):(d.next=a.next,i.pending=a.next=d)}}function _y(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),I=K.S;I!==null&&I(v,T),vy(t,i,T)}catch(B){Ed(t,i,B)}finally{K.T=d}}else try{d=a(h,l),vy(t,i,d)}catch(B){Ed(t,i,B)}}function vy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ey(t,i,l)},function(l){return Ed(t,i,l)}):Ey(t,i,a)}function Ey(t,i,a){i.status="fulfilled",i.value=a,Ty(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,_y(t,a)))}function Ed(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ty(i),i=i.next;while(i!==l)}t.action=null}function Ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sy(t,i){return i}function by(t,i){if(Fe){var a=nt.formState;if(a!==null){e:{var l=Oe;if(Fe){if(dt){t:{for(var h=dt,d=dr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Wn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=l,a=qy.bind(null,Oe,l),l.dispatch=a,l=vd(!1),d=Ad.bind(null,Oe,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Eb.bind(null,Oe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function wy(t){var i=St();return Ay(i,Ze,t)}function Ay(t,i,a){if(i=yd(t,i,Sy)[0],t=Ec(Gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(v){throw v===fl?mc:v}else l=i;i=St();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,ja(9,Tc(),Tb.bind(null,h,a),null)),[l,d,t]}function Tb(t,i){t.action=i}function Ry(t){var i=St(),a=Ze;if(a!==null)return Ay(i,a,t);St(),i=i.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=pd(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Tc(){return{destroy:void 0,resource:void 0}}function Iy(){return St().memoizedState}function Sc(t,i,a,l){var h=fn();l=l===void 0?null:l,Oe.flags|=t,h.memoizedState=ja(1|i,Tc(),a,l)}function vl(t,i,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&cd(l,Ze.memoizedState.deps)?h.memoizedState=ja(i,d,a,l):(Oe.flags|=t,h.memoizedState=ja(1|i,d,a,l))}function Cy(t,i){Sc(8390656,8,t,i)}function xy(t,i){vl(2048,8,t,i)}function Dy(t,i){return vl(4,2,t,i)}function Oy(t,i){return vl(4,4,t,i)}function Ny(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function My(t,i,a){a=a!=null?a.concat([t]):null,vl(4,4,Ny.bind(null,i,t),a)}function Td(){}function Vy(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&cd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Py(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&cd(i,l[1]))return l[0];if(l=t(),Ls){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,i],l}function Sd(t,i,a){return a===void 0||(Ti&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=L_(),Oe.lanes|=t,Ci|=t,a)}function ky(t,i,a,l){return En(a,i)?a:ka.current!==null?(t=Sd(t,a,l),En(t,i)||(Lt=!0),t):(Ti&42)===0?(Lt=!0,t.memoizedState=a):(t=L_(),Oe.lanes|=t,Ci|=t,i)}function Uy(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Ad(t,!1,i,a);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=yb(I,l);El(t,i,Q,An(t))}else El(t,i,l,An(t))}catch(X){El(t,i,{then:function(){},status:"rejected",reason:X},An())}finally{le.p=d,K.T=v}}function Sb(){}function bd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ly(t).queue;Uy(t,h,i,de,a===null?Sb:function(){return jy(t),a(l)})}function Ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function jy(t){var i=Ly(t).next.queue;El(t,i,{},An())}function wd(){return en(Ll)}function zy(){return St().memoizedState}function By(){return St().memoizedState}function bb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=vi(a);var l=Ei(i,t,a);l!==null&&(Rn(l,i,a),ml(l,i,a)),i={cache:ed()},t.payload=i;return}i=i.return}}function wb(t,i,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(t)?Hy(i,a):(a=Ff(t,i,a,l),a!==null&&(Rn(a,t,l),Fy(a,i,l)))}function qy(t,i,a){var l=An();El(t,i,a,l)}function El(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(t))Hy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,v))return ac(t,i,h,0),nt===null&&sc(),!1}catch{}finally{}if(a=Ff(t,i,h,l),a!==null)return Rn(a,t,l),Fy(a,i,l),!0}return!1}function Ad(t,i,a,l){if(l={lane:2,revertLane:rm(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(t)){if(i)throw Error(s(479))}else i=Ff(t,a,l,2),i!==null&&Rn(i,t,2)}function bc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function Hy(t,i){Ua=yc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Fy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,qo(t,a)}}var wc={readContext:en,use:vc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Gy={readContext:en,use:vc,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:en,useEffect:Cy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,Ny.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Sc(4194308,4,t,i)},useInsertionEffect:function(t,i){Sc(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(Ls){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(Ls){_n(!0);try{a(i)}finally{_n(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wb.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=vd(t);var i=t.queue,a=qy.bind(null,Oe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(t,i){var a=fn();return Sd(a,t,i)},useTransition:function(){var t=vd(!1);return t=Uy.bind(null,Oe,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Oe,h=fn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(ze&124)!==0||fy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Cy(my.bind(null,l,d,t),[t]),l.flags|=2048,ja(9,Tc(),dy.bind(null,l,d,a,i),null),a},useId:function(){var t=fn(),i=nt.identifierPrefix;if(Fe){var a=qr,l=Br;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=_b++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:wd,useFormState:by,useActionState:by,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ad.bind(null,Oe,!0,a),a.dispatch=i,[t,i]},useMemoCache:gd,useCacheRefresh:function(){return fn().memoizedState=bb.bind(null,Oe)}},Ky={readContext:en,use:vc,useCallback:Vy,useContext:en,useEffect:xy,useImperativeHandle:My,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:Py,useReducer:Ec,useRef:Iy,useState:function(){return Ec(Gr)},useDebugValue:Td,useDeferredValue:function(t,i){var a=St();return ky(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Ec(Gr)[0],i=St().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:wd,useFormState:wy,useActionState:wy,useOptimistic:function(t,i){var a=St();return yy(a,Ze,t,i)},useMemoCache:gd,useCacheRefresh:By},Ab={readContext:en,use:vc,useCallback:Vy,useContext:en,useEffect:xy,useImperativeHandle:My,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:Py,useReducer:_d,useRef:Iy,useState:function(){return _d(Gr)},useDebugValue:Td,useDeferredValue:function(t,i){var a=St();return Ze===null?Sd(a,t,i):ky(a,Ze.memoizedState,t,i)},useTransition:function(){var t=_d(Gr)[0],i=St().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:wd,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,i){var a=St();return Ze!==null?yy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:By},za=null,Tl=0;function Ac(t){var i=Tl;return Tl+=1,za===null&&(za=[]),ry(za,t,i)}function Sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Rc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Yy(t){var i=t._init;return i(t._payload)}function Qy(t){function i(k,M){if(t){var z=k.deletions;z===null?(k.deletions=[M],k.flags|=16):z.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=zr(k,M),k.index=0,k.sibling=null,k}function d(k,M,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<M?(k.flags|=67108866,M):z):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,z,$){return M===null||M.tag!==6?(M=Kf(z,k.mode,$),M.return=k,M):(M=h(M,z),M.return=k,M)}function I(k,M,z,$){var fe=z.type;return fe===F?Q(k,M,z.props.children,$,z.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Yy(fe)===M.type)?(M=h(M,z.props),Sl(M,z),M.return=k,M):(M=lc(z.type,z.key,z.props,null,k.mode,$),Sl(M,z),M.return=k,M)}function B(k,M,z,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Yf(z,k.mode,$),M.return=k,M):(M=h(M,z.children||[]),M.return=k,M)}function Q(k,M,z,$,fe){return M===null||M.tag!==7?(M=Ds(z,k.mode,$,fe),M.return=k,M):(M=h(M,z),M.return=k,M)}function X(k,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Kf(""+M,k.mode,z),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return z=lc(M.type,M.key,M.props,null,k.mode,z),Sl(z,M),z.return=k,z;case L:return M=Yf(M,k.mode,z),M.return=k,M;case A:var $=M._init;return M=$(M._payload),X(k,M,z)}if(st(M)||U(M))return M=Ds(M,k.mode,z,null),M.return=k,M;if(typeof M.then=="function")return X(k,Ac(M),z);if(M.$$typeof===ee)return X(k,fc(k,M),z);Rc(k,M)}return null}function q(k,M,z,$){var fe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(k,M,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===fe?I(k,M,z,$):null;case L:return z.key===fe?B(k,M,z,$):null;case A:return fe=z._init,z=fe(z._payload),q(k,M,z,$)}if(st(z)||U(z))return fe!==null?null:Q(k,M,z,$,null);if(typeof z.then=="function")return q(k,M,Ac(z),$);if(z.$$typeof===ee)return q(k,M,fc(k,z),$);Rc(k,z)}return null}function H(k,M,z,$,fe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(z)||null,T(M,k,""+$,fe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return k=k.get($.key===null?z:$.key)||null,I(M,k,$,fe);case L:return k=k.get($.key===null?z:$.key)||null,B(M,k,$,fe);case A:var Ne=$._init;return $=Ne($._payload),H(k,M,z,$,fe)}if(st($)||U($))return k=k.get(z)||null,Q(M,k,$,fe,null);if(typeof $.then=="function")return H(k,M,z,Ac($),fe);if($.$$typeof===ee)return H(k,M,z,fc(M,$),fe);Rc(M,$)}return null}function we(k,M,z,$){for(var fe=null,Ne=null,pe=M,Ee=M=0,zt=null;pe!==null&&Ee<z.length;Ee++){pe.index>Ee?(zt=pe,pe=null):zt=pe.sibling;var He=q(k,pe,z[Ee],$);if(He===null){pe===null&&(pe=zt);break}t&&pe&&He.alternate===null&&i(k,pe),M=d(He,M,Ee),Ne===null?fe=He:Ne.sibling=He,Ne=He,pe=zt}if(Ee===z.length)return a(k,pe),Fe&&Ns(k,Ee),fe;if(pe===null){for(;Ee<z.length;Ee++)pe=X(k,z[Ee],$),pe!==null&&(M=d(pe,M,Ee),Ne===null?fe=pe:Ne.sibling=pe,Ne=pe);return Fe&&Ns(k,Ee),fe}for(pe=l(pe);Ee<z.length;Ee++)zt=H(pe,k,Ee,z[Ee],$),zt!==null&&(t&&zt.alternate!==null&&pe.delete(zt.key===null?Ee:zt.key),M=d(zt,M,Ee),Ne===null?fe=zt:Ne.sibling=zt,Ne=zt);return t&&pe.forEach(function(Ui){return i(k,Ui)}),Fe&&Ns(k,Ee),fe}function ve(k,M,z,$){if(z==null)throw Error(s(151));for(var fe=null,Ne=null,pe=M,Ee=M=0,zt=null,He=z.next();pe!==null&&!He.done;Ee++,He=z.next()){pe.index>Ee?(zt=pe,pe=null):zt=pe.sibling;var Ui=q(k,pe,He.value,$);if(Ui===null){pe===null&&(pe=zt);break}t&&pe&&Ui.alternate===null&&i(k,pe),M=d(Ui,M,Ee),Ne===null?fe=Ui:Ne.sibling=Ui,Ne=Ui,pe=zt}if(He.done)return a(k,pe),Fe&&Ns(k,Ee),fe;if(pe===null){for(;!He.done;Ee++,He=z.next())He=X(k,He.value,$),He!==null&&(M=d(He,M,Ee),Ne===null?fe=He:Ne.sibling=He,Ne=He);return Fe&&Ns(k,Ee),fe}for(pe=l(pe);!He.done;Ee++,He=z.next())He=H(pe,k,Ee,He.value,$),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?Ee:He.key),M=d(He,M,Ee),Ne===null?fe=He:Ne.sibling=He,Ne=He);return t&&pe.forEach(function(Rw){return i(k,Rw)}),Fe&&Ns(k,Ee),fe}function et(k,M,z,$){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var fe=z.key;M!==null;){if(M.key===fe){if(fe=z.type,fe===F){if(M.tag===7){a(k,M.sibling),$=h(M,z.props.children),$.return=k,k=$;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Yy(fe)===M.type){a(k,M.sibling),$=h(M,z.props),Sl($,z),$.return=k,k=$;break e}a(k,M);break}else i(k,M);M=M.sibling}z.type===F?($=Ds(z.props.children,k.mode,$,z.key),$.return=k,k=$):($=lc(z.type,z.key,z.props,null,k.mode,$),Sl($,z),$.return=k,k=$)}return v(k);case L:e:{for(fe=z.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(k,M.sibling),$=h(M,z.children||[]),$.return=k,k=$;break e}else{a(k,M);break}else i(k,M);M=M.sibling}$=Yf(z,k.mode,$),$.return=k,k=$}return v(k);case A:return fe=z._init,z=fe(z._payload),et(k,M,z,$)}if(st(z))return we(k,M,z,$);if(U(z)){if(fe=U(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ve(k,M,z,$)}if(typeof z.then=="function")return et(k,M,Ac(z),$);if(z.$$typeof===ee)return et(k,M,fc(k,z),$);Rc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(k,M.sibling),$=h(M,z),$.return=k,k=$):(a(k,M),$=Kf(z,k.mode,$),$.return=k,k=$),v(k)):a(k,M)}return function(k,M,z,$){try{Tl=0;var fe=et(k,M,z,$);return za=null,fe}catch(pe){if(pe===fl||pe===mc)throw pe;var Ne=Tn(29,pe,null,k.mode);return Ne.lanes=$,Ne.return=k,Ne}finally{}}}var Ba=Qy(!0),$y=Qy(!1),jn=Z(null),mr=null;function Si(t){var i=t.alternate;re(Nt,Nt.current&1),re(jn,t),mr===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(mr=t)}function Xy(t){if(t.tag===22){if(re(Nt,Nt.current),re(jn,t),mr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(mr=t)}}else bi()}function bi(){re(Nt,Nt.current),re(jn,jn.current)}function Kr(t){ie(jn),mr===t&&(mr=null),ie(Nt)}var Nt=Z(0);function Ic(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Id={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=vi(l);h.payload=i,a!=null&&(h.callback=a),i=Ei(t,h,l),i!==null&&(Rn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=vi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ei(t,h,l),i!==null&&(Rn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=vi(a);l.tag=2,i!=null&&(l.callback=i),i=Ei(t,l,a),i!==null&&(Rn(i,t,a),ml(i,t,a))}};function Wy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Id.enqueueReplaceState(i,i.state,null)}function js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jy(t){Cc(t)}function e_(t){console.error(t)}function t_(t){Cc(t)}function xc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function n_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cd(t,i,a){return a=vi(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(t,i)},a}function r_(t){return t=vi(t),t.tag=3,t}function i_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){n_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){n_(i,a,l),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Rb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ul(i,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 13:return mr===null?Zd():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),em(t,l,h)),!1;case 22:return a.flags|=65536,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),em(t,l,h)),!1}throw Error(s(435,a.tag))}return em(t,l,h),Zd(),!1}if(Fe)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Xf&&(t=Error(s(422),{cause:l}),ll(Pn(t,a)))):(l!==Xf&&(i=Error(s(423),{cause:l}),ll(Pn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=Cd(t.stateNode,l,h),ad(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),xl===null?xl=[d]:xl.push(d),mt!==4&&(mt=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Cd(a.stateNode,l,t),ad(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xi===null||!xi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=r_(h),i_(h,t,a,l),ad(a,h),!1}a=a.return}while(a!==null);return!1}var s_=Error(s(461)),Lt=!1;function Kt(t,i,a,l){i.child=t===null?$y(i,null,a,l):Ba(i,t.child,a,l)}function a_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ks(i),l=hd(t,i,a,v,d,h),T=fd(),t!==null&&!Lt?(dd(t,i,h),Yr(t,i,h)):(Fe&&T&&Qf(i),i.flags|=1,Kt(t,i,l,h),i.child)}function o_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Gf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,l_(t,i,d,l,h)):(t=lc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!kd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(v,l)&&t.ref===i.ref)return Yr(t,i,h)}return i.flags|=1,t=zr(d,l),t.ref=i.ref,t.return=i,i.child=t}function l_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(Lt=!1,i.pendingProps=l=d,kd(t,h))(t.flags&131072)!==0&&(Lt=!0);else return i.lanes=t.lanes,Yr(t,i,h)}return xd(t,i,a,l,h)}function u_(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return c_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&dc(i,d!==null?d.cachePool:null),d!==null?ly(i,d):ld(),Xy(i);else return i.lanes=i.childLanes=536870912,c_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(i,d.cachePool),ly(i,d),bi(),i.memoizedState=null):(t!==null&&dc(i,null),ld(),bi());return Kt(t,i,h,a),i.child}function c_(t,i,a,l){var h=nd();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&dc(i,null),ld(),Xy(i),t!==null&&ul(t,i,l,!0),null}function Dc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function xd(t,i,a,l,h){return ks(i),a=hd(t,i,a,l,void 0,h),l=fd(),t!==null&&!Lt?(dd(t,i,h),Yr(t,i,h)):(Fe&&l&&Qf(i),i.flags|=1,Kt(t,i,a,h),i.child)}function h_(t,i,a,l,h,d){return ks(i),i.updateQueue=null,a=cy(i,l,a,h),uy(t),l=fd(),t!==null&&!Lt?(dd(t,i,d),Yr(t,i,d)):(Fe&&l&&Qf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function f_(t,i,a,l,h){if(ks(i),i.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=en(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},id(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?en(v):Oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Rd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Id.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=js(a,T);d.props=I;var B=d.context,Q=a.contextType;v=Oa,typeof Q=="object"&&Q!==null&&(v=en(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&Zy(i,d,l,v),_i=!1;var q=i.memoizedState;d.state=q,gl(i,l,d,h),pl(),B=i.memoizedState,T||q!==B||_i?(typeof X=="function"&&(Rd(i,a,X,l),B=i.memoizedState),(I=_i||Wy(i,a,I,l,q,B,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,sd(t,i),v=i.memoizedProps,Q=js(a,v),d.props=Q,X=i.pendingProps,q=d.context,B=a.contextType,I=Oa,typeof B=="object"&&B!==null&&(I=en(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||q!==I)&&Zy(i,d,l,I),_i=!1,q=i.memoizedState,d.state=q,gl(i,l,d,h),pl();var H=i.memoizedState;v!==X||q!==H||_i||t!==null&&t.dependencies!==null&&hc(t.dependencies)?(typeof T=="function"&&(Rd(i,a,T,l),H=i.memoizedState),(Q=_i||Wy(i,a,Q,l,q,H,I)||t!==null&&t.dependencies!==null&&hc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Dc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ba(i,t.child,null,h),i.child=Ba(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yr(t,i,h),t}function d_(t,i,a,l){return ol(),i.flags|=256,Kt(t,i,a,l),i.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Od(t){return{baseLanes:t,cachePool:ey()}}function Nd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=zn),t}function m_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Si(i):bi(),Fe){var T=dt,I;if(I=T){e:{for(I=T,T=dr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Wn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Os!==null?{id:Br,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},I=Tn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,cn=i,dt=null,I=!0):I=!1}I||Vs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return pm(T)?i.lanes=32:i.lanes=536870912,null;Kr(i)}return T=l.children,l=l.fallback,h?(bi(),h=i.mode,T=Oc({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Od(a),h.childLanes=Nd(t,v,a),i.memoizedState=Dd,l):(Si(i),Md(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Si(i),i.flags&=-257,i=Vd(t,i,a)):i.memoizedState!==null?(bi(),i.child=t.child,i.flags|=128,i=null):(bi(),h=l.fallback,T=i.mode,l=Oc({mode:"visible",children:l.children},T),h=Ds(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ba(i,t.child,null,a),l=i.child,l.memoizedState=Od(a),l.childLanes=Nd(t,v,a),i.memoizedState=Dd,i=h);else if(Si(i),pm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),i=Vd(t,i,a)}else if(Lt||ul(t,i,a,!1),v=(a&t.childLanes)!==0,Lt||v){if(v=nt,v!==null&&(l=a&-a,l=(l&42)!==0?1:ci(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Da(t,l),Rn(v,t,l),s_;T.data==="$?"||Zd(),i=Vd(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,dt=Wn(T.nextSibling),cn=i,Fe=!0,Ms=null,dr=!1,t!==null&&(Un[Ln++]=Br,Un[Ln++]=qr,Un[Ln++]=Os,Br=t.id,qr=t.overflow,Os=i),i=Md(i,l.children),i.flags|=4096);return i}return h?(bi(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=zr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=zr(B,h):(h=Ds(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Od(a):(I=T.cachePool,I!==null?(B=Ot._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=ey(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Nd(t,v,a),i.memoizedState=Dd,l):(Si(i),a=t.child,t=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Md(t,i){return i=Oc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Oc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Vd(t,i,a){return Ba(i,t.child,null,a),t=Md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function p_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Zf(t.return,i,a)}function Pd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function g_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(t,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,a,i);else if(t.tag===19)p_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Nt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Pd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ic(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Pd(i,!0,a,null,d);break;case"together":Pd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ci|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ul(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function kd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&hc(t)))}function Ib(t,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),yi(i,Ot,t.memoizedState.cache),ol();break;case 27:case 5:Cn(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:yi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Si(i),i.flags|=128,null):(a&i.child.childLanes)!==0?m_(t,i,a):(Si(i),t=Yr(t,i,a),t!==null?t.sibling:null);Si(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ul(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return g_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,u_(t,i,a);case 24:yi(i,Ot,t.memoizedState.cache)}return Yr(t,i,a)}function y_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Lt=!0;else{if(!kd(t,a)&&(i.flags&128)===0)return Lt=!1,Ib(t,i,a);Lt=(t.flags&131072)!==0}else Lt=!1,Fe&&(i.flags&1048576)!==0&&Yg(i,cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Gf(l)?(t=js(l,t),i.tag=1,i=f_(null,i,l,t,a)):(i.tag=0,i=xd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ce){i.tag=11,i=a_(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=o_(null,i,l,t,a);break e}}throw i=It(l)||l,Error(s(306,i,""))}}return i;case 0:return xd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=js(l,i.pendingProps),f_(t,i,l,h,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,sd(t,i),gl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,yi(i,Ot,l),l!==d.cache&&Jf(i,[Ot],a,!0),pl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=d_(t,i,l,a);break e}else if(l!==h){h=Pn(Error(s(424)),i),ll(h),i=d_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Wn(t.firstChild),cn=i,Fe=!0,Ms=null,dr=!0,a=$y(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ol(),l===h){i=Yr(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return Dc(t,i),t===null?(a=Tv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Gc(ye.current).createElement(a),l[Ct]=i,l[vt]=t,Qt(l,a,t),pt(l),i.stateNode=l):i.memoizedState=Tv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Cn(i),t===null&&Fe&&(l=i.stateNode=_v(i.type,i.pendingProps,ye.current),cn=i,dr=!0,h=dt,Ni(i.type)?(gm=h,dt=Wn(l.firstChild)):dt=h),Kt(t,i,i.pendingProps.children,a),Dc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=dt)&&(l=tw(l,i.type,i.pendingProps,dr),l!==null?(i.stateNode=l,cn=i,dt=Wn(l.firstChild),dr=!1,h=!0):h=!1),h||Vs(i)),Cn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,fm(h,d)?l=null:v!==null&&fm(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=hd(t,i,vb,null,null,a),Ll._currentValue=h),Dc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=dt)&&(a=nw(a,i.pendingProps,dr),a!==null?(i.stateNode=a,cn=i,dt=null,t=!0):t=!1),t||Vs(i)),null;case 13:return m_(t,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ba(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return a_(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,yi(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ks(i),h=en(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return o_(t,i,i.type,i.pendingProps,a);case 15:return l_(t,i,i.type,i.pendingProps,a);case 19:return g_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Oc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=zr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return u_(t,i,a);case 24:return ks(i),l=en(Ot),t===null?(h=nd(),h===null&&(h=nt,d=ed(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},id(i),yi(i,Ot,h)):((t.lanes&a)!==0&&(sd(t,i),gl(i,null,null,a),pl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),yi(i,Ot,l)):(l=d.cache,yi(i,Ot,l),l!==h.cache&&Jf(i,[Ot],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qr(t){t.flags|=4}function __(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rv(i)){if(i=jn.current,i!==null&&((ze&4194048)===ze?mr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==mr))throw dl=rd,ty;t.flags|=8192}}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?zo():536870912,t.lanes|=i,Ga|=i)}function bl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Cb(t,i,a){var l=i.pendingProps;switch($f(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fr(Ot),Pt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(i)?Qr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xg())),ut(i),null;case 26:return a=i.memoizedState,t===null?(Qr(i),a!==null?(ut(i),__(i,a)):(ut(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Qr(i),ut(i),__(i,a)):(ut(i),i.flags&=-16777217):(t.memoizedProps!==l&&Qr(i),ut(i),i.flags&=-16777217),null;case 27:hn(i),a=ye.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ut(i),null}t=me.current,al(i)?Qg(i):(t=_v(h,l,a),i.stateNode=t,Qr(i))}return ut(i),null;case 5:if(hn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ut(i),null}if(t=me.current,al(i))Qg(i);else{switch(h=Gc(ye.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ct]=i,t[vt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Qr(i)}}return ut(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ye.current,al(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hv(t.nodeValue,a)),t||Vs(i)}else t=Gc(t).createTextNode(l),t[Ct]=i,i.stateNode=t}return ut(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=al(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=i}else ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=Xg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Kr(i),i):(Kr(i),null)}if(Kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),ut(i),null;case 4:return Pt(),t===null&&om(i.stateNode.containerInfo),ut(i),null;case 10:return Fr(i.type),ut(i),null;case 19:if(ie(Nt),h=i.memoizedState,h===null)return ut(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)bl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ic(t),d!==null){for(i.flags|=128,bl(h,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Kg(a,t),a=a.sibling;return re(Nt,Nt.current&1|2),i.child}t=t.sibling}h.tail!==null&&xn()>Pc&&(i.flags|=128,l=!0,bl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Ic(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(i),null}else 2*xn()-h.renderingStartTime>Pc&&a!==536870912&&(i.flags|=128,l=!0,bl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=xn(),i.sibling=null,t=Nt.current,re(Nt,l?t&1|2:t&1),i):(ut(i),null);case 22:case 23:return Kr(i),ud(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ie(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fr(Ot),ut(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xb(t,i){switch($f(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fr(Ot),Pt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return hn(i),null;case 13:if(Kr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ol()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ie(Nt),null;case 4:return Pt(),null;case 10:return Fr(i.type),null;case 22:case 23:return Kr(i),ud(),t!==null&&ie(Us),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fr(Ot),null;case 25:return null;default:return null}}function v_(t,i){switch($f(i),i.tag){case 3:Fr(Ot),Pt();break;case 26:case 27:case 5:hn(i);break;case 4:Pt();break;case 13:Kr(i);break;case 19:ie(Nt);break;case 10:Fr(i.type);break;case 22:case 23:Kr(i),ud(),t!==null&&ie(Us);break;case 24:Fr(Ot)}}function wl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){tt(i,i.return,T)}}function wi(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(Q){tt(h,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){tt(i,i.return,Q)}}function E_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{oy(i,a)}catch(l){tt(t,t.return,l)}}}function T_(t,i,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,i,h)}}function pr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function S_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Ud(t,i,a){try{var l=t.stateNode;Xb(l,t.type,a,i),l[vt]=i}catch(h){tt(t,t.return,h)}}function b_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(jd(t,i,a),t=t.sibling;t!==null;)jd(t,i,a),t=t.sibling}function Mc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mc(t,i,a),t=t.sibling;t!==null;)Mc(t,i,a),t=t.sibling}function w_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[Ct]=t,i[vt]=a}catch(d){tt(t,t.return,d)}}var $r=!1,yt=!1,zd=!1,A_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Db(t,i){if(t=t.containerInfo,cm=Wc,t=kg(t),Lf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Q=0,X=t,q=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||l!==0&&X.nodeType!==3||(I=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(H=X.firstChild)!==null;)q=X,X=H;for(;;){if(X===t)break t;if(q===a&&++B===h&&(T=v),q===d&&++Q===l&&(I=v),(H=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:t,selectionRange:a},Wc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){tt(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)mm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function R_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ai(t,a),l&4&&wl(5,a);break;case 1:if(Ai(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){tt(a,a.return,v)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}l&64&&E_(a),l&512&&Al(a,a.return);break;case 3:if(Ai(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{oy(t,i)}catch(v){tt(a,a.return,v)}}break;case 27:i===null&&l&4&&w_(a);case 26:case 5:Ai(t,a),i===null&&l&4&&S_(a),l&512&&Al(a,a.return);break;case 12:Ai(t,a);break;case 13:Ai(t,a),l&4&&x_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=jb.bind(null,a),rw(t,a))));break;case 22:if(l=a.memoizedState!==null||$r,!l){i=i!==null&&i.memoizedState!==null||yt,h=$r;var d=yt;$r=l,(yt=i)&&!d?Ri(t,a,(a.subtreeFlags&8772)!==0):Ai(t,a),$r=h,yt=d}break;case 30:break;default:Ai(t,a)}}function I_(t){var i=t.alternate;i!==null&&(t.alternate=null,I_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&di(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,dn=!1;function Xr(t,i,a){for(a=a.child;a!==null;)C_(t,i,a),a=a.sibling}function C_(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||pr(a,i),Xr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||pr(a,i);var l=ot,h=dn;Ni(a.type)&&(ot=a.stateNode,dn=!1),Xr(t,i,a),Vl(a.stateNode),ot=l,dn=h;break;case 5:yt||pr(a,i);case 6:if(l=ot,h=dn,ot=null,Xr(t,i,a),ot=l,dn=h,ot!==null)if(dn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:ot!==null&&(dn?(t=ot,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ql(t)):gv(ot,a.stateNode));break;case 4:l=ot,h=dn,ot=a.stateNode.containerInfo,dn=!0,Xr(t,i,a),ot=l,dn=h;break;case 0:case 11:case 14:case 15:yt||wi(2,a,i),yt||wi(4,a,i),Xr(t,i,a);break;case 1:yt||(pr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&T_(a,i,l)),Xr(t,i,a);break;case 21:Xr(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Xr(t,i,a),yt=l;break;default:Xr(t,i,a)}}function x_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(a){tt(i,i.return,a)}}function Ob(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new A_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new A_),i;default:throw Error(s(435,t.tag))}}function Bd(t,i){var a=Ob(t);i.forEach(function(l){var h=zb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ni(T.type)){ot=T.stateNode,dn=!1;break e}break;case 5:ot=T.stateNode,dn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ot===null)throw Error(s(160));C_(d,v,h),ot=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)D_(i,t),i=i.sibling}var Xn=null;function D_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(i,t),bn(t),l&4&&(wi(3,t,t.return),wl(3,t),wi(5,t,t.return));break;case 1:Sn(i,t),bn(t),l&512&&(yt||a===null||pr(a,a.return)),l&64&&$r&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(Sn(i,t),bn(t),l&512&&(yt||a===null||pr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ms]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[Ct]=t,pt(d),l=d;break e;case"link":var v=wv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=wv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ct]=t,pt(d),l=d}t.stateNode=l}else Av(h,t.type,t.stateNode);else t.stateNode=bv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Av(h,t.type,t.stateNode):bv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,t),bn(t),l&512&&(yt||a===null||pr(a,a.return)),a!==null&&l&4&&Ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,t),bn(t),l&512&&(yt||a===null||pr(a,a.return)),t.flags&32){h=t.stateNode;try{On(h,"")}catch(H){tt(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ud(t,h,a!==null?a.memoizedProps:h)),l&1024&&(zd=!0);break;case 6:if(Sn(i,t),bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){tt(t,t.return,H)}}break;case 3:if(Qc=null,h=Xn,Xn=Kc(i.containerInfo),Sn(i,t),Xn=h,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(i.containerInfo)}catch(H){tt(t,t.return,H)}zd&&(zd=!1,O_(t));break;case 4:l=Xn,Xn=Kc(t.stateNode.containerInfo),Sn(i,t),bn(t),Xn=l;break;case 12:Sn(i,t),bn(t);break;case 13:Sn(i,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yd=xn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=$r,Q=yt;if($r=B||h,yt=Q||I,Sn(i,t),yt=Q,$r=B,bn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||$r||yt||zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){tt(I,I.return,H)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){tt(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bd(t,a))));break;case 19:Sn(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bd(t,l)));break;case 30:break;case 21:break;default:Sn(i,t),bn(t)}}function bn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(b_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ld(t);Mc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(On(v,""),a.flags&=-33);var T=Ld(t);Mc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Ld(t);jd(t,B,I);break;default:throw Error(s(161))}}catch(Q){tt(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function O_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;O_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ai(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)R_(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:wi(4,i,i.return),zs(i);break;case 1:pr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&T_(i,i.return,a),zs(i);break;case 27:Vl(i.stateNode);case 26:case 5:pr(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}t=t.sibling}}function Ri(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ri(h,d,a),wl(4,d);break;case 1:if(Ri(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){tt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ay(I[h],T)}catch(B){tt(l,l.return,B)}}a&&v&64&&E_(d),Al(d,d.return);break;case 27:w_(d);case 26:case 5:Ri(h,d,a),a&&l===null&&v&4&&S_(d),Al(d,d.return);break;case 12:Ri(h,d,a);break;case 13:Ri(h,d,a),a&&v&4&&x_(h,d);break;case 22:d.memoizedState===null&&Ri(h,d,a),Al(d,d.return);break;case 30:break;default:Ri(h,d,a)}i=i.sibling}}function qd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Hd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function gr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(t,i,a,l),i=i.sibling}function N_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:gr(t,i,a,l),h&2048&&wl(9,i);break;case 1:gr(t,i,a,l);break;case 3:gr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){gr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){tt(i,i.return,I)}}else gr(t,i,a,l);break;case 13:gr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?gr(t,i,a,l):Rl(t,i):d._visibility&2?gr(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&qd(v,i);break;case 24:gr(t,i,a,l),h&2048&&Hd(i.alternate,i);break;default:gr(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,T,I,h),wl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?qa(d,v,T,I,h):Rl(d,v):(Q._visibility|=2,qa(d,v,T,I,h)),h&&B&2048&&qd(v.alternate,v);break;case 24:qa(d,v,T,I,h),h&&B&2048&&Hd(v.alternate,v);break;default:qa(d,v,T,I,h)}i=i.sibling}}function Rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Rl(a,l),h&2048&&qd(l.alternate,l);break;case 24:Rl(a,l),h&2048&&Hd(l.alternate,l);break;default:Rl(a,l)}i=i.sibling}}var Il=8192;function Ha(t){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)M_(t),t=t.sibling}function M_(t){switch(t.tag){case 26:Ha(t),t.flags&Il&&t.memoizedState!==null&&gw(Xn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var i=Xn;Xn=Kc(t.stateNode.containerInfo),Ha(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Ha(t),Il=i):Ha(t));break;default:Ha(t)}}function V_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,k_(l,t)}V_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P_(t),t=t.sibling}function P_(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&wi(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Vc(t)):Cl(t);break;default:Cl(t)}}function Vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,k_(l,t)}V_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:wi(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}t=t.sibling}}function k_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:wi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(I_(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var Nb={getCacheForType:function(t){var i=en(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Mb=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Me=null,ze=0,Xe=0,wn=null,Ii=!1,Fa=!1,Fd=!1,Wr=0,mt=0,Ci=0,Bs=0,Gd=0,zn=0,Ga=0,xl=null,mn=null,Kd=!1,Yd=0,Pc=1/0,kc=null,xi=null,Yt=0,Di=null,Ka=null,Ya=0,Qd=0,$d=null,U_=null,Dl=0,Xd=null;function An(){if(($e&2)!==0&&ze!==0)return ze&-ze;if(K.T!==null){var t=Va;return t!==0?t:rm()}return hi()}function L_(){zn===0&&(zn=(ze&536870912)===0||Fe?jo():536870912);var t=jn.current;return t!==null&&(t.flags|=32),zn}function Rn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Oi(t,ze,zn,!1)),xr(t,a),(($e&2)===0||t!==nt)&&(t===nt&&(($e&2)===0&&(Bs|=a),mt===4&&Oi(t,ze,zn,!1)),yr(t))}function j_(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ds(t,i),h=l?kb(t,i):Jd(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Oi(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Vb(a)){h=Jd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=xl;var I=T.current.memoizedState.isDehydrated;if(I&&(Qa(T,v).flags|=256),v=Jd(T,v,!1),v!==2){if(Fd&&!I){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Oi(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Oi(l,i,zn,!Ii);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Yd+300-xn(),10<h)){if(Oi(l,i,zn,!Ii),ha(l,0,!0)!==0)break e;l.timeoutHandle=mv(z_.bind(null,l,a,mn,kc,Kd,i,zn,Bs,Ga,Ii,d,2,-0,0),h);break e}z_(l,a,mn,kc,Kd,i,zn,Bs,Ga,Ii,d,0,-0,0)}}break}while(!0);yr(t)}function z_(t,i,a,l,h,d,v,T,I,B,Q,X,q,H){if(t.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:pw},M_(i),X=yw(),X!==null)){t.cancelPendingCommit=X(Y_.bind(null,t,i,d,a,l,h,v,T,I,Q,1,q,H)),Oi(t,d,v,!B);return}Y_(t,i,d,a,l,h,v,T,I)}function Vb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Oi(t,i,a,l){i&=~Gd,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Jt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&nr(t,a,i)}function Uc(){return($e&6)===0?(Ol(0),!1):!0}function Wd(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,Hr=Ps=null,md(t),za=null,Tl=0,t=Me;for(;t!==null;)v_(t.alternate,t),t=t.return;Me=null}}function Qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Zb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wd(),nt=t,Me=a=zr(t.current,null),ze=i,Xe=0,wn=null,Ii=!1,Fa=ds(t,i),Fd=!1,Ga=zn=Gd=Bs=Ci=mt=0,mn=xl=null,Kd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Jt(l),d=1<<h;i|=t[h],l&=~d}return Wr=i,sc(),a}function B_(t,i){Oe=null,K.H=wc,i===fl||i===mc?(i=iy(),Xe=3):i===ty?(i=iy(),Xe=4):Xe=i===s_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Me===null&&(mt=1,xc(t,Pn(i,t.current)))}function q_(){var t=K.H;return K.H=wc,t===null?wc:t}function H_(){var t=K.A;return K.A=Nb,t}function Zd(){mt=4,Ii||(ze&4194048)!==ze&&jn.current!==null||(Fa=!0),(Ci&134217727)===0&&(Bs&134217727)===0||nt===null||Oi(nt,ze,zn,!1)}function Jd(t,i,a){var l=$e;$e|=2;var h=q_(),d=H_();(nt!==t||ze!==i)&&(kc=null,Qa(t,i)),i=!1;var v=mt;e:do try{if(Xe!==0&&Me!==null){var T=Me,I=wn;switch(Xe){case 8:Wd(),v=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var B=Xe;if(Xe=0,wn=null,$a(t,T,I,B),a&&Fa){v=0;break e}break;default:B=Xe,Xe=0,wn=null,$a(t,T,I,B)}}Pb(),v=mt;break}catch(Q){B_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Hr=Ps=null,$e=l,K.H=h,K.A=d,Me===null&&(nt=null,ze=0,sc()),v}function Pb(){for(;Me!==null;)F_(Me)}function kb(t,i){var a=$e;$e|=2;var l=q_(),h=H_();nt!==t||ze!==i?(kc=null,Pc=xn()+500,Qa(t,i)):Fa=ds(t,i);e:do try{if(Xe!==0&&Me!==null){i=Me;var d=wn;t:switch(Xe){case 1:Xe=0,wn=null,$a(t,i,d,1);break;case 2:case 9:if(ny(d)){Xe=0,wn=null,G_(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),yr(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ny(d)?(Xe=0,wn=null,G_(i)):(Xe=0,wn=null,$a(t,i,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(!v||Rv(v)){Xe=0,wn=null;var I=T.sibling;if(I!==null)Me=I;else{var B=T.return;B!==null?(Me=B,Lc(B)):Me=null}break t}}Xe=0,wn=null,$a(t,i,d,5);break;case 6:Xe=0,wn=null,$a(t,i,d,6);break;case 8:Wd(),mt=6;break e;default:throw Error(s(462))}}Ub();break}catch(Q){B_(t,Q)}while(!0);return Hr=Ps=null,K.H=l,K.A=h,$e=a,Me!==null?0:(nt=null,ze=0,sc(),mt)}function Ub(){for(;Me!==null&&!Po();)F_(Me)}function F_(t){var i=y_(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,i===null?Lc(t):Me=i}function G_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=h_(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=h_(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:md(i);default:v_(a,i),i=Me=Kg(i,Wr),i=y_(a,i,Wr)}t.memoizedProps=t.pendingProps,i===null?Lc(t):Me=i}function $a(t,i,a,l){Hr=Ps=null,md(i),za=null,Tl=0;var h=i.return;try{if(Rb(t,h,i,a,ze)){mt=1,xc(t,Pn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;mt=1,xc(t,Pn(a,t.current)),Me=null;return}i.flags&32768?(Fe||l===1?t=!0:Fa||(ze&536870912)!==0?t=!1:(Ii=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),K_(i,t)):Lc(i)}function Lc(t){var i=t;do{if((i.flags&32768)!==0){K_(i,Ii);return}t=i.return;var a=Cb(i.alternate,i,Wr);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);mt===0&&(mt=5)}function K_(t,i){do{var a=xb(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);mt=6,Me=null}function Y_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do jc();while(Yt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Hf,Bo(t,a,d,v,T,I),t===nt&&(Me=nt=null,ze=0),Ka=i,Di=t,Ya=a,Qd=d,$d=h,U_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bb(us,function(){return Z_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=le.p,le.p=2,v=$e,$e|=4;try{Db(t,i,a)}finally{$e=v,le.p=h,K.T=l}}Yt=1,Q_(),$_(),X_()}}function Q_(){if(Yt===1){Yt=0;var t=Di,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=le.p;le.p=2;var h=$e;$e|=4;try{D_(i,t);var d=hm,v=kg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Pg(T.ownerDocument.documentElement,T)){if(I!==null&&Lf(T)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var H=q.getSelection(),we=T.textContent.length,ve=Math.min(I.start,we),et=I.end===void 0?ve:Math.min(I.end,we);!H.extend&&ve>et&&(v=et,et=ve,ve=v);var k=Vg(T,ve),M=Vg(T,et);if(k&&M&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=X.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),ve>et?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var $=X[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Wc=!!cm,hm=cm=null}finally{$e=h,le.p=l,K.T=a}}t.current=i,Yt=2}}function $_(){if(Yt===2){Yt=0;var t=Di,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=le.p;le.p=2;var h=$e;$e|=4;try{R_(t,i.alternate,i)}finally{$e=h,le.p=l,K.T=a}}Yt=3}}function X_(){if(Yt===4||Yt===3){Yt=0,Vu();var t=Di,i=Ka,a=Ya,l=U_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,Ka=Di=null,W_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xi=null),fa(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=le.p,le.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,le.p=h}}(Ya&3)!==0&&jc(),yr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Xd?Dl++:(Dl=0,Xd=t):Dl=0,Ol(0)}}function W_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function jc(t){return Q_(),$_(),X_(),Z_()}function Z_(){if(Yt!==5)return!1;var t=Di,i=Qd;Qd=0;var a=fa(Ya),l=K.T,h=le.p;try{le.p=32>a?32:a,K.T=null,a=$d,$d=null;var d=Di,v=Ya;if(Yt=0,Ka=Di=null,Ya=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,P_(d.current),N_(d,d.current,v,a),$e=T,Ol(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{le.p=h,K.T=l,W_(t,i)}}function J_(t,i,a){i=Pn(a,i),i=Cd(t.stateNode,i,2),t=Ei(t,i,2),t!==null&&(xr(t,2),yr(t))}function tt(t,i,a){if(t.tag===3)J_(t,t,a);else for(;i!==null;){if(i.tag===3){J_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){t=Pn(a,t),a=r_(2),l=Ei(i,a,2),l!==null&&(i_(a,l,i,t),xr(l,2),yr(l));break}}i=i.return}}function em(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Mb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Fd=!0,h.add(a),t=Lb.bind(null,t,i,a),i.then(t,t))}function Lb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ze&a)===a&&(mt===4||mt===3&&(ze&62914560)===ze&&300>xn()-Yd?($e&2)===0&&Qa(t,0):Gd|=a,Ga===ze&&(Ga=0)),yr(t)}function ev(t,i){i===0&&(i=zo()),t=Da(t,i),t!==null&&(xr(t,i),yr(t))}function jb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ev(t,a)}function zb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ev(t,a)}function Bb(t,i){return os(t,i)}var zc=null,Xa=null,tm=!1,Bc=!1,nm=!1,qs=0;function yr(t){t!==Xa&&t.next===null&&(Xa===null?zc=Xa=t:Xa=Xa.next=t),Bc=!0,tm||(tm=!0,Hb())}function Ol(t,i){if(!nm&&Bc){nm=!0;do for(var a=!1,l=zc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,iv(l,d))}else d=ze,d=ha(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,iv(l,d));l=l.next}while(a);nm=!1}}function qb(){tv()}function tv(){Bc=tm=!1;var t=0;qs!==0&&(Wb()&&(t=qs),qs=0);for(var i=xn(),a=null,l=zc;l!==null;){var h=l.next,d=nv(l,i);d===0?(l.next=null,a===null?zc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=h}Ol(t)}function nv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Jt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Lo(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=nt,a=ze,a=ha(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ds(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ls(l),fa(a)){case 2:case 8:a=ua;break;case 32:a=us;break;case 268435456:a=ca;break;default:a=us}return l=rv.bind(null,t),a=os(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ls(l),t.callbackPriority=2,t.callbackNode=null,2}function rv(t,i){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jc()&&t.callbackNode!==a)return null;var l=ze;return l=ha(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(j_(t,l,i),nv(t,xn()),t.callbackNode!=null&&t.callbackNode===a?rv.bind(null,t):null)}function iv(t,i){if(jc())return null;j_(t,i,!0)}function Hb(){Jb(function(){($e&6)!==0?os(ko,qb):tv()})}function rm(){return qs===0&&(qs=jo()),qs}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function av(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Fb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=sv((h[vt]||null).action),v=l.submitter;v&&(i=(i=v[vt]||null)?sv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new va("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var I=v?av(h,v):new FormData(h);bd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?av(h,v):new FormData(h),bd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var im=0;im<qf.length;im++){var sm=qf[im],Gb=sm.toLowerCase(),Kb=sm[0].toUpperCase()+sm.slice(1);$n(Gb,"on"+Kb)}$n(jg,"onAnimationEnd"),$n(zg,"onAnimationIteration"),$n(Bg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(ub,"onTransitionRun"),$n(cb,"onTransitionStart"),$n(hb,"onTransitionCancel"),$n(qg,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function ov(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){Cc(Q)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){Cc(Q)}h.currentTarget=null,d=I}}}}function Ve(t,i){var a=i[Ho];a===void 0&&(a=i[Ho]=new Set);var l=t+"__bubble";a.has(l)||(lv(i,t,2,!1),a.add(l))}function am(t,i,a){var l=0;i&&(l|=4),lv(a,t,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function om(t){if(!t[qc]){t[qc]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(Yb.has(a)||am(a,!1,t),am(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qc]||(i[qc]=!0,am("selectionchange",!1,i))}}function lv(t,i,a,l){switch(Nv(i)){case 2:var h=Ew;break;case 8:h=Tw;break;default:h=Tm}a=h.bind(null,i,a,t),h=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function lm(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Dr(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Fu(function(){var B=d,Q=Nn(a),X=[];e:{var q=Hg.get(t);if(q!==void 0){var H=va,we=t;switch(t){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":H=Aa;break;case"focusin":we="focus",H=Sa;break;case"focusout":we="blur",H=Sa;break;case"beforeblur":case"afterblur":H=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Zu;break;case jg:case zg:case Bg:H=ba;break;case qg:H=ec;break;case"scroll":case"scrollend":H=Gu;break;case"wheel":H=Ra;break;case"copy":case"cut":case"paste":H=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=nl;break;case"toggle":case"beforetoggle":H=nc}var ve=(i&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),k=ve?q!==null?q+"Capture":null:q;ve=[];for(var M=B,z;M!==null;){var $=M;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||k===null||($=Ts(M,k),$!=null&&ve.push(Ml(M,$,z))),et)break;M=M.return}0<ve.length&&(q=new H(q,we,null,a,Q),X.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Vr&&(we=a.relatedTarget||a.fromElement)&&(Dr(we)||we[Dn]))break e;if((H||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,H?(we=a.relatedTarget||a.toElement,H=B,we=we?Dr(we):null,we!==null&&(et=u(we),ve=we.tag,we!==et||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(H=null,we=B),H!==we)){if(ve=Vn,$="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=nl,$="onPointerLeave",k="onPointerEnter",M="pointer"),et=H==null?q:ir(H),z=we==null?q:ir(we),q=new ve($,M+"leave",H,a,Q),q.target=et,q.relatedTarget=z,$=null,Dr(Q)===B&&(ve=new ve(k,M+"enter",we,a,Q),ve.target=z,ve.relatedTarget=et,$=ve),et=$,H&&we)t:{for(ve=H,k=we,M=0,z=ve;z;z=Wa(z))M++;for(z=0,$=k;$;$=Wa($))z++;for(;0<M-z;)ve=Wa(ve),M--;for(;0<z-M;)k=Wa(k),z--;for(;M--;){if(ve===k||k!==null&&ve===k.alternate)break t;ve=Wa(ve),k=Wa(k)}ve=null}else ve=null;H!==null&&uv(X,q,H,ve,!1),we!==null&&et!==null&&uv(X,et,we,ve,!0)}}e:{if(q=B?ir(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var fe=Cg;else if(Dt(q))if(xg)fe=ab;else{fe=ib;var Ne=rb}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&$o(B.elementType)&&(fe=Cg):fe=sb;if(fe&&(fe=fe(t,B))){jr(X,fe,a,Q);break e}Ne&&Ne(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&pi(q,"number",q.value)}switch(Ne=B?ir(B):window,t){case"focusin":(Dt(Ne)||Ne.contentEditable==="true")&&(Ia=Ne,jf=B,sl=null);break;case"focusout":sl=jf=Ia=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Ug(X,a,Q);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":Ug(X,a,Q)}var pe;if(hr)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Le?G(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Le||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Le&&(pe=Wo()):(or=Q,gi="value"in or?or.value:or.textContent,Le=!0)),Ne=Hc(B,Ee),0<Ne.length&&(Ee=new el(Ee,t,null,a,Q),X.push({event:Ee,listeners:Ne}),pe?Ee.data=pe:(pe=se(a),pe!==null&&(Ee.data=pe)))),(pe=g?xt(t,a):je(t,a))&&(Ee=Hc(B,"onBeforeInput"),0<Ee.length&&(Ne=new el("onBeforeInput","beforeinput",null,a,Q),X.push({event:Ne,listeners:Ee}),Ne.data=pe)),Fb(X,t,B,a,Q)}ov(X,i)})}function Ml(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Hc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ts(t,a),h!=null&&l.unshift(Ml(t,h,d)),h=Ts(t,i),h!=null&&l.push(Ml(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uv(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=Ts(a,d),B!=null&&v.unshift(Ml(a,B,I))):h||(B=Ts(a,d),B!=null&&v.push(Ml(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Qb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(Qb,`
`).replace($b,"")}function hv(t,i){return i=cv(i),cv(t)===i}function Fc(){}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||On(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&On(t,""+l);break;case"className":sr(t,"class",l);break;case"tabIndex":sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,a,l);break;case"style":Qo(t,l,d);break;case"data":if(i!=="object"){sr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),mi(t,"popover",l);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nf.get(a)||a,mi(t,a,l))}}function um(t,i,a,l,h,d){switch(a){case"style":Qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?On(t,l):(typeof l=="number"||typeof l=="bigint")&&On(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):mi(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,v,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,l,Q,a,null)}}_s(t,d,T,I,B,v,h,!1),ya(t);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Mr(t,!!l,i,!1):a!=null&&Mr(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,v,T,a,null)}vs(t,l,h,d),ya(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,I,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ve(Nl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if($o(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&um(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function Xb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Q=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||Je(t,i,H,null,l,X)}}for(var q in l){var H=l[q];if(X=a[q],l.hasOwnProperty(q)&&(H!=null||X!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&Je(t,i,q,H,l,X)}}vn(t,v,T,I,B,Q,d,h);return;case"select":H=v=T=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Je(t,i,h,d,l,I)}i=T,a=v,l=H,q!=null?Mr(t,!!a,q,!1):!!l!=!!a&&(i!=null?Mr(t,!!a,i,!0):Mr(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,v,h,l,d)}We(t,q,H);return;case"option":for(var we in a)if(q=a[we],a.hasOwnProperty(we)&&q!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:Je(t,i,we,null,l,q)}for(I in l)if(q=l[I],H=a[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&Je(t,i,ve,null,l,q);for(B in l)if(q=l[B],H=a[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,l,H)}return;default:if($o(i)){for(var et in a)q=a[et],a.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&um(t,i,et,void 0,l,q);for(Q in l)q=l[Q],H=a[Q],!l.hasOwnProperty(Q)||q===H||q===void 0&&H===void 0||um(t,i,Q,q,l,H);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Je(t,i,k,null,l,q);for(X in l)q=l[X],H=a[X],!l.hasOwnProperty(X)||q===H||q==null&&H==null||Je(t,i,X,q,l,H)}var cm=null,hm=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function fm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function Wb(){var t=window.event;return t&&t.type==="popstate"?t===dm?!1:(dm=t,!0):(dm=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(t){return pv.resolve(null).then(t).catch(ew)}:mv;function ew(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function gv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Vl(v.documentElement),a&2&&Vl(v.body),a&4)for(a=v.head,Vl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ms]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),ql(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ql(i)}function mm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mm(a),di(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ms])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function nw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function pm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function rw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var gm=null;function yv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function _v(t,i,a){switch(i=Gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);di(t)}var Bn=new Map,vv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zr=le.d;le.d={f:iw,r:sw,D:aw,C:ow,L:lw,m:uw,X:hw,S:cw,M:fw};function iw(){var t=Zr.f(),i=Uc();return t||i}function sw(t){var i=rr(t);i!==null&&i.tag===5&&i.type==="form"?jy(i):Zr.r(t)}var Za=typeof document>"u"?null:document;function Ev(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var h=Et(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),vv.has(h)||(vv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),pt(i),l.head.appendChild(i)))}}function aw(t){Zr.D(t),Ev("dns-prefetch",t,null)}function ow(t,i){Zr.C(t,i),Ev("preconnect",t,i)}function lw(t,i,a){Zr.L(t,i,a);var l=Za;if(l&&t&&i){var h='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Et(a.imageSizes)+'"]')):h+='[href="'+Et(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=eo(t)}Bn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Qt(i,"link",t),pt(i),l.head.appendChild(i)))}}function uw(t,i){Zr.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Bn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Qt(l,"link",t),pt(l),a.head.appendChild(l)}}}function cw(t,i,a){Zr.S(t,i,a);var l=Za;if(l&&t){var h=on(l).hoistableStyles,d=Ja(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Pl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&ym(t,a);var I=v=l.createElement("link");pt(I),Qt(I,"link",t),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Yc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function hw(t,i){Zr.X(t,i);var a=Za;if(a&&t){var l=on(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=E({src:t,async:!0},i),(i=Bn.get(h))&&_m(t,i),d=a.createElement("script"),pt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fw(t,i){Zr.M(t,i);var a=Za;if(a&&t){var l=on(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&_m(t,i),d=a.createElement("script"),pt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Tv(t,i,a,l){var h=(h=ye.current)?Kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=on(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=on(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Pl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||dw(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=on(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+Et(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function dw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),pt(i),t.head.appendChild(i))}function eo(t){return'[src="'+Et(t)+'"]'}function kl(t){return"script[async]"+t}function bv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Qt(l,"style",h),Yc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Pl(h));if(d)return i.state.loading|=4,i.instance=d,pt(d),d;l=Sv(a),(h=Bn.get(h))&&ym(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Qt(d,"link",l),i.state.loading|=4,Yc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(kl(d)))?(i.instance=h,pt(h),h):(l=a,(h=Bn.get(d))&&(l=E({},a),_m(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Yc(l,a.precedence,t));return i.instance}function Yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ym(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function _m(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qc=null;function wv(t,i,a){if(Qc===null){var l=new Map,h=Qc=new Map;h.set(a,l)}else h=Qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ms]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Av(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function mw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function pw(){}function gw(t,i,a){if(Ul===null)throw Error(s(475));var l=Ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ja(a.href),d=t.querySelector(Pl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$c.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,pt(d);return}d=t.ownerDocument||t,a=Sv(a),(h=Bn.get(h))&&ym(a,h),d=d.createElement("link"),pt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=$c.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function yw(){if(Ul===null)throw Error(s(475));var t=Ul;return t.stylesheets&&t.count===0&&vm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&vm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)vm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function vm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,i.forEach(_w,t),Xc=null,$c.call(t))}function _w(t,i){if(!(i.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:ee,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function vw(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Iv(t,i,a,l,h,d,v,T,I,B,Q,X){return t=new vw(t,i,a,v,T,I,B,X),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=ed(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},id(d),t}function Cv(t){return t?(t=Oa,t):Oa}function xv(t,i,a,l,h,d){h=Cv(h),l.context===null?l.context=h:l.pendingContext=h,l=vi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ei(t,l,i),a!==null&&(Rn(a,t,i),ml(a,t,i))}function Dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Em(t,i){Dv(t,i),(t=t.alternate)&&Dv(t,i)}function Ov(t){if(t.tag===13){var i=Da(t,67108864);i!==null&&Rn(i,t,67108864),Em(t,67108864)}}var Wc=!0;function Ew(t,i,a,l){var h=K.T;K.T=null;var d=le.p;try{le.p=2,Tm(t,i,a,l)}finally{le.p=d,K.T=h}}function Tw(t,i,a,l){var h=K.T;K.T=null;var d=le.p;try{le.p=8,Tm(t,i,a,l)}finally{le.p=d,K.T=h}}function Tm(t,i,a,l){if(Wc){var h=Sm(l);if(h===null)lm(t,i,l,Zc,a),Mv(t,l);else if(bw(h,t,i,a,l))l.stopPropagation();else if(Mv(t,l),i&4&&-1<Sw.indexOf(t)){for(;h!==null;){var d=rr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Kn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Jt(v);T.entanglements[1]|=I,v&=~I}yr(d),($e&6)===0&&(Pc=xn()+500,Ol(0))}}break;case 13:T=Da(d,2),T!==null&&Rn(T,d,2),Uc(),Em(d,2)}if(d=Sm(l),d===null&&lm(t,i,l,Zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else lm(t,i,l,null,a)}}function Sm(t){return t=Nn(t),bm(t)}var Zc=null;function bm(t){if(Zc=null,t=Dr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Zc=t,null}function Nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rf()){case ko:return 2;case ua:return 8;case us:case If:return 32;case ca:return 268435456;default:return 32}default:return 32}}var wm=!1,Mi=null,Vi=null,Pi=null,jl=new Map,zl=new Map,ki=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,i){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=rr(i),i!==null&&Ov(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function bw(t,i,a,l,h){switch(i){case"focusin":return Mi=Bl(Mi,t,i,a,l,h),!0;case"dragenter":return Vi=Bl(Vi,t,i,a,l,h),!0;case"mouseover":return Pi=Bl(Pi,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return jl.set(d,Bl(jl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,zl.set(d,Bl(zl.get(d)||null,t,i,a,l,h)),!0}return!1}function Vv(t){var i=Dr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Uu(t.priority,function(){if(a.tag===13){var l=An();l=ci(l);var h=Da(a,l);h!==null&&Rn(h,a,l),Em(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vr=l,a.target.dispatchEvent(l),Vr=null}else return i=rr(a),i!==null&&Ov(i),t.blockedOn=a,!1;i.shift()}return!0}function Pv(t,i,a){Jc(t)&&a.delete(i)}function ww(){wm=!1,Mi!==null&&Jc(Mi)&&(Mi=null),Vi!==null&&Jc(Vi)&&(Vi=null),Pi!==null&&Jc(Pi)&&(Pi=null),jl.forEach(Pv),zl.forEach(Pv)}function eh(t,i){t.blockedOn===i&&(t.blockedOn=null,wm||(wm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ww)))}var th=null;function kv(t){th!==t&&(th=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(bm(l||a)===null)continue;break}var d=rr(a);d!==null&&(t.splice(i,3),i-=3,bd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ql(t){function i(I){return eh(I,t)}Mi!==null&&eh(Mi,t),Vi!==null&&eh(Vi,t),Pi!==null&&eh(Pi,t),jl.forEach(i),zl.forEach(i);for(var a=0;a<ki.length;a++){var l=ki[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ki.length&&(a=ki[0],a.blockedOn===null);)Vv(a),a.blockedOn===null&&ki.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[vt]||null;if(typeof d=="function")v||kv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[vt]||null)T=v.formAction;else if(bm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),kv(a)}}}function Am(t){this._internalRoot=t}nh.prototype.render=Am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();xv(a,l,t,i,null,null)},nh.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;xv(t.current,2,null,t,null,null),Uc(),i[Dn]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var i=hi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ki.length&&i!==0&&i<ki[a].priority;a++);ki.splice(a,0,t),a===0&&Vv(t)}};var Uv=e.version;if(Uv!=="19.1.0")throw Error(s(527,Uv,"19.1.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Aw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ft=rh.inject(Aw),Qe=rh}catch{}}return Fl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Jy,d=e_,v=t_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Iv(t,1,!1,null,null,a,l,h,d,v,T,null),t[Dn]=i.current,om(t),new Am(i)},Fl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Jy,v=e_,T=t_,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Iv(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=Cv(null),a=i.current,l=An(),l=ci(l),h=vi(l),h.callback=null,Ei(a,h,l),a=l,i.current.lanes=a,xr(i,a),yr(i),t[Dn]=i.current,om(t),new nh(i)},Fl.version="19.1.0",Fl}var Yv;function Uw(){if(Yv)return Cm.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=kw(),Cm.exports}var Lw=Uw(),gn=function(){return gn=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},gn.apply(this,arguments)};function Dh(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))}var rt="-ms-",Zl="-moz-",Ke="-webkit-",WE="comm",tf="rule",Op="decl",jw="@import",ZE="@keyframes",zw="@layer",JE=Math.abs,Np=String.fromCharCode,$m=Object.assign;function Bw(r,e){return qt(r,0)^45?(((e<<2^qt(r,0))<<2^qt(r,1))<<2^qt(r,2))<<2^qt(r,3):0}function eT(r){return r.trim()}function Jr(r,e){return(r=e.exec(r))?r[0]:r}function De(r,e,n){return r.replace(e,n)}function ph(r,e,n){return r.indexOf(e,n)}function qt(r,e){return r.charCodeAt(e)|0}function mo(r,e,n){return r.slice(e,n)}function vr(r){return r.length}function tT(r){return r.length}function Gl(r,e){return e.push(r),r}function qw(r,e){return r.map(e).join("")}function Qv(r,e){return r.filter(function(n){return!Jr(n,e)})}var nf=1,po=1,nT=0,Gn=0,wt=0,Io="";function rf(r,e,n,s,o,u,f,m){return{value:r,root:e,parent:n,type:s,props:o,children:u,line:nf,column:po,length:f,return:"",siblings:m}}function ji(r,e){return $m(rf("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},e)}function to(r){for(;r.root;)r=ji(r.root,{children:[r]});Gl(r,r.siblings)}function Hw(){return wt}function Fw(){return wt=Gn>0?qt(Io,--Gn):0,po--,wt===10&&(po=1,nf--),wt}function er(){return wt=Gn<nT?qt(Io,Gn++):0,po++,wt===10&&(po=1,nf++),wt}function Ks(){return qt(Io,Gn)}function gh(){return Gn}function sf(r,e){return mo(Io,r,e)}function Xm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gw(r){return nf=po=1,nT=vr(Io=r),Gn=0,[]}function Kw(r){return Io="",r}function Nm(r){return eT(sf(Gn-1,Wm(r===91?r+2:r===40?r+1:r)))}function Yw(r){for(;(wt=Ks())&&wt<33;)er();return Xm(r)>2||Xm(wt)>3?"":" "}function Qw(r,e){for(;--e&&er()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return sf(r,gh()+(e<6&&Ks()==32&&er()==32))}function Wm(r){for(;er();)switch(wt){case r:return Gn;case 34:case 39:r!==34&&r!==39&&Wm(wt);break;case 40:r===41&&Wm(r);break;case 92:er();break}return Gn}function $w(r,e){for(;er()&&r+wt!==57;)if(r+wt===84&&Ks()===47)break;return"/*"+sf(e,Gn-1)+"*"+Np(r===47?r:er())}function Xw(r){for(;!Xm(Ks());)er();return sf(r,Gn)}function Ww(r){return Kw(yh("",null,null,null,[""],r=Gw(r),0,[0],r))}function yh(r,e,n,s,o,u,f,m,p){for(var y=0,E=0,S=f,w=0,L=0,F=0,Y=1,N=1,ne=1,J=0,ee="",ce=o,oe=u,ue=s,x=ee;N;)switch(F=J,J=er()){case 40:if(F!=108&&qt(x,S-1)==58){ph(x+=De(Nm(J),"&","&\f"),"&\f",JE(y?m[y-1]:0))!=-1&&(ne=-1);break}case 34:case 39:case 91:x+=Nm(J);break;case 9:case 10:case 13:case 32:x+=Yw(F);break;case 92:x+=Qw(gh()-1,7);continue;case 47:switch(Ks()){case 42:case 47:Gl(Zw($w(er(),gh()),e,n,p),p);break;default:x+="/"}break;case 123*Y:m[y++]=vr(x)*ne;case 125*Y:case 59:case 0:switch(J){case 0:case 125:N=0;case 59+E:ne==-1&&(x=De(x,/\f/g,"")),L>0&&vr(x)-S&&Gl(L>32?Xv(x+";",s,n,S-1,p):Xv(De(x," ","")+";",s,n,S-2,p),p);break;case 59:x+=";";default:if(Gl(ue=$v(x,e,n,y,E,o,m,ee,ce=[],oe=[],S,u),u),J===123)if(E===0)yh(x,e,ue,ue,ce,u,S,m,oe);else switch(w===99&&qt(x,3)===110?100:w){case 100:case 108:case 109:case 115:yh(r,ue,ue,s&&Gl($v(r,ue,ue,0,0,o,m,ee,o,ce=[],S,oe),oe),o,oe,S,m,s?ce:oe);break;default:yh(x,ue,ue,ue,[""],oe,0,m,oe)}}y=E=L=0,Y=ne=1,ee=x="",S=f;break;case 58:S=1+vr(x),L=F;default:if(Y<1){if(J==123)--Y;else if(J==125&&Y++==0&&Fw()==125)continue}switch(x+=Np(J),J*Y){case 38:ne=E>0?1:(x+="\f",-1);break;case 44:m[y++]=(vr(x)-1)*ne,ne=1;break;case 64:Ks()===45&&(x+=Nm(er())),w=Ks(),E=S=vr(ee=x+=Xw(gh())),J++;break;case 45:F===45&&vr(x)==2&&(Y=0)}}return u}function $v(r,e,n,s,o,u,f,m,p,y,E,S){for(var w=o-1,L=o===0?u:[""],F=tT(L),Y=0,N=0,ne=0;Y<s;++Y)for(var J=0,ee=mo(r,w+1,w=JE(N=f[Y])),ce=r;J<F;++J)(ce=eT(N>0?L[J]+" "+ee:De(ee,/&\f/g,L[J])))&&(p[ne++]=ce);return rf(r,e,n,o===0?tf:m,p,y,E,S)}function Zw(r,e,n,s){return rf(r,e,n,WE,Np(Hw()),mo(r,2,-2),0,s)}function Xv(r,e,n,s,o){return rf(r,e,n,Op,mo(r,0,s),mo(r,s+1,-1),s,o)}function rT(r,e,n){switch(Bw(r,e)){case 5103:return Ke+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+r+r;case 4789:return Zl+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+r+Zl+r+rt+r+r;case 5936:switch(qt(r,e+11)){case 114:return Ke+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Ke+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Ke+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return Ke+r+rt+r+r;case 6165:return Ke+r+rt+"flex-"+r+r;case 5187:return Ke+r+De(r,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+rt+"flex-$1$2")+r;case 5443:return Ke+r+rt+"flex-item-"+De(r,/flex-|-self/g,"")+(Jr(r,/flex-|baseline/)?"":rt+"grid-row-"+De(r,/flex-|-self/g,""))+r;case 4675:return Ke+r+rt+"flex-line-pack"+De(r,/align-content|flex-|-self/g,"")+r;case 5548:return Ke+r+rt+De(r,"shrink","negative")+r;case 5292:return Ke+r+rt+De(r,"basis","preferred-size")+r;case 6060:return Ke+"box-"+De(r,"-grow","")+Ke+r+rt+De(r,"grow","positive")+r;case 4554:return Ke+De(r,/([^-])(transform)/g,"$1"+Ke+"$2")+r;case 6187:return De(De(De(r,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),r,"")+r;case 5495:case 3959:return De(r,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return De(De(r,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+r+r;case 4200:if(!Jr(r,/flex-|baseline/))return rt+"grid-column-align"+mo(r,e)+r;break;case 2592:case 3360:return rt+De(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return e=o,Jr(s.props,/grid-\w+-end/)})?~ph(r+(n=n[e].value),"span",0)?r:rt+De(r,"-start","")+r+rt+"grid-row-span:"+(~ph(n,"span",0)?Jr(n,/\d+/):+Jr(n,/\d+/)-+Jr(r,/\d+/))+";":rt+De(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return Jr(s.props,/grid-\w+-start/)})?r:rt+De(De(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return De(r,/(.+)-inline(.+)/,Ke+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vr(r)-1-e>6)switch(qt(r,e+1)){case 109:if(qt(r,e+4)!==45)break;case 102:return De(r,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+Zl+(qt(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~ph(r,"stretch",0)?rT(De(r,"stretch","fill-available"),e,n)+r:r}break;case 5152:case 5920:return De(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,m,p,y){return rt+o+":"+u+y+(f?rt+o+"-span:"+(m?p:+p-+u)+y:"")+r});case 4949:if(qt(r,e+6)===121)return De(r,":",":"+Ke)+r;break;case 6444:switch(qt(r,qt(r,14)===45?18:11)){case 120:return De(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ke+(qt(r,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+rt+"$2box$3")+r;case 100:return De(r,":",":"+rt)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return De(r,"scroll-","scroll-snap-")+r}return r}function Oh(r,e){for(var n="",s=0;s<r.length;s++)n+=e(r[s],s,r,e)||"";return n}function Jw(r,e,n,s){switch(r.type){case zw:if(r.children.length)break;case jw:case Op:return r.return=r.return||r.value;case WE:return"";case ZE:return r.return=r.value+"{"+Oh(r.children,s)+"}";case tf:if(!vr(r.value=r.props.join(",")))return""}return vr(n=Oh(r.children,s))?r.return=r.value+"{"+n+"}":""}function eA(r){var e=tT(r);return function(n,s,o,u){for(var f="",m=0;m<e;m++)f+=r[m](n,s,o,u)||"";return f}}function tA(r){return function(e){e.root||(e=e.return)&&r(e)}}function nA(r,e,n,s){if(r.length>-1&&!r.return)switch(r.type){case Op:r.return=rT(r.value,r.length,n);return;case ZE:return Oh([ji(r,{value:De(r.value,"@","@"+Ke)})],s);case tf:if(r.length)return qw(n=r.props,function(o){switch(Jr(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":to(ji(r,{props:[De(o,/:(read-\w+)/,":"+Zl+"$1")]})),to(ji(r,{props:[o]})),$m(r,{props:Qv(n,s)});break;case"::placeholder":to(ji(r,{props:[De(o,/:(plac\w+)/,":"+Ke+"input-$1")]})),to(ji(r,{props:[De(o,/:(plac\w+)/,":"+Zl+"$1")]})),to(ji(r,{props:[De(o,/:(plac\w+)/,rt+"input-$1")]})),to(ji(r,{props:[o]})),$m(r,{props:Qv(n,s)});break}return""})}}var rA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},In={},go=typeof process<"u"&&In!==void 0&&(In.REACT_APP_SC_ATTR||In.SC_ATTR)||"data-styled",iT="active",sT="data-styled-version",af="6.1.19",Mp=`/*!sc*/
`,Nh=typeof window<"u"&&typeof document<"u",iA=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==""?In.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&In.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.SC_DISABLE_SPEEDY!==void 0&&In.SC_DISABLE_SPEEDY!==""&&In.SC_DISABLE_SPEEDY!=="false"&&In.SC_DISABLE_SPEEDY),of=Object.freeze([]),yo=Object.freeze({});function sA(r,e,n){return n===void 0&&(n=yo),r.theme!==n.theme&&r.theme||e||n.theme}var aT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),aA=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,oA=/(^-|-$)/g;function Wv(r){return r.replace(aA,"-").replace(oA,"")}var lA=/(a)(d)/gi,ih=52,Zv=function(r){return String.fromCharCode(r+(r>25?39:97))};function Zm(r){var e,n="";for(e=Math.abs(r);e>ih;e=e/ih|0)n=Zv(e%ih)+n;return(Zv(e%ih)+n).replace(lA,"$1-$2")}var Mm,oT=5381,ao=function(r,e){for(var n=e.length;n;)r=33*r^e.charCodeAt(--n);return r},lT=function(r){return ao(oT,r)};function uA(r){return Zm(lT(r)>>>0)}function cA(r){return r.displayName||r.name||"Component"}function Vm(r){return typeof r=="string"&&!0}var uT=typeof Symbol=="function"&&Symbol.for,cT=uT?Symbol.for("react.memo"):60115,hA=uT?Symbol.for("react.forward_ref"):60112,fA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},dA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mA=((Mm={})[hA]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mm[cT]=hT,Mm);function Jv(r){return("type"in(e=r)&&e.type.$$typeof)===cT?hT:"$$typeof"in r?mA[r.$$typeof]:fA;var e}var pA=Object.defineProperty,gA=Object.getOwnPropertyNames,e0=Object.getOwnPropertySymbols,yA=Object.getOwnPropertyDescriptor,_A=Object.getPrototypeOf,t0=Object.prototype;function fT(r,e,n){if(typeof e!="string"){if(t0){var s=_A(e);s&&s!==t0&&fT(r,s,n)}var o=gA(e);e0&&(o=o.concat(e0(e)));for(var u=Jv(r),f=Jv(e),m=0;m<o.length;++m){var p=o[m];if(!(p in dA||n&&n[p]||f&&p in f||u&&p in u)){var y=yA(e,p);try{pA(r,p,y)}catch{}}}}return r}function _o(r){return typeof r=="function"}function Vp(r){return typeof r=="object"&&"styledComponentId"in r}function Fs(r,e){return r&&e?"".concat(r," ").concat(e):r||e||""}function n0(r,e){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function au(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Jm(r,e,n){if(n===void 0&&(n=!1),!n&&!au(r)&&!Array.isArray(r))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)r[s]=Jm(r[s],e[s]);else if(au(e))for(var s in e)r[s]=Jm(r[s],e[s]);return r}function Pp(r,e){Object.defineProperty(r,"toString",{value:e})}function vu(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var vA=function(){function r(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return r.prototype.indexOfGroup=function(e){for(var n=0,s=0;s<e;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;e>=u;)if((u<<=1)<0)throw vu(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var m=this.indexOfGroup(e+1),p=(f=0,n.length);f<p;f++)this.tag.insertRule(m,n[f])&&(this.groupSizes[e]++,m++)},r.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],s=this.indexOfGroup(e),o=s+n;this.groupSizes[e]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(Mp);return n},r}(),_h=new Map,Mh=new Map,vh=1,sh=function(r){if(_h.has(r))return _h.get(r);for(;Mh.has(vh);)vh++;var e=vh++;return _h.set(r,e),Mh.set(e,r),e},EA=function(r,e){vh=e+1,_h.set(r,e),Mh.set(e,r)},TA="style[".concat(go,"][").concat(sT,'="').concat(af,'"]'),SA=new RegExp("^".concat(go,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),bA=function(r,e,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(e,s)},wA=function(r,e){for(var n,s=((n=e.textContent)!==null&&n!==void 0?n:"").split(Mp),o=[],u=0,f=s.length;u<f;u++){var m=s[u].trim();if(m){var p=m.match(SA);if(p){var y=0|parseInt(p[1],10),E=p[2];y!==0&&(EA(E,y),bA(r,E,p[3]),r.getTag().insertRules(y,o)),o.length=0}else o.push(m)}}},r0=function(r){for(var e=document.querySelectorAll(TA),n=0,s=e.length;n<s;n++){var o=e[n];o&&o.getAttribute(go)!==iT&&(wA(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function AA(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var dT=function(r){var e=document.head,n=r||e,s=document.createElement("style"),o=function(m){var p=Array.from(m.querySelectorAll("style[".concat(go,"]")));return p[p.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(go,iT),s.setAttribute(sT,af);var f=AA();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},RA=function(){function r(e){this.element=dT(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw vu(17)}(this.element),this.length=0}return r.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},r.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},r}(),IA=function(){function r(e){this.element=dT(e),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},r.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},r}(),CA=function(){function r(e){this.rules=[],this.length=0}return r.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},r.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},r.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},r}(),i0=Nh,xA={isServer:!Nh,useCSSOMInjection:!iA},mT=function(){function r(e,n,s){e===void 0&&(e=yo),n===void 0&&(n={});var o=this;this.options=gn(gn({},xA),e),this.gs=n,this.names=new Map(s),this.server=!!e.isServer,!this.server&&Nh&&i0&&(i0=!1,r0(this)),Pp(this,function(){return function(u){for(var f=u.getTag(),m=f.length,p="",y=function(S){var w=function(ne){return Mh.get(ne)}(S);if(w===void 0)return"continue";var L=u.names.get(w),F=f.getGroup(S);if(L===void 0||!L.size||F.length===0)return"continue";var Y="".concat(go,".g").concat(S,'[id="').concat(w,'"]'),N="";L!==void 0&&L.forEach(function(ne){ne.length>0&&(N+="".concat(ne,","))}),p+="".concat(F).concat(Y,'{content:"').concat(N,'"}').concat(Mp)},E=0;E<m;E++)y(E);return p}(o)})}return r.registerId=function(e){return sh(e)},r.prototype.rehydrate=function(){!this.server&&Nh&&r0(this)},r.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new r(gn(gn({},this.options),e),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new CA(o):s?new RA(o):new IA(o)}(this.options),new vA(e)));var e},r.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},r.prototype.registerName=function(e,n){if(sh(e),this.names.has(e))this.names.get(e).add(n);else{var s=new Set;s.add(n),this.names.set(e,s)}},r.prototype.insertRules=function(e,n,s){this.registerName(e,n),this.getTag().insertRules(sh(e),s)},r.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},r.prototype.clearRules=function(e){this.getTag().clearGroup(sh(e)),this.clearNames(e)},r.prototype.clearTag=function(){this.tag=void 0},r}(),DA=/&/g,OA=/^\s*\/\/.*$/gm;function pT(r,e){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=pT(n.children,e)),n})}function NA(r){var e,n,s,o=yo,u=o.options,f=u===void 0?yo:u,m=o.plugins,p=m===void 0?of:m,y=function(w,L,F){return F.startsWith(n)&&F.endsWith(n)&&F.replaceAll(n,"").length>0?".".concat(e):w},E=p.slice();E.push(function(w){w.type===tf&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(DA,n).replace(s,y))}),f.prefix&&E.push(nA),E.push(Jw);var S=function(w,L,F,Y){L===void 0&&(L=""),F===void 0&&(F=""),Y===void 0&&(Y="&"),e=Y,n=L,s=new RegExp("\\".concat(n,"\\b"),"g");var N=w.replace(OA,""),ne=Ww(F||L?"".concat(F," ").concat(L," { ").concat(N," }"):N);f.namespace&&(ne=pT(ne,f.namespace));var J=[];return Oh(ne,eA(E.concat(tA(function(ee){return J.push(ee)})))),J};return S.hash=p.length?p.reduce(function(w,L){return L.name||vu(15),ao(w,L.name)},oT).toString():"",S}var MA=new mT,ep=NA(),gT=fo.createContext({shouldForwardProp:void 0,styleSheet:MA,stylis:ep});gT.Consumer;fo.createContext(void 0);function s0(){return ae.useContext(gT)}var VA=function(){function r(e,n){var s=this;this.inject=function(o,u){u===void 0&&(u=ep);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Pp(this,function(){throw vu(12,String(s.name))})}return r.prototype.getName=function(e){return e===void 0&&(e=ep),this.name+e.hash},r}(),PA=function(r){return r>="A"&&r<="Z"};function a0(r){for(var e="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;PA(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var yT=function(r){return r==null||r===!1||r===""},_T=function(r){var e,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!yT(u)&&(Array.isArray(u)&&u.isCss||_o(u)?s.push("".concat(a0(o),":"),u,";"):au(u)?s.push.apply(s,Dh(Dh(["".concat(o," {")],_T(u),!1),["}"],!1)):s.push("".concat(a0(o),": ").concat((e=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in rA||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function Ys(r,e,n,s){if(yT(r))return[];if(Vp(r))return[".".concat(r.styledComponentId)];if(_o(r)){if(!_o(u=r)||u.prototype&&u.prototype.isReactComponent||!e)return[r];var o=r(e);return Ys(o,e,n,s)}var u;return r instanceof VA?n?(r.inject(n,s),[r.getName(s)]):[r]:au(r)?_T(r):Array.isArray(r)?Array.prototype.concat.apply(of,r.map(function(f){return Ys(f,e,n,s)})):[r.toString()]}function kA(r){for(var e=0;e<r.length;e+=1){var n=r[e];if(_o(n)&&!Vp(n))return!1}return!0}var UA=lT(af),LA=function(){function r(e,n,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&kA(e),this.componentId=n,this.baseHash=ao(UA,n),this.baseStyle=s,mT.registerId(n)}return r.prototype.generateAndInjectStyles=function(e,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Fs(o,this.staticRulesId);else{var u=n0(Ys(this.rules,e,n,s)),f=Zm(ao(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var m=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,m)}o=Fs(o,f),this.staticRulesId=f}else{for(var p=ao(this.baseHash,s.hash),y="",E=0;E<this.rules.length;E++){var S=this.rules[E];if(typeof S=="string")y+=S;else if(S){var w=n0(Ys(S,e,n,s));p=ao(p,w+E),y+=w}}if(y){var L=Zm(p>>>0);n.hasNameForId(this.componentId,L)||n.insertRules(this.componentId,L,s(y,".".concat(L),void 0,this.componentId)),o=Fs(o,L)}}return o},r}(),vT=fo.createContext(void 0);vT.Consumer;var Pm={};function jA(r,e,n){var s=Vp(r),o=r,u=!Vm(r),f=e.attrs,m=f===void 0?of:f,p=e.componentId,y=p===void 0?function(ce,oe){var ue=typeof ce!="string"?"sc":Wv(ce);Pm[ue]=(Pm[ue]||0)+1;var x="".concat(ue,"-").concat(uA(af+ue+Pm[ue]));return oe?"".concat(oe,"-").concat(x):x}(e.displayName,e.parentComponentId):p,E=e.displayName,S=E===void 0?function(ce){return Vm(ce)?"styled.".concat(ce):"Styled(".concat(cA(ce),")")}(r):E,w=e.displayName&&e.componentId?"".concat(Wv(e.displayName),"-").concat(e.componentId):e.componentId||y,L=s&&o.attrs?o.attrs.concat(m).filter(Boolean):m,F=e.shouldForwardProp;if(s&&o.shouldForwardProp){var Y=o.shouldForwardProp;if(e.shouldForwardProp){var N=e.shouldForwardProp;F=function(ce,oe){return Y(ce,oe)&&N(ce,oe)}}else F=Y}var ne=new LA(n,w,s?o.componentStyle:void 0);function J(ce,oe){return function(ue,x,A){var C=ue.attrs,V=ue.componentStyle,P=ue.defaultProps,U=ue.foldedComponentIds,D=ue.styledComponentId,It=ue.target,st=fo.useContext(vT),K=s0(),le=ue.shouldForwardProp||K.shouldForwardProp,de=sA(x,st,P)||yo,Ce=function(Ie,ye,lt){for(var qe,Pt=gn(gn({},ye),{className:void 0,theme:lt}),Cn=0;Cn<Ie.length;Cn+=1){var hn=_o(qe=Ie[Cn])?qe(Pt):qe;for(var Zt in hn)Pt[Zt]=Zt==="className"?Fs(Pt[Zt],hn[Zt]):Zt==="style"?gn(gn({},Pt[Zt]),hn[Zt]):hn[Zt]}return ye.className&&(Pt.className=Fs(Pt.className,ye.className)),Pt}(C,x,de),O=Ce.as||It,Z={};for(var ie in Ce)Ce[ie]===void 0||ie[0]==="$"||ie==="as"||ie==="theme"&&Ce.theme===de||(ie==="forwardedAs"?Z.as=Ce.forwardedAs:le&&!le(ie,O)||(Z[ie]=Ce[ie]));var re=function(Ie,ye){var lt=s0(),qe=Ie.generateAndInjectStyles(ye,lt.styleSheet,lt.stylis);return qe}(V,Ce),me=Fs(U,D);return re&&(me+=" "+re),Ce.className&&(me+=" "+Ce.className),Z[Vm(O)&&!aT.has(O)?"class":"className"]=me,A&&(Z.ref=A),ae.createElement(O,Z)}(ee,ce,oe)}J.displayName=S;var ee=fo.forwardRef(J);return ee.attrs=L,ee.componentStyle=ne,ee.displayName=S,ee.shouldForwardProp=F,ee.foldedComponentIds=s?Fs(o.foldedComponentIds,o.styledComponentId):"",ee.styledComponentId=w,ee.target=s?o.target:r,Object.defineProperty(ee,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ce){this._foldedDefaultProps=s?function(oe){for(var ue=[],x=1;x<arguments.length;x++)ue[x-1]=arguments[x];for(var A=0,C=ue;A<C.length;A++)Jm(oe,C[A],!0);return oe}({},o.defaultProps,ce):ce}}),Pp(ee,function(){return".".concat(ee.styledComponentId)}),u&&fT(ee,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ee}function o0(r,e){for(var n=[r[0]],s=0,o=e.length;s<o;s+=1)n.push(e[s],r[s+1]);return n}var l0=function(r){return Object.assign(r,{isCss:!0})};function zA(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_o(r)||au(r))return l0(Ys(o0(of,Dh([r],e,!0))));var s=r;return e.length===0&&s.length===1&&typeof s[0]=="string"?Ys(s):l0(Ys(o0(s,e)))}function tp(r,e,n){if(n===void 0&&(n=yo),!e)throw vu(1,e);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(e,n,zA.apply(void 0,Dh([o],u,!1)))};return s.attrs=function(o){return tp(r,e,gn(gn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return tp(r,e,gn(gn({},n),o))},s}var ET=function(r){return tp(jA,r)},Te=ET;aT.forEach(function(r){Te[r]=ET(r)});const BA="/swarthmore-dorm-explorer/assets/Parrish-FIqmMXnO.webp",qA="/swarthmore-dorm-explorer/assets/alice-BVIiyaOZ.webp",HA="/swarthmore-dorm-explorer/assets/dana-DSbFLifj.webp",FA="/swarthmore-dorm-explorer/assets/danawell-CLFPJ331.webp",GA="/swarthmore-dorm-explorer/assets/davidkemp-BcWxp6M_.webp",KA="/swarthmore-dorm-explorer/assets/hallowell-DS3gWFt_.webp",YA="/swarthmore-dorm-explorer/assets/ml-C30Kxn-Z.webp",QA="/swarthmore-dorm-explorer/assets/palmer-s7EsNEmj.webp",$A="/swarthmore-dorm-explorer/assets/Parrish-FIqmMXnO.webp",XA="/swarthmore-dorm-explorer/assets/pittinger.jpg-tdj2BJzK.webp",WA="/swarthmore-dorm-explorer/assets/roberts-Lr8-Tf5B.webp",ZA="/swarthmore-dorm-explorer/assets/wharton-BJKbffdV.webp",JA="/swarthmore-dorm-explorer/assets/willets-BycZusLU.webp",eR="/swarthmore-dorm-explorer/assets/worth-BD79Nopt.webp",tR="/swarthmore-dorm-explorer/assets/woolman-CslZCXj4.webp",nR="/swarthmore-dorm-explorer/assets/lodges-Ddxa-OtE.webp",rR="/swarthmore-dorm-explorer/assets/ppr-C4oc2For.webp";XE();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},ou.apply(this,arguments)}var Gi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Gi||(Gi={}));const u0="popstate";function iR(r){r===void 0&&(r={});function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=na(o.location.hash.substr(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),np("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Vh(u))}function s(o,u){kp(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return aR(e,n,s,r)}function Rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kp(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sR(){return Math.random().toString(36).substr(2,8)}function c0(r,e){return{usr:r.state,key:r.key,idx:e}}function np(r,e,n,s){return n===void 0&&(n=null),ou({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:n,key:e&&e.key||s||sR()})}function Vh(r){let{pathname:e="/",search:n="",hash:s=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function na(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function aR(r,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m=Gi.Pop,p=null,y=E();y==null&&(y=0,f.replaceState(ou({},f.state,{idx:y}),""));function E(){return(f.state||{idx:null}).idx}function S(){m=Gi.Pop;let N=E(),ne=N==null?null:N-y;y=N,p&&p({action:m,location:Y.location,delta:ne})}function w(N,ne){m=Gi.Push;let J=np(Y.location,N,ne);n&&n(J,N),y=E()+1;let ee=c0(J,y),ce=Y.createHref(J);try{f.pushState(ee,"",ce)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ce)}u&&p&&p({action:m,location:Y.location,delta:1})}function L(N,ne){m=Gi.Replace;let J=np(Y.location,N,ne);n&&n(J,N),y=E();let ee=c0(J,y),ce=Y.createHref(J);f.replaceState(ee,"",ce),u&&p&&p({action:m,location:Y.location,delta:0})}function F(N){let ne=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof N=="string"?N:Vh(N);return J=J.replace(/ $/,"%20"),Rt(ne,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,ne)}let Y={get action(){return m},get location(){return r(o,f)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(u0,S),p=N,()=>{o.removeEventListener(u0,S),p=null}},createHref(N){return e(o,N)},createURL:F,encodeLocation(N){let ne=F(N);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:L,go(N){return f.go(N)}};return Y}var h0;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(h0||(h0={}));function oR(r,e,n){return n===void 0&&(n="/"),lR(r,e,n)}function lR(r,e,n,s){let o=typeof e=="string"?na(e):e,u=Up(o.pathname||"/",n);if(u==null)return null;let f=TT(r);uR(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=TR(u);m=_R(f[p],y)}return m}function TT(r,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Rt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=Yi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Rt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),TT(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:gR(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of ST(u.path))o(u,f,p)}),e}function ST(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=ST(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function uR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:yR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const cR=/^:[\w-]+$/,hR=3,fR=2,dR=1,mR=10,pR=-2,f0=r=>r==="*";function gR(r,e){let n=r.split("/"),s=n.length;return n.some(f0)&&(s+=pR),e&&(s+=fR),n.filter(o=>!f0(o)).reduce((o,u)=>o+(cR.test(u)?hR:u===""?dR:mR),s)}function yR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function _R(r,e,n){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=vR({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Yi([u,S.pathname]),pathnameBase:AR(Yi([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Yi([u,S.pathnameBase]))}return f}function vR(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=ER(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,E,S)=>{let{paramName:w,isOptional:L}=E;if(w==="*"){let Y=m[S]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const F=m[S];return L&&!F?y[w]=void 0:y[w]=(F||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function ER(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kp(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function TR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kp(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Up(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function SR(r,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?na(r):r;return{pathname:n?n.startsWith("/")?n:bR(n,e):e,search:RR(s),hash:IR(o)}}function bR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function km(r,e,n,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bT(r,e){let n=wR(r);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function wT(r,e,n,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=na(r):(o=ou({},r),Rt(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),Rt(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),Rt(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=SR(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}const Yi=r=>r.join("/").replace(/\/\/+/g,"/"),AR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function CR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const AT=["post","put","patch","delete"];new Set(AT);const xR=["get",...AT];new Set(xR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},lu.apply(this,arguments)}const Lp=ae.createContext(null),DR=ae.createContext(null),ra=ae.createContext(null),lf=ae.createContext(null),ss=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),RT=ae.createContext(null);function OR(r,e){let{relative:n}=e===void 0?{}:e;Eu()||Rt(!1);let{basename:s,navigator:o}=ae.useContext(ra),{hash:u,pathname:f,search:m}=CT(r,{relative:n}),p=f;return s!=="/"&&(p=f==="/"?s:Yi([s,f])),o.createHref({pathname:p,search:m,hash:u})}function Eu(){return ae.useContext(lf)!=null}function uf(){return Eu()||Rt(!1),ae.useContext(lf).location}function IT(r){ae.useContext(ra).static||ae.useLayoutEffect(r)}function Tu(){let{isDataRoute:r}=ae.useContext(ss);return r?GR():NR()}function NR(){Eu()||Rt(!1);let r=ae.useContext(Lp),{basename:e,future:n,navigator:s}=ae.useContext(ra),{matches:o}=ae.useContext(ss),{pathname:u}=uf(),f=JSON.stringify(bT(o,n.v7_relativeSplatPath)),m=ae.useRef(!1);return IT(()=>{m.current=!0}),ae.useCallback(function(y,E){if(E===void 0&&(E={}),!m.current)return;if(typeof y=="number"){s.go(y);return}let S=wT(y,JSON.parse(f),u,E.relative==="path");r==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Yi([e,S.pathname])),(E.replace?s.replace:s.push)(S,E.state,E)},[e,s,f,u,r])}function MR(){let{matches:r}=ae.useContext(ss),e=r[r.length-1];return e?e.params:{}}function CT(r,e){let{relative:n}=e===void 0?{}:e,{future:s}=ae.useContext(ra),{matches:o}=ae.useContext(ss),{pathname:u}=uf(),f=JSON.stringify(bT(o,s.v7_relativeSplatPath));return ae.useMemo(()=>wT(r,JSON.parse(f),u,n==="path"),[r,f,u,n])}function VR(r,e){return PR(r,e)}function PR(r,e,n,s){Eu()||Rt(!1);let{navigator:o}=ae.useContext(ra),{matches:u}=ae.useContext(ss),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=uf(),E;if(e){var S;let N=typeof e=="string"?na(e):e;p==="/"||(S=N.pathname)!=null&&S.startsWith(p)||Rt(!1),E=N}else E=y;let w=E.pathname||"/",L=w;if(p!=="/"){let N=p.replace(/^\//,"").split("/");L="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let F=oR(r,{pathname:L}),Y=zR(F&&F.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Yi([p,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Yi([p,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,n,s);return e&&Y?ae.createElement(lf.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Gi.Pop}},Y):Y}function kR(){let r=FR(),e=CR(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),n?ae.createElement("pre",{style:o},n):null,null)}const UR=ae.createElement(kR,null);class LR extends ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ae.createElement(ss.Provider,{value:this.props.routeContext},ae.createElement(RT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jR(r){let{routeContext:e,match:n,children:s}=r,o=ae.useContext(Lp);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),ae.createElement(ss.Provider,{value:e},s)}function zR(r,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),r==null){var u;if(!n)return null;if(n.errors)r=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let f=r,m=(o=n)==null?void 0:o.errors;if(m!=null){let E=f.findIndex(S=>S.route.id&&m?.[S.route.id]!==void 0);E>=0||Rt(!1),f=f.slice(0,Math.min(f.length,E+1))}let p=!1,y=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<f.length;E++){let S=f[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=E),S.route.id){let{loaderData:w,errors:L}=n,F=S.route.loader&&w[S.route.id]===void 0&&(!L||L[S.route.id]===void 0);if(S.route.lazy||F){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((E,S,w)=>{let L,F=!1,Y=null,N=null;n&&(L=m&&S.route.id?m[S.route.id]:void 0,Y=S.route.errorElement||UR,p&&(y<0&&w===0?(KR("route-fallback"),F=!0,N=null):y===w&&(F=!0,N=S.route.hydrateFallbackElement||null)));let ne=e.concat(f.slice(0,w+1)),J=()=>{let ee;return L?ee=Y:F?ee=N:S.route.Component?ee=ae.createElement(S.route.Component,null):S.route.element?ee=S.route.element:ee=E,ae.createElement(jR,{match:S,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:ee})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?ae.createElement(LR,{location:n.location,revalidation:n.revalidation,component:Y,error:L,children:J(),routeContext:{outlet:null,matches:ne,isDataRoute:!0}}):J()},null)}var xT=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(xT||{}),DT=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(DT||{});function BR(r){let e=ae.useContext(Lp);return e||Rt(!1),e}function qR(r){let e=ae.useContext(DR);return e||Rt(!1),e}function HR(r){let e=ae.useContext(ss);return e||Rt(!1),e}function OT(r){let e=HR(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function FR(){var r;let e=ae.useContext(RT),n=qR(),s=OT();return e!==void 0?e:(r=n.errors)==null?void 0:r[s]}function GR(){let{router:r}=BR(xT.UseNavigateStable),e=OT(DT.UseNavigateStable),n=ae.useRef(!1);return IT(()=>{n.current=!0}),ae.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,lu({fromRouteId:e},u)))},[r,e])}const d0={};function KR(r,e,n){d0[r]||(d0[r]=!0)}function YR(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function zi(r){Rt(!1)}function QR(r){let{basename:e="/",children:n=null,location:s,navigationType:o=Gi.Pop,navigator:u,static:f=!1,future:m}=r;Eu()&&Rt(!1);let p=e.replace(/^\/*/,"/"),y=ae.useMemo(()=>({basename:p,navigator:u,static:f,future:lu({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof s=="string"&&(s=na(s));let{pathname:E="/",search:S="",hash:w="",state:L=null,key:F="default"}=s,Y=ae.useMemo(()=>{let N=Up(E,p);return N==null?null:{location:{pathname:N,search:S,hash:w,state:L,key:F},navigationType:o}},[p,E,S,w,L,F,o]);return Y==null?null:ae.createElement(ra.Provider,{value:y},ae.createElement(lf.Provider,{children:n,value:Y}))}function $R(r){let{children:e,location:n}=r;return VR(rp(e),n)}new Promise(()=>{});function rp(r,e){e===void 0&&(e=[]);let n=[];return ae.Children.forEach(r,(s,o)=>{if(!ae.isValidElement(s))return;let u=[...e,o];if(s.type===ae.Fragment){n.push.apply(n,rp(s.props.children,u));return}s.type!==zi&&Rt(!1),!s.props.index||!s.props.children||Rt(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=rp(s.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ip(){return ip=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},ip.apply(this,arguments)}function XR(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function WR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ZR(r,e){return r.button===0&&(!e||e==="_self")&&!WR(r)}const JR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eI="6";try{window.__reactRouterVersion=eI}catch{}const tI="startTransition",m0=Nw[tI];function nI(r){let{basename:e,children:n,future:s,window:o}=r,u=ae.useRef();u.current==null&&(u.current=iR({window:o,v5Compat:!0}));let f=u.current,[m,p]=ae.useState({action:f.action,location:f.location}),{v7_startTransition:y}=s||{},E=ae.useCallback(S=>{y&&m0?m0(()=>p(S)):p(S)},[p,y]);return ae.useLayoutEffect(()=>f.listen(E),[f,E]),ae.useEffect(()=>YR(s),[s]),ae.createElement(QR,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}const rI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qs=ae.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S}=e,w=XR(e,JR),{basename:L}=ae.useContext(ra),F,Y=!1;if(typeof y=="string"&&iI.test(y)&&(F=y,rI))try{let ee=new URL(window.location.href),ce=y.startsWith("//")?new URL(ee.protocol+y):new URL(y),oe=Up(ce.pathname,L);ce.origin===ee.origin&&oe!=null?y=oe+ce.search+ce.hash:Y=!0}catch{}let N=OR(y,{relative:o}),ne=sI(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function J(ee){s&&s(ee),ee.defaultPrevented||ne(ee)}return ae.createElement("a",ip({},w,{href:F||N,onClick:Y||u?s:J,ref:n,target:p}))});var p0;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(p0||(p0={}));var g0;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(g0||(g0={}));function sI(r,e){let{target:n,replace:s,state:o,preventScrollReset:u,relative:f,viewTransition:m}=e===void 0?{}:e,p=Tu(),y=uf(),E=CT(r,{relative:f});return ae.useCallback(S=>{if(ZR(S,n)){S.preventDefault();let w=s!==void 0?s:Vh(y)===Vh(E);p(r,{replace:w,state:o,preventScrollReset:u,relative:f,viewTransition:m})}},[y,p,E,s,o,n,r,u,f,m])}const aI=()=>{};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},oI=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},MT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(w=64)),s.push(n[E],n[S],n[w],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(NT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):oI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new lI;const w=u<<2|m>>4;if(s.push(w),y!==64){const L=m<<4&240|y>>2;if(s.push(L),S!==64){const F=y<<6&192|S;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uI=function(r){const e=NT(r);return MT.encodeByteArray(e,!0)},Ph=function(r){return uI(r).replace(/\./g,"")},VT=function(r){try{return MT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>cI().__FIREBASE_DEFAULTS__,fI=()=>{if(typeof process>"u"||typeof y0>"u")return;const r=y0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&VT(r[1]);return e&&JSON.parse(e)},cf=()=>{try{return aI()||hI()||fI()||dI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},PT=r=>cf()?.emulatorHosts?.[r],mI=r=>{const e=PT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kT=()=>cf()?.config,UT=r=>cf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(f)),""].join(".")}const Jl={};function yI(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?r.emulator.push(e):r.prod.push(e);return r}function _I(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let _0=!1;function jT(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Jl[r]===e||Jl[r]||_0)return;Jl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=yI().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{_0=!0,f()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=_I(s),L=n("text"),F=document.getElementById(L)||document.createElement("span"),Y=n("learnmore"),N=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),J=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;m(ee),E(N,Y);const ce=y();p(J,ne),ee.append(J,F,N,ce),document.body.appendChild(ee)}u?(F.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function EI(){const r=cf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wI(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function AI(){return!EI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RI(){try{return typeof indexedDB=="object"}catch{return!1}}function II(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="FirebaseError";class li extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=CI,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?xI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new li(o,m,s)}}function xI(r,e){return r.replace(DI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const DI=/\{\$([^}]+)}/g;function OI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(v0(u)&&v0(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function v0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function NI(r,e){const n=new MI(r,e);return n.subscribe.bind(n)}class MI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");VI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Um),o.error===void 0&&(o.error=Um),o.complete===void 0&&(o.complete=Um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UI(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kI(r){return r===Hs?void 0:r}function UI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const jI={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},zI=Pe.INFO,BI={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},qI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=BI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jp{constructor(e){this.name=e,this._logLevel=zI,this._logHandler=qI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const HI=(r,e)=>e.some(n=>r instanceof n);let E0,T0;function FI(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GI(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,sp=new WeakMap,BT=new WeakMap,Lm=new WeakMap,zp=new WeakMap;function KI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&zT.set(n,r)}).catch(()=>{}),zp.set(e,r),e}function YI(r){if(sp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});sp.set(r,e)}let ap={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return sp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||BT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QI(r){ap=r(ap)}function $I(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(jm(this),e,...n);return BT.set(s,e.sort?e.sort():[e]),Qi(s)}:GI().includes(r)?function(...e){return r.apply(jm(this),e),Qi(zT.get(this))}:function(...e){return Qi(r.apply(jm(this),e))}}function XI(r){return typeof r=="function"?$I(r):(r instanceof IDBTransaction&&YI(r),HI(r,FI())?new Proxy(r,ap):r)}function Qi(r){if(r instanceof IDBRequest)return KI(r);if(Lm.has(r))return Lm.get(r);const e=XI(r);return e!==r&&(Lm.set(r,e),zp.set(e,r)),e}const jm=r=>zp.get(r);function WI(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qi(f.result),p.oldVersion,p.newVersion,Qi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ZI=["get","getKey","getAll","getAllKeys","count"],JI=["put","add","delete","clear"],zm=new Map;function S0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=JI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return zm.set(e,u),u}QI(r=>({...r,get:(e,n,s)=>S0(e,n)||r.get(e,n,s),has:(e,n)=>!!S0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tC(r){return r.getComponent()?.type==="VERSION"}const op="@firebase/app",b0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new jp("@firebase/app"),nC="@firebase/app-compat",rC="@firebase/analytics-compat",iC="@firebase/analytics",sC="@firebase/app-check-compat",aC="@firebase/app-check",oC="@firebase/auth",lC="@firebase/auth-compat",uC="@firebase/database",cC="@firebase/data-connect",hC="@firebase/database-compat",fC="@firebase/functions",dC="@firebase/functions-compat",mC="@firebase/installations",pC="@firebase/installations-compat",gC="@firebase/messaging",yC="@firebase/messaging-compat",_C="@firebase/performance",vC="@firebase/performance-compat",EC="@firebase/remote-config",TC="@firebase/remote-config-compat",SC="@firebase/storage",bC="@firebase/storage-compat",wC="@firebase/firestore",AC="@firebase/ai",RC="@firebase/firestore-compat",IC="firebase",CC="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",xC={[op]:"fire-core",[nC]:"fire-core-compat",[iC]:"fire-analytics",[rC]:"fire-analytics-compat",[aC]:"fire-app-check",[sC]:"fire-app-check-compat",[oC]:"fire-auth",[lC]:"fire-auth-compat",[uC]:"fire-rtdb",[cC]:"fire-data-connect",[hC]:"fire-rtdb-compat",[fC]:"fire-fn",[dC]:"fire-fn-compat",[mC]:"fire-iid",[pC]:"fire-iid-compat",[gC]:"fire-fcm",[yC]:"fire-fcm-compat",[_C]:"fire-perf",[vC]:"fire-perf-compat",[EC]:"fire-rc",[TC]:"fire-rc-compat",[SC]:"fire-gcs",[bC]:"fire-gcs-compat",[wC]:"fire-fst",[RC]:"fire-fst-compat",[AC]:"fire-vertex","fire-js":"fire-js",[IC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,DC=new Map,up=new Map;function w0(r,e){try{r.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function vo(r){const e=r.name;if(up.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,r);for(const n of kh.values())w0(n,r);for(const n of DC.values())w0(n,r);return!0}function Bp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new Su("app","Firebase",OC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=CC;function qT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:lp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(n||(n=kT()),!n)throw $i.create("no-options");const u=kh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw $i.create("duplicate-app",{appName:o})}const f=new LI(o);for(const p of up.values())f.addComponent(p);const m=new NC(n,s,f);return kh.set(o,m),m}function HT(r=lp){const e=kh.get(r);if(!e&&r===lp&&kT())return qT();if(!e)throw $i.create("no-app",{appName:r});return e}function Xi(r,e,n){let s=xC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(f.join(" "));return}vo(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firebase-heartbeat-database",VC=1,uu="firebase-heartbeat-store";let Bm=null;function FT(){return Bm||(Bm=WI(MC,VC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw $i.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function PC(r){try{const n=(await FT()).transaction(uu),s=await n.objectStore(uu).get(GT(r));return await n.done,s}catch(e){if(e instanceof li)ii.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}}async function A0(r,e){try{const s=(await FT()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,GT(r)),await s.done}catch(n){if(n instanceof li)ii.warn(n.message);else{const s=$i.create("idb-set",{originalErrorMessage:n?.message});ii.warn(s.message)}}}function GT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1024,UC=30;class LC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>UC){const o=BC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R0(),{heartbeatsToSend:n,unsentEntries:s}=jC(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ii.warn(e),""}}}function R0(){return new Date().toISOString().substring(0,10)}function jC(r,e=kC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),I0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),I0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RI()?II().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function I0(r){return Ph(JSON.stringify({version:2,heartbeats:r})).length}function BC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){vo(new Ws("platform-logger",e=>new eC(e),"PRIVATE")),vo(new Ws("heartbeat",e=>new LC(e),"PRIVATE")),Xi(op,b0,r),Xi(op,b0,"esm2020"),Xi("fire-js","")}qC("");function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HC=KT,YT=new Su("auth","Firebase",KT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new jp("@firebase/auth");function FC(r,...e){Uh.logLevel<=Pe.WARN&&Uh.warn(`Auth (${xo}): ${r}`,...e)}function Eh(r,...e){Uh.logLevel<=Pe.ERROR&&Uh.error(`Auth (${xo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(r,...e){throw qp(r,...e)}function Er(r,...e){return qp(r,...e)}function QT(r,e,n){const s={...HC(),[e]:n};return new Su("auth","Firebase",s).create(e,{appName:r.name})}function ni(r){return QT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return YT.create(r,...e)}function Se(r,e,...n){if(!r)throw qp(e,...n)}function ei(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Eh(e),new Error(e)}function si(r,e){r||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){return typeof self<"u"&&self.location?.href||""}function GC(){return C0()==="http:"||C0()==="https:"}function C0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GC()||SI()||"connection"in navigator)?navigator.onLine:!0}function YC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=vI()||bI()}get(){return KC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(r,e){si(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XC=new wu(3e4,6e4);function as(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ui(r,e,n,s,o={}){return XT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=bu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return TI()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(y.credentials="include"),$T.fetch()(await WT(r,r.config.apiHost,n,m),y)})}async function XT(r,e,n){r._canInitEmulator=!1;const s={...QC,...e};try{const o=new ZC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ah(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ah(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw QT(r,E,y);tr(r,E)}}catch(o){if(o instanceof li)throw o;tr(r,"network-request-failed",{message:String(o)})}}async function Au(r,e,n,s,o={}){const u=await ui(r,e,n,s,o);return"mfaPendingCredential"in u&&tr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function WT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Hp(r.config,o):`${r.config.apiScheme}://${o}`;return $C.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function WC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Er(this.auth,"network-request-failed")),XC.get())})}}function ah(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Er(r,e,s);return o.customData._tokenResponse=n,o}function x0(r){return r!==void 0&&r.enterprise!==void 0}class JC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ex(r,e){return ui(r,"GET","/v2/recaptchaConfig",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(r,e){return ui(r,"POST","/v1/accounts:delete",e)}async function Lh(r,e){return ui(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nx(r,e=!1){const n=yn(r),s=await n.getIdToken(e),o=Fp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:eu(qm(o.auth_time)),issuedAtTime:eu(qm(o.iat)),expirationTime:eu(qm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function qm(r){return Number(r)*1e3}function Fp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=VT(n);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function D0(r){const e=Fp(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof li&&rx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function rx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(r){const e=r.auth,n=await r.getIdToken(),s=await Eo(r,Lh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ZT(o.providerUserInfo):[],f=ax(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function sx(r){const e=yn(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ax(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ZT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(r,e){const n=await XT(r,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await WT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(p.credentials="include"),$T.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lx(r,e){return ui(r,"POST","/v2/accounts:revokeToken",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=D0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ox(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ix(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nx(this,e)}reload(){return sx(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await Eo(this,tx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:L,providerData:F,stsTokenManager:Y}=n;Se(S&&Y,e,"internal-error");const N=lo.fromJSON(this.name,Y);Se(typeof S=="string",e,"internal-error"),Li(s,e.name),Li(o,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof L=="boolean",e,"internal-error"),Li(u,e.name),Li(f,e.name),Li(m,e.name),Li(p,e.name),Li(y,e.name),Li(E,e.name);const ne=new Zn({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:N,createdAt:y,lastLoginAt:E});return F&&Array.isArray(F)&&(ne.providerData=F.map(J=>({...J}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ZT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function ti(r){si(r instanceof Function,"Expected a class definition");let e=O0.get(r);return e?(si(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,O0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const N0=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,u),this.fullPersistenceKey=Th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ti(N0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ti(N0);const f=Th(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await Lh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await Zn._fromGetAccountInfoResponse(e,w,E)}else S=Zn._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s1(e))return"Blackberry";if(a1(e))return"Webos";if(t1(e))return"Safari";if((e.includes("chrome/")||n1(e))&&!e.includes("edge/"))return"Chrome";if(i1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function e1(r=an()){return/firefox\//i.test(r)}function t1(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n1(r=an()){return/crios\//i.test(r)}function r1(r=an()){return/iemobile/i.test(r)}function i1(r=an()){return/android/i.test(r)}function s1(r=an()){return/blackberry/i.test(r)}function a1(r=an()){return/webos/i.test(r)}function Gp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ux(r=an()){return Gp(r)&&!!window.navigator?.standalone}function cx(){return wI()&&document.documentMode===10}function o1(r=an()){return Gp(r)||i1(r)||a1(r)||s1(r)||/windows phone/i.test(r)||r1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(r,e=[]){let n;switch(r){case"Browser":n=M0(an());break;case"Worker":n=`${M0(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(r,e={}){return ui(r,"GET","/v2/passwordPolicy",as(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=6;class mx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new hx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(ni(this));const n=e?yn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fx(this),n=new mx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ia(r){return yn(r)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=NI(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gx(r){hf=r}function u1(r){return hf.loadJS(r)}function yx(){return hf.recaptchaEnterpriseScript}function _x(){return hf.gapiScript}function vx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Ex{constructor(){this.enterprise=new Tx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Tx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Sx="recaptcha-enterprise",c1="NO_RECAPTCHA";class bx{constructor(e){this.type=Sx,this.auth=ia(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{ex(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new JC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;x0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(c1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ex().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&x0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=yx();p.length!==0&&(p+=m),u1(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function P0(r,e,n,s=!1,o=!1){const u=new bx(r);let f;if(o)f=c1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await P0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await P0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(r,e){const n=Bp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return o;tr(o,"already-initialized")}return n.initialize({options:e})}function Ax(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Rx(r,e,n){const s=ia(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=h1(e),{host:f,port:m}=Ix(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Xs(y,s.config.emulator)&&Xs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Co(f)?(LT(`${u}//${f}${p}`),jT("Auth",!0)):Cx()}function h1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Ix(r){const e=h1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:k0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:k0(f)}}}function k0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Cx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function xx(r,e){return ui(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(r,e){return Au(r,"POST","/v1/accounts:signInWithPassword",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(r,e){return Au(r,"POST","/v1/accounts:signInWithEmailLink",as(r,e))}async function Nx(r,e){return Au(r,"POST","/v1/accounts:signInWithEmailLink",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Kp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,n,"signInWithPassword",Dx);case"emailLink":return Ox(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,s,"signUpPassword",xx);case"emailLink":return Nx(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r,e){return Au(r,"POST","/v1/accounts:signInWithIdp",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="http://localhost";class Zs extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:Mx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Px(r){const e=Kl(Yl(r)).link,n=e?Kl(Yl(e)).deep_link_id:null,s=Kl(Yl(r)).deep_link_id;return(s?Kl(Yl(s)).link:null)||s||n||e||r}class Yp{constructor(e){const n=Kl(Yl(e)),s=n.apiKey??null,o=n.oobCode??null,u=Vx(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Px(e);try{return new Yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Yp.parseLink(n);return Se(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Ru{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return qi.credential(n,s)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ru{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ru{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(r,e){return Au(r,"POST","/v1/accounts:signUp",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),f=U0(s);return new Js({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=U0(s);return new Js({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function U0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends li{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new zh(e,n,s,o)}}function d1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,u,e,s):u})}async function Ux(r,e,n=!1){const s=await Eo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Js._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(r,e,n=!1){const{auth:s}=r;if(qn(s.app))return Promise.reject(ni(s));const o="reauthenticate";try{const u=await Eo(r,d1(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Fp(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),Js._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&tr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(r,e,n=!1){if(qn(r.app))return Promise.reject(ni(r));const s="signIn",o=await d1(r,s,e),u=await Js._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function jx(r,e){return m1(ia(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(r){const e=ia(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zx(r,e,n){if(qn(r.app))return Promise.reject(ni(r));const s=ia(r),f=await fp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&p1(r),p}),m=await Js._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Bx(r,e,n){return qn(r.app)?Promise.reject(ni(r)):jx(yn(r),Do.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&p1(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(r,e){return ui(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=yn(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Eo(s,qx(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function Fx(r,e,n,s){return yn(r).onIdTokenChanged(e,n,s)}function Gx(r,e,n){return yn(r).beforeAuthStateChanged(e,n)}function Kx(r,e,n,s){return yn(r).onAuthStateChanged(e,n,s)}function Yx(r){return yn(r).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1e3,$x=10;class y1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);cx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$x):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const Xx=y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_1.type="SESSION";const v1=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ff(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await Wx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Qp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function Jx(r){Tr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function eD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tD(){return navigator?.serviceWorker?.controller||null}function nD(){return E1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firebaseLocalStorageDb",rD=1,qh="firebaseLocalStorage",S1="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(r,e){return r.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function iD(){const r=indexedDB.deleteDatabase(T1);return new Iu(r).toPromise()}function dp(){const r=indexedDB.open(T1,rD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(qh,{keyPath:S1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(qh)?e(s):(s.close(),await iD(),e(await dp()))})})}async function L0(r,e,n){const s=df(r,!0).put({[S1]:e,value:n});return new Iu(s).toPromise()}async function sD(r,e){const n=df(r,!1).get(e),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function j0(r,e){const n=df(r,!0).delete(e);return new Iu(n).toPromise()}const aD=800,oD=3;class b1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(nD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eD(),!this.activeServiceWorker)return;this.sender=new Zx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await L0(e,Bh,"1"),await j0(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>L0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=df(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b1.type="LOCAL";const lD=b1;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(r,e){return e?ti(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends Kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cD(r){return m1(r.auth,new $p(r),r.bypassAuthState)}function hD(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),Lx(n,new $p(r),r.bypassAuthState)}async function fD(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),Ux(n,new $p(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cD;case"linkViaPopup":case"linkViaRedirect":return fD;case"reauthViaPopup":case"reauthViaRedirect":return hD;default:tr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new wu(2e3,1e4);class oo extends w1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dD.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="pendingRedirect",Sh=new Map;class pD extends w1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await gD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gD(r,e){const n=vD(e),s=_D(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function yD(r,e){Sh.set(r._key(),e)}function _D(r){return ti(r._redirectPersistence)}function vD(r){return Th(mD,r.config.apiKey,r.name)}async function ED(r,e,n=!1){if(qn(r.app))return Promise.reject(ni(r));const s=ia(r),o=uD(s,e),f=await new pD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=600*1e3;class SD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!A1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TD&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function A1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function bD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,e={}){return ui(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RD=/^https?/;async function ID(r){if(r.config.emulator)return;const{authorizedDomains:e}=await wD(r);for(const n of e)try{if(CD(n))return}catch{}tr(r,"unauthorized-domain")}function CD(r){const e=cp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!RD.test(n))return!1;if(AD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new wu(3e4,6e4);function B0(){const r=Tr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DD(r){return new Promise((e,n)=>{function s(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(Er(r,"network-request-failed"))},timeout:xD.get()})}if(Tr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tr().gapi?.load)s();else{const o=vx("iframefcb");return Tr()[o]=()=>{gapi.load?s():n(Er(r,"network-request-failed"))},u1(`${_x()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw bh=null,e})}let bh=null;function OD(r){return bh=bh||DD(r),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new wu(5e3,15e3),MD="__/auth/iframe",VD="emulator/auth/iframe",PD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UD(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Hp(e,VD):`https://${r.config.authDomain}/${MD}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=kD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${bu(s).slice(1)}`}async function LD(r){const e=await OD(r),n=Tr().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:UD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Er(r,"network-request-failed"),m=Tr().setTimeout(()=>{u(f)},ND.get());function p(){Tr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zD=500,BD=600,qD="_blank",HD="http://localhost";class q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FD(r,e,n,s=zD,o=BD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...jD,width:s.toString(),height:o.toString(),top:u,left:f},y=an().toLowerCase();n&&(m=n1(y)?qD:n),e1(y)&&(e=e||HD,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[L,F])=>`${w}${L}=${F},`,"");if(ux(y)&&m!=="_self")return GD(e||"",m),new q0(null);const S=window.open(e||"",m,E);Se(S,r,"popup-blocked");try{S.focus()}catch{}return new q0(S)}function GD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="__/auth/handler",YD="emulator/auth/handler",QD=encodeURIComponent("fac");async function H0(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof f1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",OI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Ru){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${QD}=${encodeURIComponent(p)}`:"";return`${$D(r)}?${bu(m).slice(1)}${y}`}function $D({config:r}){return r.emulator?Hp(r,YD):`https://${r.authDomain}/${KD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class XD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=ED,this._overrideRedirectResult=yD}async _openPopup(e,n,s,o){si(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await H0(e,n,s,cp(),o);return FD(e,u,Qp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await H0(e,n,s,cp(),o);return Jx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(si(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await LD(e),s=new SD(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},o=>{const u=o?.[0]?.[Hm];u!==void 0&&n(!!u),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ID(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o1()||t1()||Gp()}}const WD=XD;var F0="@firebase/auth",G0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e2(r){vo(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(r)},y=new px(s,o,u,p);return Ax(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vo(new Ws("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(s=>new ZD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(F0,G0,JD(r)),Xi(F0,G0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=300,n2=UT("authIdTokenMaxAge")||t2;let K0=null;const r2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>n2)return;const o=n?.token;K0!==o&&(K0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function i2(r=HT()){const e=Bp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=wx(r,{popupRedirectResolver:WD,persistence:[lD,Xx,v1]}),s=UT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=r2(u.toString());Gx(n,f,()=>f(n.currentUser)),Fx(n,m=>f(m))}}const o=PT("auth");return o&&Rx(n,`http://${o}`),n}function s2(){return document.getElementsByTagName("head")?.[0]??document}gx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Er("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",s2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e2("Browser");var Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,R1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function C(){}C.prototype=A.prototype,x.D=A.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(V,P,U){for(var D=Array(arguments.length-2),It=2;It<arguments.length;It++)D[It-2]=arguments[It];return A.prototype[P].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,C){C||(C=0);var V=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)V[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;16>P;++P)V[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=x.g[0],C=x.g[1],P=x.g[2];var U=x.g[3],D=A+(U^C&(P^U))+V[0]+3614090360&4294967295;A=C+(D<<7&4294967295|D>>>25),D=U+(P^A&(C^P))+V[1]+3905402710&4294967295,U=A+(D<<12&4294967295|D>>>20),D=P+(C^U&(A^C))+V[2]+606105819&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(A^P&(U^A))+V[3]+3250441966&4294967295,C=P+(D<<22&4294967295|D>>>10),D=A+(U^C&(P^U))+V[4]+4118548399&4294967295,A=C+(D<<7&4294967295|D>>>25),D=U+(P^A&(C^P))+V[5]+1200080426&4294967295,U=A+(D<<12&4294967295|D>>>20),D=P+(C^U&(A^C))+V[6]+2821735955&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(A^P&(U^A))+V[7]+4249261313&4294967295,C=P+(D<<22&4294967295|D>>>10),D=A+(U^C&(P^U))+V[8]+1770035416&4294967295,A=C+(D<<7&4294967295|D>>>25),D=U+(P^A&(C^P))+V[9]+2336552879&4294967295,U=A+(D<<12&4294967295|D>>>20),D=P+(C^U&(A^C))+V[10]+4294925233&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(A^P&(U^A))+V[11]+2304563134&4294967295,C=P+(D<<22&4294967295|D>>>10),D=A+(U^C&(P^U))+V[12]+1804603682&4294967295,A=C+(D<<7&4294967295|D>>>25),D=U+(P^A&(C^P))+V[13]+4254626195&4294967295,U=A+(D<<12&4294967295|D>>>20),D=P+(C^U&(A^C))+V[14]+2792965006&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(A^P&(U^A))+V[15]+1236535329&4294967295,C=P+(D<<22&4294967295|D>>>10),D=A+(P^U&(C^P))+V[1]+4129170786&4294967295,A=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(A^C))+V[6]+3225465664&4294967295,U=A+(D<<9&4294967295|D>>>23),D=P+(A^C&(U^A))+V[11]+643717713&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^A&(P^U))+V[0]+3921069994&4294967295,C=P+(D<<20&4294967295|D>>>12),D=A+(P^U&(C^P))+V[5]+3593408605&4294967295,A=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(A^C))+V[10]+38016083&4294967295,U=A+(D<<9&4294967295|D>>>23),D=P+(A^C&(U^A))+V[15]+3634488961&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^A&(P^U))+V[4]+3889429448&4294967295,C=P+(D<<20&4294967295|D>>>12),D=A+(P^U&(C^P))+V[9]+568446438&4294967295,A=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(A^C))+V[14]+3275163606&4294967295,U=A+(D<<9&4294967295|D>>>23),D=P+(A^C&(U^A))+V[3]+4107603335&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^A&(P^U))+V[8]+1163531501&4294967295,C=P+(D<<20&4294967295|D>>>12),D=A+(P^U&(C^P))+V[13]+2850285829&4294967295,A=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(A^C))+V[2]+4243563512&4294967295,U=A+(D<<9&4294967295|D>>>23),D=P+(A^C&(U^A))+V[7]+1735328473&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^A&(P^U))+V[12]+2368359562&4294967295,C=P+(D<<20&4294967295|D>>>12),D=A+(C^P^U)+V[5]+4294588738&4294967295,A=C+(D<<4&4294967295|D>>>28),D=U+(A^C^P)+V[8]+2272392833&4294967295,U=A+(D<<11&4294967295|D>>>21),D=P+(U^A^C)+V[11]+1839030562&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^A)+V[14]+4259657740&4294967295,C=P+(D<<23&4294967295|D>>>9),D=A+(C^P^U)+V[1]+2763975236&4294967295,A=C+(D<<4&4294967295|D>>>28),D=U+(A^C^P)+V[4]+1272893353&4294967295,U=A+(D<<11&4294967295|D>>>21),D=P+(U^A^C)+V[7]+4139469664&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^A)+V[10]+3200236656&4294967295,C=P+(D<<23&4294967295|D>>>9),D=A+(C^P^U)+V[13]+681279174&4294967295,A=C+(D<<4&4294967295|D>>>28),D=U+(A^C^P)+V[0]+3936430074&4294967295,U=A+(D<<11&4294967295|D>>>21),D=P+(U^A^C)+V[3]+3572445317&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^A)+V[6]+76029189&4294967295,C=P+(D<<23&4294967295|D>>>9),D=A+(C^P^U)+V[9]+3654602809&4294967295,A=C+(D<<4&4294967295|D>>>28),D=U+(A^C^P)+V[12]+3873151461&4294967295,U=A+(D<<11&4294967295|D>>>21),D=P+(U^A^C)+V[15]+530742520&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^A)+V[2]+3299628645&4294967295,C=P+(D<<23&4294967295|D>>>9),D=A+(P^(C|~U))+V[0]+4096336452&4294967295,A=C+(D<<6&4294967295|D>>>26),D=U+(C^(A|~P))+V[7]+1126891415&4294967295,U=A+(D<<10&4294967295|D>>>22),D=P+(A^(U|~C))+V[14]+2878612391&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~A))+V[5]+4237533241&4294967295,C=P+(D<<21&4294967295|D>>>11),D=A+(P^(C|~U))+V[12]+1700485571&4294967295,A=C+(D<<6&4294967295|D>>>26),D=U+(C^(A|~P))+V[3]+2399980690&4294967295,U=A+(D<<10&4294967295|D>>>22),D=P+(A^(U|~C))+V[10]+4293915773&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~A))+V[1]+2240044497&4294967295,C=P+(D<<21&4294967295|D>>>11),D=A+(P^(C|~U))+V[8]+1873313359&4294967295,A=C+(D<<6&4294967295|D>>>26),D=U+(C^(A|~P))+V[15]+4264355552&4294967295,U=A+(D<<10&4294967295|D>>>22),D=P+(A^(U|~C))+V[6]+2734768916&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~A))+V[13]+1309151649&4294967295,C=P+(D<<21&4294967295|D>>>11),D=A+(P^(C|~U))+V[4]+4149444226&4294967295,A=C+(D<<6&4294967295|D>>>26),D=U+(C^(A|~P))+V[11]+3174756917&4294967295,U=A+(D<<10&4294967295|D>>>22),D=P+(A^(U|~C))+V[2]+718787259&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var C=A-this.blockSize,V=this.B,P=this.h,U=0;U<A;){if(P==0)for(;U<=C;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<A;)if(V[P++]=x.charCodeAt(U++),P==this.blockSize){o(this,V),P=0;break}}else for(;U<A;)if(V[P++]=x[U++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var C=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=C&255,C/=256;for(this.u(x),x=Array(16),A=C=0;4>A;++A)for(var V=0;32>V;V+=8)x[C++]=this.g[A]>>>V&255;return x};function u(x,A){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=A(x)}function f(x,A){this.h=A;for(var C=[],V=!0,P=x.length-1;0<=P;P--){var U=x[P]|0;V&&U==A||(C[P]=U,V=!1)}this.g=C}var m={};function p(x){return-128<=x&&128>x?u(x,function(A){return new f([A|0],0>A?-1:0)}):new f([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return N(y(-x));for(var A=[],C=1,V=0;x>=C;V++)A[V]=x/C|0,C*=4294967296;return new f(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return N(E(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(A,8)),V=S,P=0;P<x.length;P+=8){var U=Math.min(8,x.length-P),D=parseInt(x.substring(P,P+U),A);8>U?(U=y(Math.pow(A,U)),V=V.j(U).add(y(D))):(V=V.j(C),V=V.add(y(D)))}return V}var S=p(0),w=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-N(this).m();for(var x=0,A=1,C=0;C<this.g.length;C++){var V=this.i(C);x+=(0<=V?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if(Y(this))return"-"+N(this).toString(x);for(var A=y(Math.pow(x,6)),C=this,V="";;){var P=ce(C,A).g;C=ne(C,P.j(A));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=P,F(C))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=ne(this,x),Y(x)?-1:F(x)?0:1};function N(x){for(var A=x.g.length,C=[],V=0;V<A;V++)C[V]=~x.g[V];return new f(C,~x.h).add(w)}r.abs=function(){return Y(this)?N(this):this},r.add=function(x){for(var A=Math.max(this.g.length,x.g.length),C=[],V=0,P=0;P<=A;P++){var U=V+(this.i(P)&65535)+(x.i(P)&65535),D=(U>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);V=D>>>16,U&=65535,D&=65535,C[P]=D<<16|U}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ne(x,A){return x.add(N(A))}r.j=function(x){if(F(this)||F(x))return S;if(Y(this))return Y(x)?N(this).j(N(x)):N(N(this).j(x));if(Y(x))return N(this.j(N(x)));if(0>this.l(L)&&0>x.l(L))return y(this.m()*x.m());for(var A=this.g.length+x.g.length,C=[],V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<x.g.length;P++){var U=this.i(V)>>>16,D=this.i(V)&65535,It=x.i(P)>>>16,st=x.i(P)&65535;C[2*V+2*P]+=D*st,J(C,2*V+2*P),C[2*V+2*P+1]+=U*st,J(C,2*V+2*P+1),C[2*V+2*P+1]+=D*It,J(C,2*V+2*P+1),C[2*V+2*P+2]+=U*It,J(C,2*V+2*P+2)}for(V=0;V<A;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=A;V<2*A;V++)C[V]=0;return new f(C,0)};function J(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ee(x,A){this.g=x,this.h=A}function ce(x,A){if(F(A))throw Error("division by zero");if(F(x))return new ee(S,S);if(Y(x))return A=ce(N(x),A),new ee(N(A.g),N(A.h));if(Y(A))return A=ce(x,N(A)),new ee(N(A.g),A.h);if(30<x.g.length){if(Y(x)||Y(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=A;0>=V.l(x);)C=oe(C),V=oe(V);var P=ue(C,1),U=ue(V,1);for(V=ue(V,2),C=ue(C,2);!F(V);){var D=U.add(V);0>=D.l(x)&&(P=P.add(C),U=D),V=ue(V,1),C=ue(C,1)}return A=ne(x,P.j(A)),new ee(P,A)}for(P=S;0<=x.l(A);){for(C=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=y(C),D=U.j(A);Y(D)||0<D.l(x);)C-=V,U=y(C),D=U.j(A);F(U)&&(U=w),P=P.add(U),x=ne(x,D)}return new ee(P,x)}r.A=function(x){return ce(this,x).h},r.and=function(x){for(var A=Math.max(this.g.length,x.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)&x.i(V);return new f(C,this.h&x.h)},r.or=function(x){for(var A=Math.max(this.g.length,x.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)|x.i(V);return new f(C,this.h|x.h)},r.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)^x.i(V);return new f(C,this.h^x.h)};function oe(x){for(var A=x.g.length+1,C=[],V=0;V<A;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(C,x.h)}function ue(x,A){var C=A>>5;A%=32;for(var V=x.g.length-C,P=[],U=0;U<V;U++)P[U]=0<A?x.i(U+C)>>>A|x.i(U+C+1)<<32-A:x.i(U+C);return new f(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,R1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Wi=f}).apply(typeof Y0<"u"?Y0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,Ql,C1,wh,mp,x1,D1,O1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break e;_=_[j]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var G=_++;return{value:g(G,c[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function w(c,g,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function L(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function F(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,G){for(var se=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)se[Le-2]=arguments[Le];return g.prototype[j].apply(b,se)}}function Y(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function N(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const j=c.length||0,G=b.length||0;c.length=j+G;for(let se=0;se<G;se++)c[j+se]=b[se]}else c.push(b)}}class ne{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var oe=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ue(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let G=0;G<C.length;G++)_=C[G],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ce;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class It{constructor(){this.h=this.g=null}add(g,_){const b=st.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var st=new ne(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,Ce=new It,O=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(Z)}};var Z=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var g=st;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ie(c,g){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(oe){e:{try{ce(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}F(Ie,re);var ye={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Pt(c,g,_,b,j){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=j,this.key=++qe,this.da=this.fa=!1}function Cn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hn(c){this.src=c,this.g={},this.h=0}hn.prototype.add=function(c,g,_,b,j){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=os(c,g,b,j);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new Pt(g,this.src,G,!!b,j),g.fa=_,c.push(g)),g};function Zt(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,g,void 0),G;(G=0<=j)&&Array.prototype.splice.call(b,j,1),G&&(Cn(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function os(c,g,_,b){for(var j=0;j<c.length;++j){var G=c[j];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==b)return j}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Po={};function Vu(c,g,_,b,j){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Vu(c,g[G],_,b,j);return null}return _=Pu(_),c&&c[lt]?c.K(g,_,y(b)?!!b.capture:!1,j):xn(c,g,_,!1,b,j)}function xn(c,g,_,b,j,G){if(!g)throw Error("Invalid event type");var se=y(j)?!!j.capture:!!j,Le=ca(c);if(Le||(c[ls]=Le=new hn(c)),_=Le.add(g,_,b,se,G),_.proxy)return _;if(b=Rf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)me||(j=se),j===void 0&&(j=!1),c.addEventListener(g.toString(),b,j);else if(c.attachEvent)c.attachEvent(us(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Rf(){function c(_){return g.call(c.src,c.listener,_)}const g=If;return c}function ko(c,g,_,b,j){if(Array.isArray(g))for(var G=0;G<g.length;G++)ko(c,g[G],_,b,j);else b=y(b)?!!b.capture:!!b,_=Pu(_),c&&c[lt]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],_=os(G,_,b,j),-1<_&&(Cn(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=ca(c))&&(g=c.g[g.toString()],c=-1,g&&(c=os(g,_,b,j)),(_=-1<c?g[c]:null)&&ua(_))}function ua(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[lt])Zt(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(us(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=ca(g))?(Zt(_,c),_.h==0&&(_.src=null,g[ls]=null)):Cn(c)}}}function us(c){return c in Po?Po[c]:Po[c]="on"+c}function If(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&ua(c),c=_.call(b,g)}return c}function ca(c){return c=c[ls],c instanceof hn?c:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(c){return typeof c=="function"?c:(c[Uo]||(c[Uo]=function(g){return c.handleEvent(g)}),c[Uo])}function ft(){ie.call(this),this.i=new hn(this),this.M=this,this.F=null}F(ft,ie),ft.prototype[lt]=!0,ft.prototype.removeEventListener=function(c,g,_,b){ko(this,c,g,_,b)};function Qe(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new re(g,c);else if(g instanceof re)g.target=g.target||c;else{var j=g;g=new re(b,c),V(g,j)}if(j=!0,_)for(var G=_.length-1;0<=G;G--){var se=g.g=_[G];j=_n(se,b,!0,g)&&j}if(se=g.g=c,j=_n(se,b,!0,g)&&j,j=_n(se,b,!1,g)&&j,_)for(G=0;G<_.length;G++)se=g.g=_[G],j=_n(se,b,!1,g)&&j}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)Cn(_[b]);delete c.g[g],c.h--}}this.F=null},ft.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},ft.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function _n(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,G=0;G<g.length;++G){var se=g[G];if(se&&!se.da&&se.capture==_){var Le=se.listener,xt=se.ha||se.src;se.fa&&Zt(c.i,se),j=Le.call(xt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Jt(c,g,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ku(c){c.g=Jt(()=>{c.g=null,c.i&&(c.i=!1,ku(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Cf extends ie{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){ie.call(this),this.h=c,this.g={}}F(cs,ie);var hs=[];function fs(c){ue(c.g,function(g,_){this.g.hasOwnProperty(_)&&ua(g)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=m.JSON.stringify,ha=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Lo(){}Lo.prototype.h=null;function jo(c){return c.h||(c.h=c.i())}function zo(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){re.call(this,"d")}F(xr,re);function Bo(){re.call(this,"c")}F(Bo,re);var nr={},qo=null;function ci(){return qo=qo||new ft}nr.La="serverreachability";function fa(c){re.call(this,nr.La,c)}F(fa,re);function hi(c){const g=ci();Qe(g,new fa(g))}nr.STAT_EVENT="statevent";function Uu(c,g){re.call(this,nr.STAT_EVENT,c),this.stat=g}F(Uu,re);function at(c){const g=ci();Qe(g,new Uu(g,c))}nr.Ma="timingevent";function Ct(c,g){re.call(this,nr.Ma,c),this.size=g}F(Ct,re);function vt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function Ho(c,g,_,b,j,G){c.info(function(){if(c.g)if(G)for(var se="",Le=G.split("&"),xt=0;xt<Le.length;xt++){var je=Le[xt].split("=");if(1<je.length){var Ut=je[0];je=je[1];var Dt=Ut.split("_");se=2<=Dt.length&&Dt[1]=="type"?se+(Ut+"="+je+"&"):se+(Ut+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+g+`
`+_+`
`+se})}function xf(c,g,_,b,j,G,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+g+`
`+_+`
`+G+" "+se})}function fi(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ms(c,_)+(b?" "+b:"")})}function Lu(c,g){c.info(function(){return"TIMEOUT: "+g})}Dn.prototype.info=function(){};function ms(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Kn(_)}catch{return g}}var di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function ir(){}F(ir,Lo),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},rr=new ir;function on(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Fo={},da={};function Yn(c,g,_){c.L=1,c.v=vs(vn(g)),c.m=_,c.P=!0,Or(c,null)}function Or(c,g){c.F=Date.now(),ps(c),c.A=vn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Xo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new pt,c.g=ec(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Cf(w(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(hs[0]=j.toString()),j=hs);for(var G=0;G<j.length;G++){var se=Vu(_,j[G],b||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),hi(),Ho(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const g=this.M;g&&Vn(c)==3?g.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Vn(this.g);var g=this.g.Ba();const jr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Ku(this.g)))){this.J||Dt!=4||g==7||(g==8||0>=jr?hi(3):hi(2)),mi(this);var _=this.g.Z();this.X=_;t:if(ju(this)){var b=Ku(this.g);c="";var j=b.length,G=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),sr(this);var se="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(G&&g==j-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,xf(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Le)){var je=Le;break t}}je=null}if(_=je)fi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,_);else{this.o=!1,this.s=3,at(12),Ft(this),sr(this);break e}}if(this.P){_=!0;let Gt;for(;!this.J&&this.C<se.length;)if(Gt=zu(this,se),Gt==da){Dt==4&&(this.s=4,at(14),_=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Fo){this.s=4,at(15),fi(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else fi(this.i,this.l,Gt,null),gs(this,Gt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||se.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)fi(this.i,this.l,se,"[Invalid Chunked Response]"),Ft(this),sr(this);else if(0<se.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Is(Ut),Ut.M=!0,at(11))}}else fi(this.i,this.l,se,null),gs(this,se);Dt==4&&Ft(this),this.o&&!this.J&&(Dt==4?Wu(this.j,this):(this.o=!1,ps(this)))}else Vf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Ft(this),sr(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zu(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?da:(_=Number(g.substring(_,b)),isNaN(_)?Fo:(b+=1,b+_>g.length?da:(g=g.slice(b,b+_),c.C=b+_,g)))}on.prototype.cancel=function(){this.J=!0,Ft(this)};function ps(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(w(c.ba,c),g)}function mi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Lu(this.i,this.A),this.L!=2&&(hi(),at(17)),Ft(this),this.s=2,sr(this)):Bu(this,this.S-c)};function sr(c){c.j.G==0||c.J||Wu(c.j,c)}function Ft(c){mi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,fs(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function gs(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Go(_.h,c))){if(!c.K&&Go(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Aa(_),ba(_);else break e;tl(_),at(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(w(_.Za,_),6e3));if(1>=pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Lr(_,11)}else if((c.K||_.g==c)&&Aa(_),!J(g))for(j=_.Da.g.parse(g),g=0;g<j.length;g++){let je=j[g];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Ut=je[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const Dt=je[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const jr=je[5];jr!=null&&typeof jr=="number"&&0<jr&&(b=1.5*jr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Gt=c.g;if(Gt){const fr=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fr){var G=b.h;G.g||fr.indexOf("spdy")==-1&&fr.indexOf("quic")==-1&&fr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ga(G,G.h),G.h=null))}if(b.D){const rl=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(b.ya=rl,We(b.I,b.D,rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=Ju(b,b.J?b.ia:null,b.W),se.K){ln(b.h,se);var Le=se,xt=b.L;xt&&(Le.I=xt),Le.B&&(mi(Le),ps(Le)),b.g=se}else $u(b);0<_.i.length&&wa(_)}else je[0]!="stop"&&je[0]!="close"||Lr(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Lr(_,7):Jo(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}hi(4)}catch{}}var qu=class{constructor(c,g){this.g=c,this.map=g}};function Nr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pa(c){return c.h?1:c.g?c.g.size:0}function Go(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ga(c,g){c.g?c.g.add(g):c.h=g}function ln(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Nr.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Y(c.i)}function Df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Yo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ya(c),b=Df(c),j=b.length,G=0;G<j;G++)g.call(void 0,b[G],_&&_[G],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Of(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var G=c[_].substring(0,b);j=c[_].substring(b+1)}else G=c[_];g(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,pi(this,c.s),this.l=c.l;var g=c.i,_=new Vr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Mr(this,_),this.m=c.m}else c&&(g=String(c).match(ys))?(this.h=!1,_s(this,g[1]||"",!0),this.o=On(g[2]||""),this.g=On(g[3]||"",!0),pi(this,g[4]),this.l=On(g[5]||"",!0),Mr(this,g[6]||"",!0),this.m=On(g[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}Et.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Es(g,Qo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Es(g,Qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Es(_,_.charAt(0)=="/"?Nf:$o,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Es(_,_a)),c.join("")};function vn(c){return new Et(c)}function _s(c,g,_){c.j=_?On(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function pi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Mr(c,g,_){g instanceof Vr?(c.i=g,Fu(c.i,c.h)):(_||(g=Es(g,Mf)),c.i=new Vr(g,c.h))}function We(c,g,_){c.i.set(g,_)}function vs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function On(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Hu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qo=/[#\/\?@]/g,$o=/[#\?:]/g,Nf=/[#\?]/g,Mf=/[#\?@]/g,_a=/#/g;function Vr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Of(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Vr.prototype,r.add=function(c,g){Nn(this),this.i=null,c=ar(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Pr(c,g){Nn(c),g=ar(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function kr(c,g){return Nn(c),g=ar(c,g),c.g.has(g)}r.forEach=function(c,g){Nn(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(g,j,b,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const j=c[b];for(let G=0;G<j.length;G++)_.push(g[b])}return _},r.V=function(c){Nn(this);let g=[];if(typeof c=="string")kr(this,c)&&(g=g.concat(this.g.get(ar(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Nn(this),this.i=null,c=ar(this,c),kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Xo(c,g,_){Pr(c,g),0<_.length&&(c.i=null,c.g.set(ar(c,g),Y(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const G=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var j=G;se[b]!==""&&(j+="="+encodeURIComponent(String(se[b]))),c.push(j)}}return this.i=c.join("&")};function ar(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Fu(c,g){g&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Pr(this,b),Xo(this,j,_))},c)),c.j=g}function Ts(c,g){const _=new Dn;if(m.Image){const b=new Image;b.onload=L(Mn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=L(Mn,_,"TestLoadImage: error",!1,g,b),b.onabort=L(Mn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=L(Mn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Qn(c,g){const _=new Dn,b=new AbortController,j=setTimeout(()=>{b.abort(),Mn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(j),G.ok?Mn(_,"TestPingServer: ok",!0,g):Mn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Mn(_,"TestPingServer: error",!1,g)})}function Mn(c,g,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function Ss(){this.g=new ds}function or(c,g,_){const b=_||"";try{Yo(c,function(j,G){let se=j;y(j)&&(se=Kn(j)),g.push(b+G+"="+encodeURIComponent(se))})}catch(j){throw g.push(b+"type="+encodeURIComponent("_badmap")),j}}function gi(c){this.l=c.Ub||null,this.j=c.eb||!1}F(gi,Lo),gi.prototype.g=function(){return new Ur(this.l,this.j)},gi.prototype.i=function(c){return function(){return c}}({});function Ur(c,g){ft.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ur,ft),r=Ur.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ur(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?lr(this):ur(this),this.readyState==3&&Wo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},r.Qa=function(c){this.g&&(this.response=c,lr(this))},r.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zo(c){let g="";return ue(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function kt(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Zo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,g,_))}function Ge(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ge,ft);var va=/^https?$/i,bs=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?jo(this.o):jo(rr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Gu(this,G);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())_.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,g,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of _)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Gu(this,G)}};function Gu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ea(c),cr(c)}function Ea(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},r.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Jt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=se===0){var j=String(c.D).match(ys)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!va.test(j?j.toLowerCase():"")}_=b}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var G=2<Vn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ea(c)}}finally{cr(c)}}}}function cr(c,g){if(c.g){ws(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Qe(c,"ready");try{_.onreadystatechange=b}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ha(g)}};function Ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vf(c){const g={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(J(c[b]))continue;var _=P(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[j]||[];g[j]=G,G.push(_)}x(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Sa(c){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Sa.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){at(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Ju(this,null,this.W),wa(this)};function Jo(c){if(Yu(c),c.G==3){var g=c.U++,_=vn(c.I);if(We(_,"SID",c.K),We(_,"RID",g),We(_,"TYPE","terminate"),Rs(c,_),g=new on(c,c.j,g),g.L=2,g.v=vs(vn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=ec(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ps(g)}Zu(c)}function ba(c){c.g&&(Is(c),c.g.cancel(),c.g=null)}function Yu(c){ba(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function wa(c){if(!ma(c.h)&&!c.s){c.s=!0;var g=c.Ga;le||O(),de||(le(),de=!0),Ce.add(g,c),c.B=0}}function Pf(c,g){return pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(w(c.Ga,c,g),nl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new on(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Qu(this,j,g),_=vn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Rs(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(Zo(G)))+"&"+g:this.m&&kt(_,this.m,G)),ga(this.h,j),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",g),We(_,"SID","null"),j.T=!0,Yn(j,_,null)):Yn(j,_,g),this.G=2}}else this.G==3&&(c?el(this,c):this.i.length==0||ma(this.h)||el(this))};function el(c,g){var _;g?_=g.l:_=c.U++;const b=vn(c.I);We(b,"SID",c.K),We(b,"RID",_),We(b,"AID",c.T),Rs(c,b),c.m&&c.o&&kt(b,c.m,c.o),_=new on(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ga(c.h,_),Yn(_,b,g)}function Rs(c,g){c.H&&ue(c.H,function(_,b){We(g,b,_)}),c.l&&Yo({},function(_,b){We(g,b,_)})}function Qu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;e:{var j=c.i;let G=-1;for(;;){const se=["count="+_];G==-1?0<_?(G=j[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Le=!0;for(let xt=0;xt<_;xt++){let je=j[xt].g;const Ut=j[xt].map;if(je-=G,0>je)G=Math.max(0,j[xt].g-100),Le=!1;else try{or(Ut,se,"req"+je+"_")}catch{b&&b(Ut)}}if(Le){b=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function $u(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;le||O(),de||(le(),de=!0),Ce.add(g,c),c.v=0}}function tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(w(c.Fa,c),nl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),ba(this),Xu(this))};function Is(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=vn(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),Rs(c,g),c.m&&c.o&&kt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(vn(g)),_.m=null,_.P=!0,Or(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ba(this),tl(this),at(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,g){var _=null;if(c.g==g){Aa(c),Is(c),c.g=null;var b=2}else if(Go(c.h,g))_=g.D,ln(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;b=ci(),Qe(b,new Ct(b,_)),wa(c)}else $u(c);else if(j=g.s,j==3||j==0&&0<g.X||!(b==1&&Pf(c,g)||b==2&&tl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),j){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function nl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Lr(c,g){if(c.j.info("Error code "+g),g==2){var _=w(c.fb,c),b=c.Xa;const j=!b;b=new Et(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(b,"https"),vs(b),j?Ts(b.toString(),_):Qn(b.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(g),Zu(c),Yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const g=Ko(c.h);(g.length!=0||c.i.length!=0)&&(N(c.ka,g),N(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Ju(c,g,_){var b=_ instanceof Et?vn(_):new Et(_);if(b.g!="")g&&(b.g=g+"."+b.g),pi(b,b.s);else{var j=m.location;b=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var G=new Et(null);b&&_s(G,b),g&&(G.g=g),j&&pi(G,j),_&&(G.l=_),b=G}return _=c.D,g=c.ya,_&&g&&We(b,_,g),We(b,"VER",c.la),Rs(c,b),b}function ec(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ge(new gi({eb:_})):new Ge(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ra(){}Ra.prototype.g=function(c,g){return new un(c,g)};function un(c,g){ft.call(this),this.g=new Sa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!J(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new hr(this)}F(un,ft),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Jo(this.g)},un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Kn(c),c=_);g.i.push(new qu(g.Ya++,c)),g.G==3&&wa(g)},un.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,un.aa.N.call(this)};function nc(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}F(nc,xr);function rc(){Bo.call(this),this.status=1}F(rc,Bo);function hr(c){this.g=c}F(hr,tc),hr.prototype.ua=function(){Qe(this.g,"a")},hr.prototype.ta=function(c){Qe(this.g,new nc(c))},hr.prototype.sa=function(c){Qe(this.g,new rc)},hr.prototype.ra=function(){Qe(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,O1=function(){return new Ra},D1=function(){return ci()},x1=nr,mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,wh=di,Dr.COMPLETE="complete",C1=Dr,zo.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ql=zo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,I1=Ge}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const Q0="@firebase/firestore",$0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new jp("@firebase/firestore");function no(){return ea.logLevel}function he(r,...e){if(ea.logLevel<=Pe.DEBUG){const n=e.map(Xp);ea.debug(`Firestore (${Oo}): ${r}`,...n)}}function ai(r,...e){if(ea.logLevel<=Pe.ERROR){const n=e.map(Xp);ea.error(`Firestore (${Oo}): ${r}`,...n)}}function To(r,...e){if(ea.logLevel<=Pe.WARN){const n=e.map(Xp);ea.warn(`Firestore (${Oo}): ${r}`,...n)}}function Xp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,N1(r,s,n)}function N1(r,e,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ai(s),new Error(s)}function Ye(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||N1(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class o2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l2{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new M1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class u2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new u2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=f2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function pp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Fm(o)===Fm(u)?ke(o,u):Fm(o)?1:-1}return ke(r.length,e.length)}const d2=55296,m2=57343;function Fm(r){const e=r.charCodeAt(0);return e>=d2&&e<=m2}function So(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__name__";class _r{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=_r.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=_r.isNumericId(e),o=_r.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(n)):pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class ct extends _r{construct(e,n,s){return new ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const p2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends _r{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return p2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new Xt([W0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(r,e,n){if(!n)throw new ge(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function y2(r,e,n,s){if(e===!0&&s===!0)throw new ge(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Z0(r){if(!_e.isDocumentKey(r))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function V1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function hu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zp(r);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,e){const n={typeString:r};return e&&(n.value=e),n}function Cu(r,e){if(!V1(r))throw new ge(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=-62135596800,eE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*eE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J0)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:At("string",it._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new it(0,0))}static max(){return new Ae(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function _2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new Ji(o,_e.empty(),e)}function v2(r){return new Ji(r.readTime,r.key,fu)}class Ji{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ji(Ae.min(),_e.empty(),fu)}static max(){return new Ji(Ae.max(),_e.empty(),fu)}}function E2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==T2)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function b2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function pf(r){return r==null}function Hh(r){return r===0&&1/r==-1/0}function w2(r){return typeof r=="number"&&Number.isInteger(r)&&!Hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="";function A2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=tE(e)),e=R2(r.get(n),e);return tE(e)}function R2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case P1:n+="";break;default:n+=u}}return n}function tE(r){return r+P1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function sa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function k1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Vt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new U1("Invalid base64 string: "+u):u}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const I2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=I2.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="server_timestamp",j1="__type__",z1="__previous_value__",B1="__local_write_time__";function eg(r){return(r?.mapValue?.fields||{})[j1]?.stringValue===L1}function gf(r){const e=r.mapValue.fields[z1];return eg(e)?gf(e):e}function du(r){const e=es(r.mapValue.fields[B1].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Fh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||Fh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="__type__",x2="__max__",uh={mapValue:{}},H1="__vector__",Gh="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eg(r)?4:O2(r)?9007199254740991:D2(r)?10:11:be(28295,{value:r})}function Rr(r,e){if(r===e)return!0;const n=ns(r);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Hh(f)===Hh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return So(r.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nE(f)!==nE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Rr(f[p],m[p])))return!1;return!0}(r,e);default:return be(52216,{left:r})}}function pu(r,e){return(r.values||[]).find(n=>Rr(n,e))!==void 0}function bo(r,e){if(r===e)return 0;const n=ns(r),s=ns(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return iE(r.timestampValue,e.timestampValue);case 4:return iE(du(r),du(e));case 5:return pp(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ts(u),p=ts(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=ke(m[y],p[y]);if(E!==0)return E}return ke(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ke(_t(u.latitude),_t(f.latitude));return m!==0?m:ke(_t(u.longitude),_t(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return sE(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Gh]?.arrayValue,E=p[Gh]?.arrayValue,S=ke(y?.values?.length||0,E?.values?.length||0);return S!==0?S:sE(y,E)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===uh.mapValue&&f===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(f===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const w=pp(p[S],E[S]);if(w!==0)return w;const L=bo(m[p[S]],y[E[S]]);if(L!==0)return L}return ke(p.length,E.length)}(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function iE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=es(r),s=es(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function sE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=bo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function wo(r){return gp(r)}function gp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ts(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _e.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=gp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${gp(n.fields[f])}`;return o+"}"}(r.mapValue):be(61005,{value:r})}function Ah(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(r);return e?16+Ah(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ah(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return sa(s.fields,(u,f)=>{o+=u.length+Ah(f)}),o}(r.mapValue);default:throw be(13486,{value:r})}}function yp(r){return!!r&&"integerValue"in r}function tg(r){return!!r&&"arrayValue"in r}function aE(r){return!!r&&"nullValue"in r}function oE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rh(r){return!!r&&"mapValue"in r}function D2(r){return(r?.mapValue?.fields||{})[q1]?.stringValue===H1}function tu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return sa(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=tu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(r.arrayValue.values[n]);return e}return{...r}}function O2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===x2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=tu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){sa(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Hn(tu(this.value))}}function F1(r){const e=[];return sa(r.fields,(n,s)=>{const o=new Xt([n]);if(Rh(s)){const u=F1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ae.min(),Ae.min(),Ae.min(),Hn.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Ae.min(),Ae.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ae.min(),Ae.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function lE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=bo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function uE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Rr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function N2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class Mt extends G1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new V2(e,n,s):n==="array-contains"?new U2(e,s):n==="in"?new L2(e,s):n==="not-in"?new j2(e,s):n==="array-contains-any"?new z2(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new P2(e,s):new k2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends G1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ir(e,n)}matches(e){return K1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function K1(r){return r.op==="and"}function Y1(r){return M2(r)&&K1(r)}function M2(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function _p(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+wo(r.value);if(Y1(r))return r.filters.map(e=>_p(e)).join(",");{const e=r.filters.map(n=>_p(n)).join(",");return`${r.op}(${e})`}}function Q1(r,e){return r instanceof Mt?function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Rr(s.value,o.value)}(r,e):r instanceof Ir?function(s,o){return o instanceof Ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Q1(f,o.filters[m]),!0):!1}(r,e):void be(19439)}function $1(r){return r instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(r):r instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map($1).join(" ,")+"}"}(r):"Filter"}class V2 extends Mt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class P2 extends Mt{constructor(e,n){super(e,"in",n),this.keys=X1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k2 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=X1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X1(r,e){return(e.arrayValue?.values||[]).map(n=>_e.fromName(n.referenceValue))}class U2 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&pu(n.arrayValue,this.value)}}class L2 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class j2 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class z2 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function cE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new B2(r,e,n,s,o,u,f)}function ng(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_p(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>wo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>wo(s)).join(",")),e.Te=n}return e.Te}function rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!N2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Q1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uE(r.startAt,e.startAt)&&uE(r.endAt,e.endAt)}function vp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function q2(r,e,n,s,o,u,f,m){return new yf(r,e,n,s,o,u,f,m)}function ig(r){return new yf(r)}function hE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function H2(r){return r.collectionGroup!==null}function nu(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Xt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Yh(u,s))}),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Yh(Xt.keyField(),s))}return e.Ie}function Sr(r){const e=Re(r);return e.Ee||(e.Ee=F2(e,nu(r))),e.Ee}function F2(r,e){if(r.limitType==="F")return cE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Yh(o.field,u)});const n=r.endAt?new Kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kh(r.startAt.position,r.startAt.inclusive):null;return cE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ep(r,e,n){return new yf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function _f(r,e){return rg(Sr(r),Sr(e))&&r.limitType===e.limitType}function W1(r){return`${ng(Sr(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>$1(o)).join(", ")}]`),pf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>wo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>wo(o)).join(",")),`Target(${s})`}(Sr(r))}; limitType=${r.limitType})`}function vf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=lE(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,nu(s),o)||s.endAt&&!function(f,m,p){const y=lE(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,nu(s),o))}(r,e)}function G2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Z1(r){return(e,n)=>{let s=!1;for(const o of nu(r)){const u=K2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function K2(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?bo(p,y):be(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new ht(_e.comparator);function oi(){return Y2}const J1=new ht(_e.comparator);function $l(...r){let e=J1;for(const n of r)e=e.insert(n.key,n);return e}function eS(r){let e=J1;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gs(){return ru()}function tS(){return ru()}function ru(){return new aa(r=>r.toString(),(r,e)=>r.isEqual(e))}const Q2=new ht(_e.comparator),$2=new Vt(_e.comparator);function Ue(...r){let e=$2;for(const n of r)e=e.add(n);return e}const X2=new Vt(ke);function W2(){return X2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function nS(r){return{integerValue:""+r}}function Z2(r,e){return w2(e)?nS(e):sg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function J2(r,e,n){return r instanceof Qh?function(o,u){const f={fields:{[j1]:{stringValue:L1},[B1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&eg(u)&&(u=gf(u)),u&&(f.fields[z1]=u),{mapValue:f}}(n,e):r instanceof gu?iS(r,e):r instanceof yu?sS(r,e):function(o,u){const f=rS(o,u),m=fE(f)+fE(o.Ae);return yp(f)&&yp(o.Ae)?nS(m):sg(o.serializer,m)}(r,e)}function eO(r,e,n){return r instanceof gu?iS(r,e):r instanceof yu?sS(r,e):n}function rS(r,e){return r instanceof $h?function(s){return yp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Qh extends Ef{}class gu extends Ef{constructor(e){super(),this.elements=e}}function iS(r,e){const n=aS(e);for(const s of r.elements)n.some(o=>Rr(o,s))||n.push(s);return{arrayValue:{values:n}}}class yu extends Ef{constructor(e){super(),this.elements=e}}function sS(r,e){let n=aS(e);for(const s of r.elements)n=n.filter(o=>!Rr(o,s));return{arrayValue:{values:n}}}class $h extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fE(r){return _t(r.integerValue||r.doubleValue)}function aS(r){return tg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function tO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof gu&&o instanceof gu||s instanceof yu&&o instanceof yu?So(s.elements,o.elements,Rr):s instanceof $h&&o instanceof $h?Rr(s.Ae,o.Ae):s instanceof Qh&&o instanceof Qh}(r.transform,e.transform)}class nO{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tf{}function oS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new uS(r.key,ri.none()):new xu(r.key,r.data,ri.none());{const n=r.data,s=Hn.empty();let o=new Vt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new oa(r.key,s,new Jn(o.toArray()),ri.none())}}function rO(r,e,n){r instanceof xu?function(o,u,f){const m=o.value.clone(),p=mE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof oa?function(o,u,f){if(!Ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=mE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(lS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function iu(r,e,n,s){return r instanceof xu?function(u,f,m,p){if(!Ih(u.precondition,f))return m;const y=u.value.clone(),E=pE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof oa?function(u,f,m,p){if(!Ih(u.precondition,f))return m;const y=pE(u.fieldTransforms,p,f),E=f.data;return E.setAll(lS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return Ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function iO(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=rS(s.transform,o||null);u!=null&&(n===null&&(n=Hn.empty()),n.set(s.field,u))}return n||null}function dE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,(u,f)=>tO(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends Tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oa extends Tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function mE(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,eO(f,m,n[o]))}return s}function pE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,J2(u,f,e))}return s}class uS extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sO extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&rO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tS();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=oS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,s)=>dE(n,s))&&So(this.baseMutations,e.baseMutations,(n,s)=>dE(n,s))}}class ag{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return Q2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ag(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Be;function uO(r){switch(r){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function cS(r){if(r===void 0)return ai("GRPC error has no .code"),te.UNKNOWN;switch(r){case bt.OK:return te.OK;case bt.CANCELLED:return te.CANCELLED;case bt.UNKNOWN:return te.UNKNOWN;case bt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case bt.INTERNAL:return te.INTERNAL;case bt.UNAVAILABLE:return te.UNAVAILABLE;case bt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case bt.NOT_FOUND:return te.NOT_FOUND;case bt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case bt.ABORTED:return te.ABORTED;case bt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case bt.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:r})}}(Be=bt||(bt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Wi([4294967295,4294967295],0);function gE(r){const e=cO().encode(r),n=new R1;return n.update(e),new Uint8Array(n.digest())}function yE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wi([n,s],0),new Wi([o,u],0)]}class og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Wi.fromNumber(s)));return o.compare(hO)===1&&(o=new Wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new og(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Sf(Ae.min(),o,new ht(ke),oi(),Ue())}}class Du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Du(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class hS{constructor(e,n){this.targetId=e,this.Ce=n}}class fS{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class _E{constructor(){this.ve=0,this.Fe=vE(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}}),new Du(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=vE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fO{constructor(e){this.Ge=e,this.ze=new Map,this.je=oi(),this.Je=ch(),this.He=ch(),this.Ye=new ht(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(vp(u))if(s===0){const f=new _e(u.path);this.et(n,f,sn.newNoDocument(f,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ts(s).toUint8Array()}catch(p){if(p instanceof U1)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new og(f,o,u)}catch(p){return To(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&vp(m.target)){const p=new _e(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,sn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Ue();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Sf(e,n,this.Ye,this.je,s);return this.je=oi(),this.Je=ch(),this.He=ch(),this.Ye=new ht(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _E,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _E),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new ht(_e.comparator)}function vE(){return new ht(_e.comparator)}const dO={asc:"ASCENDING",desc:"DESCENDING"},mO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pO={and:"AND",or:"OR"};class gO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tp(r,e){return r.useProto3Json||pf(e)?e:{value:e}}function Xh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function yO(r,e){return Xh(r,e.toTimestamp())}function br(r){return Ye(!!r,49232),Ae.fromTimestamp(function(n){const s=es(n);return new it(s.seconds,s.nanos)}(r))}function lg(r,e){return Sp(r,e).canonicalString()}function Sp(r,e){const n=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function mS(r){const e=ct.fromString(r);return Ye(vS(e),10190,{key:e.toString()}),e}function bp(r,e){return lg(r.databaseId,e.path)}function Gm(r,e){const n=mS(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(gS(n))}function pS(r,e){return lg(r.databaseId,e)}function _O(r){const e=mS(r);return e.length===4?ct.emptyPath():gS(e)}function wp(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gS(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function EE(r,e,n){return{name:bp(r,e),fields:n.value.mapValue.fields}}function vO(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?te.UNKNOWN:cS(y.code);return new ge(E,y.message||"")}(f);n=new fS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gm(r,s.document.name),u=br(s.document.updateTime),f=s.document.createTime?br(s.document.createTime):Ae.min(),m=new Hn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Ch(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gm(r,s.document),u=s.readTime?br(s.readTime):Ae.min(),f=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ch([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gm(r,s.document),u=s.removedTargetIds||[];n=new Ch([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new lO(o,u),m=s.targetId;n=new hS(m,f)}}return n}function EO(r,e){let n;if(e instanceof xu)n={update:EE(r,e.key,e.value)};else if(e instanceof uS)n={delete:bp(r,e.key)};else if(e instanceof oa)n={update:EE(r,e.key,e.data),updateMask:xO(e.fieldMask)};else{if(!(e instanceof sO))return be(16599,{Vt:e.type});n={verify:bp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Qh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:yO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)}(r,e.precondition)),n}function TO(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?br(o.updateTime):br(u);return f.isEqual(Ae.min())&&(f=br(u)),new nO(f,o.transformResults||[])}(n,e))):[]}function SO(r,e){return{documents:[pS(r,e.path)]}}function bO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pS(r,o);const u=function(y){if(y.length!==0)return _S(Ir.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:io(w.field),direction:RO(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Tp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function wO(r){let e=_O(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const w=yS(S);return w instanceof Ir&&Y1(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(F){return new Yh(so(F.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,pf(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(S){const w=!!S.before,L=S.values||[];return new Kh(L,w)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const w=!S.before,L=S.values||[];return new Kh(L,w)}(n.endAt)),q2(e,o,f,u,m,"F",p,y)}function AO(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(r):r.fieldFilter!==void 0?function(n){return Mt.create(so(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(s=>yS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(r):be(30097,{filter:r})}function RO(r){return dO[r]}function IO(r){return mO[r]}function CO(r){return pO[r]}function io(r){return{fieldPath:r.canonicalString()}}function so(r){return Xt.fromServerFormat(r.fieldPath)}function _S(r){return r instanceof Mt?function(n){if(n.op==="=="){if(oE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(aE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(aE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:IO(n.op),value:n.value}}}(r):r instanceof Ir?function(n){const s=n.getFilters().map(o=>_S(o));return s.length===1?s[0]:{compositeFilter:{op:CO(n.op),filters:s}}}(r):be(54877,{filter:r})}function xO(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.yt=e}}function OO(r){const e=wO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.Cn=new MO}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ji.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class MO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(ct.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ES=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(ES,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="LruGarbageCollector",VO=1048576;function bE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class PO{constructor(e){this.Ir=e,this.buffer=new Vt(bE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(SE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?he(SE,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)})}}class UO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(mf.ce);const s=new PO(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(TE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),no()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function LO(r,e){return new UO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&iu(s.mutation,o,Jn.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=$l();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=oi();const f=ru(),m=function(){return ru()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof oa)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),iu(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>m.set(y,new zO(E,f.get(y)??null))),m))}recalculateAndSaveOverlays(e,n){const s=ru();let o=new ht((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Jn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=tS();E.forEach(w=>{if(!u.has(w)){const L=oS(n.get(w),s.get(w));L!==null&&S.set(w,L),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Gs());let m=fu,p=u;return f.next(y=>W.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ue())).next(E=>({batchId:m,changes:eS(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=$l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=$l();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const y=function(S,w){return new yf(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))});let m=$l();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&iu(E.mutation,y,Jn.empty(),it.now()),vf(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:OO(o.bundledQuery),readTime:br(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.overlays=new ht(_e.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Gs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return W.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new oO(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.Qr=new Vt(Bt.$r),this.Ur=new Vt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new _e(new ct([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new ct([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Bt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new aO(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Jp:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(ke);return n.forEach(o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new _e(u),0);let m=new Vt(ke);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)},f),W.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.ri=e,this.docs=function(){return new ht(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=oi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=oi();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||E2(v2(E),s)<=0||(o.has(E.key)||vf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new YO(this)}getSize(e){return W.resolve(this.size)}}class YO extends jO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.persistence=e,this.si=new aa(n=>ng(n),rg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.ui={},this.overlays={},this.ci=new mf(0),this.li=!1,this.li=!0,this.hi=new FO,this.referenceDelegate=e(this),this.Pi=new QO(this),this.indexManager=new NO,this.remoteDocumentCache=function(o){return new KO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new DO(n),this.Ii=new qO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new GO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new $O(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return W.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class $O extends S2{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new ug,this.Vi=null}static mi(e){return new cg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,s=>{const o=_e.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wh{constructor(e,n){this.persistence=e,this.pi=new aa(s=>A2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=LO(this,n)}static mi(e,n){return new Wh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}br(e,n,s){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return AI()?8:b2(an())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new XO;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(no()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(no()<=Pe.DEBUG&&he("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(no()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):W.resolve())}ys(e,n){if(hE(n))return W.resolve(null);let s=Sr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Ep(n,null,"F"),s=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Ep(n,null,"F")):this.vs(e,y,n,p)}))})))}ws(e,n,s,o){return hE(n)||o.isEqual(Ae.min())?W.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(no()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,f,n,_2(o,fu)).next(m=>m))})}Ds(e,n){let s=new Vt(Z1(e));return n.forEach((o,u)=>{vf(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return no()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,Ji.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",ZO=3e8;class JO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(ke),this.xs=new aa(u=>ng(u),rg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function eN(r,e,n,s){return new JO(r,e,n,s)}async function SS(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:m}))})})}function tN(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,w=S.keys();let L=W.resolve();return w.forEach(F=>{L=L.next(()=>E.getEntry(p,F)).next(Y=>{const N=y.docVersions.get(F);Ye(N!==null,48541),Y.version.compareTo(N)<0&&(S.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function bS(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function nN(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S)));let L=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),function(Y,N,ne){return Y.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=ZO?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0}(w,L,E)&&m.push(n.Pi.updateTargetData(u,L))});let p=oi(),y=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(rN(u,f,e.documentUpdates).next(E=>{p=E.ks,y=E.qs})),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ms=o,u))}function rN(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=oi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(fg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{ks:f,qs:o}})}function iN(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function sN(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Ki(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Ap(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Mo(f))throw f;he(fg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function wE(r,e,n){const s=Re(r);let o=Ae.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const S=Re(p),w=S.xs.get(E);return w!==void 0?W.resolve(S.Ms.get(w)):S.Pi.getTargetData(y,E)}(s,f,Sr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Ue())).next(m=>(aN(s,G2(e),m),{documents:m,Qs:u})))}function aN(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class AE{constructor(){this.activeTargetIds=W2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oN{constructor(){this.Mo=new AE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="ConnectivityMonitor";class IE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(RE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(RE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Rp(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",uN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Rp(),m=this.zo(e,n.toUriEncodedString());he(Km,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=Co(y);return this.Jo(e,m,p,s,E).then(S=>(he(Km,`Received RPC '${e}' ${f}: `,S),S),S=>{throw To(Km,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=uN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class fN extends cN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Rp();return new Promise((m,p)=>{const y=new I1;y.setWithCredentials(!0),y.listenOnce(C1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case wh.NO_ERROR:const S=y.getResponseJson();he(nn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case wh.TIMEOUT:he(nn,`RPC '${e}' ${f} timed out`),p(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const w=y.getStatus();if(he(nn,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const F=L?.error;if(F&&F.status&&F.message){const Y=function(ne){const J=ne.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(J)>=0?J:te.UNKNOWN}(F.status);p(new ge(Y,F.message))}else p(new ge(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ge(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(nn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);he(nn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}T_(e,n,s){const o=Rp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=O1(),m=D1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(nn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);this.I_(S);let w=!1,L=!1;const F=new hN({Yo:N=>{L?he(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(w||(he(nn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),he(nn,`RPC '${e}' stream ${o} sending:`,N),S.send(N))},Zo:()=>S.close()}),Y=(N,ne,J)=>{N.listen(ne,ee=>{try{J(ee)}catch(ce){setTimeout(()=>{throw ce},0)}})};return Y(S,Ql.EventType.OPEN,()=>{L||(he(nn,`RPC '${e}' stream ${o} transport opened.`),F.o_())}),Y(S,Ql.EventType.CLOSE,()=>{L||(L=!0,he(nn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(S))}),Y(S,Ql.EventType.ERROR,N=>{L||(L=!0,To(nn,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),F.a_(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),Y(S,Ql.EventType.MESSAGE,N=>{if(!L){const ne=N.data[0];Ye(!!ne,16349);const J=ne,ee=J?.error||J[0]?.error;if(ee){he(nn,`RPC '${e}' stream ${o} received error:`,ee);const ce=ee.status;let oe=function(A){const C=bt[A];if(C!==void 0)return cS(C)}(ce),ue=ee.message;oe===void 0&&(oe=te.INTERNAL,ue="Unknown error status: "+ce+" with message "+ee.message),L=!0,F.a_(new ge(oe,ue)),S.close()}else he(nn,`RPC '${e}' stream ${o} received:`,ne),F.u_(ne)}}),Y(m,x1.STAT_EVENT,N=>{N.stat===mp.PROXY?he(nn,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===mp.NOPROXY&&he(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.__()},0),F}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(r){return new gO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="PersistentStream";class AS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ge(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(CE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(he(CE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dN extends AS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?br(f.readTime):Ae.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=wp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=vp(p)?{documents:SO(u,p)}:{query:bO(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=dS(u,f.resumeToken);const y=Tp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Xh(u,f.snapshotVersion.toTimestamp());const y=Tp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=AO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.q_(n)}}class mN extends AS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TO(e.writeResults,e.commitTime),s=br(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>EO(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{}class gN extends pN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Sp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(te.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Sp(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(te.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class yN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ai(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class _N{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{la(this)&&(he(ta,"Restarting streams for network reachability change."),await async function(p){const y=Re(p);y.Ea.add(4),await Ou(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wf(y)}(this))})}),this.Ra=new yN(s,o)}}async function wf(r){if(la(r))for(const e of r.da)await e(!0)}async function Ou(r){for(const e of r.da)await e(!1)}function RS(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gg(n)?pg(n):Vo(n).O_()&&mg(n,e))}function dg(r,e){const n=Re(r),s=Vo(n);n.Ia.delete(e),s.O_()&&IS(n,e),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Ra.set("Unknown"))}function mg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(r).Y_(e)}function IS(r,e){r.Va.Ue(e),Vo(r).Z_(e)}function pg(r){r.Va=new fO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Vo(r).start(),r.Ra.ua()}function gg(r){return la(r)&&!Vo(r).x_()&&r.Ia.size>0}function la(r){return Re(r).Ea.size===0}function CS(r){r.Va=void 0}async function vN(r){r.Ra.set("Online")}async function EN(r){r.Ia.forEach((e,n)=>{mg(r,e)})}async function TN(r,e){CS(r),gg(r)?(r.Ra.ha(e),pg(r)):r.Ra.set("Unknown")}async function SN(r,e,n){if(r.Ra.set("Online"),e instanceof fS&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){he(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(r,s)}else if(e instanceof Ch?r.Va.Ze(e):e instanceof hS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await bS(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),IS(u,p);const S=new Ki(E.target,p,y,E.sequenceNumber);mg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){he(ta,"Failed to raise snapshot:",s),await Zh(r,s)}}async function Zh(r,e,n){if(!Mo(e))throw e;r.Ea.add(1),await Ou(r),r.Ra.set("Offline"),n||(n=()=>bS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(ta,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await wf(r)})}function xS(r,e){return e().catch(n=>Zh(r,n,e))}async function Af(r){const e=Re(r),n=rs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jp;for(;bN(e);)try{const o=await iN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,wN(e,o)}catch(o){await Zh(e,o)}DS(e)&&OS(e)}function bN(r){return la(r)&&r.Ta.length<10}function wN(r,e){r.Ta.push(e);const n=rs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function DS(r){return la(r)&&!rs(r).x_()&&r.Ta.length>0}function OS(r){rs(r).start()}async function AN(r){rs(r).ra()}async function RN(r){const e=rs(r);for(const n of r.Ta)e.ea(n.mutations)}async function IN(r,e,n){const s=r.Ta.shift(),o=ag.from(s,e,n);await xS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Af(r)}async function CN(r,e){e&&rs(r).X_&&await async function(s,o){if(function(f){return uO(f)&&f!==te.ABORTED}(o.code)){const u=s.Ta.shift();rs(s).B_(),await xS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Af(s)}}(r,e),DS(r)&&OS(r)}async function xE(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),he(ta,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await Ou(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wf(n)}async function xN(r,e){const n=Re(r);e?(n.Ea.delete(2),await wf(n)):e||(n.Ea.add(2),await Ou(n),n.Ra.set("Unknown"))}function Vo(r){return r.ma||(r.ma=function(n,s,o){const u=Re(n);return u.sa(),new dN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:vN.bind(null,r),t_:EN.bind(null,r),r_:TN.bind(null,r),H_:SN.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),gg(r)?pg(r):r.Ra.set("Unknown")):(await r.ma.stop(),CS(r))})),r.ma}function rs(r){return r.fa||(r.fa=function(n,s,o){const u=Re(n);return u.sa(),new mN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:AN.bind(null,r),r_:CN.bind(null,r),ta:RN.bind(null,r),na:IN.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Af(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new yg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(r,e){if(ai("AsyncQueue",`${e}: ${r}`),Mo(r))return new ge(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=$l(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.ga=new ht(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ro{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ro(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ON{constructor(){this.queries=OE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=OE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ge(te.ABORTED,"Firestore shutting down"))}}function OE(){return new aa(r=>W1(r),_f)}async function NN(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new DN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=_g(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&vg(n)}async function MN(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function VN(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&vg(n)}function PN(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function vg(r){r.Ca.forEach(e=>{e.next()})}var Ip,NE;(NE=Ip||(Ip={})).Ma="default",NE.Cache="cache";class kN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.key=e}}class MS{constructor(e){this.key=e}}class UN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Z1(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new DE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const w=o.get(E),L=vf(this.query,S)?S:null,F=!!w&&this.mutatedKeys.has(w.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let N=!1;w&&L?w.data.isEqual(L.data)?F!==Y&&(s.track({type:3,doc:L}),N=!0):this.su(w,L)||(s.track({type:2,doc:L}),N=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),N=!0):w&&!L&&(s.track({type:1,doc:w}),N=!0,(p||y)&&(m=!0)),N&&(L?(f=f.add(L),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,S)=>function(L,F){const Y=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:N})}};return Y(L)-Y(F)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Ro(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new MS(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new NS(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Eg="SyncEngine";class LN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class jN{constructor(e){this.key=e,this.hu=!1}}class zN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new aa(m=>W1(m),_f),this.Iu=new Map,this.Eu=new Set,this.du=new ht(_e.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BN(r,e,n=!0){const s=jS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await VS(s,e,n,!0),o}async function qN(r,e){const n=jS(r);await VS(n,e,!0,!1)}async function VS(r,e,n,s){const o=await sN(r.localStore,Sr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&RS(r.remoteStore,o),m}async function HN(r,e,n,s,o){r.pu=(S,w,L)=>async function(Y,N,ne,J){let ee=N.view.ru(ne);ee.Cs&&(ee=await wE(Y.localStore,N.query,!1).then(({documents:x})=>N.view.ru(x,ee)));const ce=J&&J.targetChanges.get(N.targetId),oe=J&&J.targetMismatches.get(N.targetId)!=null,ue=N.view.applyChanges(ee,Y.isPrimaryClient,ce,oe);return VE(Y,N.targetId,ue.au),ue.snapshot}(r,S,w,L);const u=await wE(r.localStore,e,!0),f=new UN(e,u.Qs),m=f.ru(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);VE(r,n,y.au);const E=new LN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function FN(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!_f(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dg(s.remoteStore,o.targetId),Cp(s,o.targetId)}).catch(No)):(Cp(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function GN(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dg(n.remoteStore,s.targetId))}async function KN(r,e,n){const s=JN(r);try{const o=await function(f,m){const p=Re(f),y=it.now(),E=m.reduce((L,F)=>L.add(F.key),Ue());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let F=oi(),Y=Ue();return p.Ns.getEntries(L,E).next(N=>{F=N,F.forEach((ne,J)=>{J.isValidDocument()||(Y=Y.add(ne))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,F)).next(N=>{S=N;const ne=[];for(const J of m){const ee=iO(J,S.get(J.key).overlayedDocument);ee!=null&&ne.push(new oa(J.key,ee,F1(ee.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,ne,m)}).next(N=>{w=N;const ne=N.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(L,N.batchId,ne)})}).then(()=>({batchId:w.batchId,changes:eS(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ht(ke)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,n),await Nu(s,o.changes),await Af(s.remoteStore)}catch(o){const u=_g(o,"Failed to persist write");n.reject(u)}}async function PS(r,e){const n=Re(r);try{const s=await nN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ye(f.hu,14607):o.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))}),await Nu(n,s,e)}catch(s){await No(s)}}function ME(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Re(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const w of S.Sa)w.va(m)&&(y=!0)}),y&&vg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YN(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(_e.comparator);f=f.insert(u,sn.newNoDocument(u,Ae.min()));const m=Ue().add(u),p=new Sf(Ae.min(),new Map,new ht(ke),f,m);await PS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Tg(s)}else await Ap(s.localStore,e,!1).then(()=>Cp(s,e,n)).catch(No)}async function QN(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await tN(n.localStore,e);US(n,s,null),kS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await No(o)}}async function $N(r,e,n){const s=Re(r);try{const o=await function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Ye(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);US(s,e,n),kS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await No(o)}}function kS(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function US(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||LS(r,s)})}function LS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(dg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Tg(r))}function VE(r,e,n){for(const s of n)s instanceof NS?(r.Ru.addReference(s.key,e),XN(r,s)):s instanceof MS?(he(Eg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||LS(r,s.key)):be(19791,{wu:s})}function XN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Eg,"New document in limbo: "+n),r.Eu.add(s),Tg(r))}function Tg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(ct.fromString(e)),s=r.fu.next();r.Au.set(s,new jN(n)),r.du=r.du.insert(n,s),RS(r.remoteStore,new Ki(Sr(ig(n.path)),s,"TargetPurposeLimboResolution",mf.ce))}}async function Nu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=hg.As(p.targetId,y);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,y){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(y,w=>W.forEach(w.Es,L=>E.persistence.referenceDelegate.addReference(S,w.targetId,L)).next(()=>W.forEach(w.ds,L=>E.persistence.referenceDelegate.removeReference(S,w.targetId,L)))))}catch(S){if(!Mo(S))throw S;he(fg,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const L=E.Ms.get(w),F=L.snapshotVersion,Y=L.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(w,Y)}}}(s.localStore,u))}async function WN(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){he(Eg,"User change. New user:",e.toKey());const s=await SS(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new ge(te.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Ls)}}function ZN(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function jS(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=PS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YN.bind(null,e),e.Pu.H_=VN.bind(null,e.eventManager),e.Pu.yu=PN.bind(null,e.eventManager),e}function JN(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$N.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eN(this.persistence,new WO,e.initialUser,this.serializer)}Cu(e){return new TS(cg.mi,this.serializer)}Du(e){return new oN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class e4 extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new TS(s=>Wh.mi(s,n),this.serializer)}}class xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ME(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,this.syncEngine),await xN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ON}()}createDatastore(e){const n=bf(e.databaseInfo.databaseId),s=function(u){return new fN(u)}(e.databaseInfo);return function(u,f,m,p){return new gN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new _N(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>ME(this.syncEngine,n,0),function(){return IE.v()?new IE:new lN}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const S=new zN(o,u,f,m,p,y);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Re(n);he(ta,"RemoteStore shutting down."),s.Ea.add(5),await Ou(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class n4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=_g(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Qm(r,e){r.asyncQueue.verifyOperationInProgress(),he(is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await SS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function PE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await r4(r);he(is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>xE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>xE(e.remoteStore,o)),r._onlineComponents=e}async function r4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(is,"Using user provided OfflineComponentProvider");try{await Qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Qm(r,new Jh)}}else he(is,"Using default OfflineComponentProvider"),await Qm(r,new e4(void 0));return r._offlineComponents}async function zS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(is,"Using user provided OnlineComponentProvider"),await PE(r,r._uninitializedComponentsProvider._online)):(he(is,"Using default OnlineComponentProvider"),await PE(r,new xp))),r._onlineComponents}function i4(r){return zS(r).then(e=>e.syncEngine)}async function s4(r){const e=await zS(r),n=e.eventManager;return n.onListen=BN.bind(null,e.syncEngine),n.onUnlisten=FN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GN.bind(null,e.syncEngine),n}function a4(r,e,n={}){const s=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new t4({next:w=>{E.Nu(),f.enqueueAndForget(()=>MN(u,S));const L=w.docs.has(m);!L&&w.fromCache?y.reject(new ge(te.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&p&&p.source==="server"?y.reject(new ge(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new kN(ig(m.path),E,{includeMetadataChanges:!0,qa:!0});return NN(u,S)}(await s4(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",UE=!0;class LE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=UE}else this.host=e.host,this.ssl=e.ssl??UE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ES;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VO)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new a2;switch(s.type){case"firstParty":return new c2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=kE.get(n);s&&(he("ComponentProvider","Removing Datastore"),kE.delete(n),s.terminate())}(this),Promise.resolve()}}function o4(r,e,n,s={}){r=hu(r,Sg);const o=Co(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(LT(`https://${m}`),jT("Firestore",!0)),u.host!==qS&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Xs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=rn.MOCK_USER;else{y=gI(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(S)}r._authCredentials=new o2(new M1(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bg(this.firestore,e,this._query)}}class Ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cu(n,Ht._jsonSchema))return new Ht(e,s||null,new _e(ct.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:At("string",Ht._jsonSchemaVersion),referencePath:At("string")};class _u extends bg{constructor(e,n,s){super(e,n,ig(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new _e(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function jE(r,e,...n){if(r=yn(r),arguments.length===1&&(e=Wp.newId()),g2("doc","path",e),r instanceof Sg){const s=ct.fromString(e,...n);return Z0(s),new Ht(r,null,new _e(s))}{if(!(r instanceof Ht||r instanceof _u))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ct.fromString(e,...n));return Z0(s),new Ht(r.firestore,r instanceof _u?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="AsyncQueue";class BE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wS(this,"async_queue_retry"),this._c=()=>{const s=Ym();s&&he(zE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;he(zE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ai("INTERNAL UNHANDLED ERROR: ",qE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=yg.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:qE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class wg extends Sg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new BE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BE(e),this._firestoreClient=void 0,await e}}}function l4(r,e){const n=typeof r=="object"?r:HT(),s=typeof r=="string"?r:Fh,o=Bp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=mI("firestore");u&&o4(o,...u)}return o}function HS(r){if(r._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||u4(r),r._firestoreClient}function u4(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new C2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,BS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new n4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Wt.fromBase64String(e))}catch(n){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:At("string",Fn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:At("string",wr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ar(e.vectorValues);throw new ge(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:At("string",Ar._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=/^__.*__$/;class h4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}function GS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class Rg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GS(this.Ac)&&c4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class f4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||bf(e)}Cc(e,n,s,o=!1){return new Rg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d4(r){const e=r._freezeSettings(),n=bf(r._databaseId);return new f4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function m4(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);$S("Data must be an object, but it was:",f,s);const m=YS(s,f);let p,y;if(u.merge)p=new Jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=p4(e,S,n);if(!f.contains(w))throw new ge(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);y4(E,w)||E.push(w)}p=new Jn(E),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new h4(new Hn(m),p,y)}function KS(r,e){if(QS(r=yn(r)))return $S("Unsupported field value:",e,r),YS(r,e);if(r instanceof FS)return function(s,o){if(!GS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=KS(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Z2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Xh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xh(o.serializer,u)}}if(s instanceof wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:dS(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ar)return function(f,m){return{mapValue:{fields:{[q1]:{stringValue:H1},[Gh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return sg(m.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Zp(s)}`)}(r,e)}function YS(r,e){const n={};return k1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(r,(s,o)=>{const u=KS(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function QS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof wr||r instanceof Fn||r instanceof Ht||r instanceof FS||r instanceof Ar)}function $S(r,e,n){if(!QS(n)||!V1(n)){const s=Zp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function p4(r,e,n){if((e=yn(e))instanceof Ag)return e._internalPath;if(typeof e=="string")return XS(r,e);throw ef("Field path arguments must be of type string or ",r,!1,void 0,n)}const g4=new RegExp("[~\\*/\\[\\]]");function XS(r,e,n){if(e.search(g4)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ag(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ef(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(te.INVALID_ARGUMENT,m+r+p)}function y4(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ZS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _4 extends WS{data(){return super.data()}}function ZS(r,e){return typeof e=="string"?XS(r,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}class v4{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return sa(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[Gh].arrayValue?.values?.map(s=>_t(s.doubleValue));return new Ar(n)}convertGeoPoint(e){return new wr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=es(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ct.fromString(e);Ye(vS(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||ai(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends WS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ZS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:At("string",$s._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class xh extends $s{data(e={}){return super.data(e)}}class su{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:T4(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(r){r=hu(r,Ht);const e=hu(r.firestore,wg);return a4(HS(e),r._key).then(n=>R4(e,r,n))}su._jsonSchemaVersion="firestore/querySnapshot/1.0",su._jsonSchema={type:At("string",su._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class b4 extends v4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function w4(r,e,n){r=hu(r,Ht);const s=hu(r.firestore,wg),o=E4(r.converter,e);return A4(s,[m4(d4(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ri.none())])}function A4(r,e){return function(s,o){const u=new Zi;return s.asyncQueue.enqueueAndForget(async()=>KN(await i4(s),o,u)),u.promise}(HS(r),e)}function R4(r,e,n){const s=n.docs.get(e._key),o=new b4(r);return new $s(r,o,e._key,s,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Oo=o})(xo),vo(new Ws("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new wg(new l2(s.getProvider("auth-internal")),new h2(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(y.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Xi(Q0,$0,e),Xi(Q0,$0,"esm2020")})();var I4="firebase",C4="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(I4,C4,"app");const x4={apiKey:"AIzaSyB-KGKfCMzZ6zkdP6-oRhQo0_hLnGs9W8U",authDomain:"swatexplore-a5aa1.firebaseapp.com",projectId:"swatexplore-a5aa1",storageBucket:"swatexplore-a5aa1.firebasestorage.app",messagingSenderId:"666375859763",appId:"1:666375859763:web:178553f25a9b0c9134fd46",measurementId:"G-QXW8H39HZC"},JS=qT(x4),fh=i2(JS),HE=l4(JS),eb=ae.createContext();function Mu(){return ae.useContext(eb)}function D4({children:r}){const[e,n]=ae.useState(null),[s,o]=ae.useState(!0);async function u(E,S,w){try{const L=await zx(fh,E,S);return await Hx(L.user,{displayName:w}),await w4(jE(HE,"users",L.user.uid),{username:w,email:E,createdAt:new Date().toISOString(),reviews:[],comments:[]}),L}catch(L){throw L}}function f(E,S){return Bx(fh,E,S)}function m(){return Yx(fh)}async function p(E){try{const S=await S4(jE(HE,"users",E));return S.exists()?S.data():null}catch(S){return console.error("Error getting user profile:",S),null}}ae.useEffect(()=>Kx(fh,async S=>{if(S){const w=await p(S.uid);n({...S,profile:w})}else n(null);o(!1)}),[]);const y={currentUser:e,signup:u,login:f,logout:m,getUserProfile:p};return R.jsx(eb.Provider,{value:y,children:!s&&r})}const O4=Te.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: var(--cream);
  padding: 2rem;
`,N4=Te.div`
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(124, 34, 34, 0.1);
  padding: 3rem;
  width: 100%;
  max-width: 400px;
  text-align: center;
`,M4=Te.h1`
  font-family: var(--serif);
  color: var(--garnet);
  font-size: 2rem;
  margin-bottom: 2rem;
`,V4=Te.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,dh=Te.input`
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 1rem;
  transition: border-color 0.2s;
  
  &:focus {
    outline: none;
    border-color: var(--garnet);
  }
`,P4=Te.button`
  background: var(--garnet);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 0.8rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
  
  &:hover {
    background: var(--garnet-dark);
  }
  
  &:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
`,k4=Te.div`
  color: #dc3545;
  font-size: 0.9rem;
  margin-top: 0.5rem;
`,U4=Te.div`
  margin-top: 2rem;
  color: #666;
  
  a {
    color: var(--garnet);
    text-decoration: none;
    font-weight: 600;
    
    &:hover {
      text-decoration: underline;
    }
  }
`;function L4(){const[r,e]=ae.useState({username:"",email:"",password:"",confirmPassword:""}),[n,s]=ae.useState(""),[o,u]=ae.useState(!1),{signup:f}=Mu(),m=Tu(),p=E=>{e({...r,[E.target.name]:E.target.value})},y=async E=>{if(E.preventDefault(),r.password!==r.confirmPassword)return s("Passwords do not match");if(r.password.length<6)return s("Password must be at least 6 characters");try{s(""),u(!0),await f(r.email,r.password,r.username),m("/")}catch(S){s(S.message)}finally{u(!1)}};return R.jsx(O4,{children:R.jsxs(N4,{children:[R.jsx(M4,{children:"Swarthmore Dorm Explorer"}),R.jsx("h2",{style:{color:"var(--garnet)",marginBottom:"2rem"},children:"Create Account"}),R.jsxs(V4,{onSubmit:y,children:[R.jsx(dh,{type:"text",name:"username",placeholder:"Username",value:r.username,onChange:p,required:!0}),R.jsx(dh,{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:p,required:!0}),R.jsx(dh,{type:"password",name:"password",placeholder:"Password",value:r.password,onChange:p,required:!0}),R.jsx(dh,{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:r.confirmPassword,onChange:p,required:!0}),n&&R.jsx(k4,{children:n}),R.jsx(P4,{type:"submit",disabled:o,children:o?"Creating Account...":"Sign Up"})]}),R.jsxs(U4,{children:["Already have an account? ",R.jsx(Qs,{to:"/login",children:"Log In"})]})]})})}const j4=Te.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: var(--cream);
  padding: 2rem;
`,z4=Te.div`
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(124, 34, 34, 0.1);
  padding: 3rem;
  width: 100%;
  max-width: 400px;
  text-align: center;
`,B4=Te.h1`
  font-family: var(--serif);
  color: var(--garnet);
  font-size: 2rem;
  margin-bottom: 2rem;
`,q4=Te.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,FE=Te.input`
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 1rem;
  transition: border-color 0.2s;
  
  &:focus {
    outline: none;
    border-color: var(--garnet);
  }
`,H4=Te.button`
  background: var(--garnet);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 0.8rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
  
  &:hover {
    background: var(--garnet-dark);
  }
  
  &:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
`,F4=Te.div`
  color: #dc3545;
  font-size: 0.9rem;
  margin-top: 0.5rem;
`,G4=Te.div`
  margin-top: 2rem;
  color: #666;
  
  a {
    color: var(--garnet);
    text-decoration: none;
    font-weight: 600;
    
    &:hover {
      text-decoration: underline;
    }
  }
`;function K4(){const[r,e]=ae.useState({email:"",password:""}),[n,s]=ae.useState(""),[o,u]=ae.useState(!1),{login:f}=Mu(),m=Tu(),p=E=>{e({...r,[E.target.name]:E.target.value})},y=async E=>{E.preventDefault();try{s(""),u(!0),await f(r.email,r.password),m("/")}catch{s("Failed to log in. Please check your credentials.")}finally{u(!1)}};return R.jsx(j4,{children:R.jsxs(z4,{children:[R.jsx(B4,{children:"Swarthmore Dorm Explorer"}),R.jsx("h2",{style:{color:"var(--garnet)",marginBottom:"2rem"},children:"Welcome Back"}),R.jsxs(q4,{onSubmit:y,children:[R.jsx(FE,{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:p,required:!0}),R.jsx(FE,{type:"password",name:"password",placeholder:"Password",value:r.password,onChange:p,required:!0}),n&&R.jsx(F4,{children:n}),R.jsx(H4,{type:"submit",disabled:o,children:o?"Logging In...":"Log In"})]}),R.jsxs(G4,{children:["Don't have an account? ",R.jsx(Qs,{to:"/signup",children:"Sign Up"})]})]})})}const GE=Te.div`
  padding: 4rem 2rem;
  background: var(--cream);
  min-height: 100vh;
`,KE=Te.div`
  max-width: 800px;
  margin: 0 auto;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(124, 34, 34, 0.1);
  padding: 2rem;
`,Y4=Te.div`
  text-align: center;
  margin-bottom: 2rem;
  padding-bottom: 2rem;
  border-bottom: 1px solid #eee;
`,Q4=Te.div`
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: var(--garnet);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  font-weight: bold;
  margin: 0 auto 1rem;
`,$4=Te.h2`
  font-family: var(--serif);
  color: var(--garnet);
  margin: 0;
`,X4=Te.p`
  color: #666;
  margin: 0.5rem 0;
`,W4=Te.p`
  color: #999;
  font-size: 0.9rem;
  margin: 0;
`,Z4=Te.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
  margin-bottom: 2rem;
`,YE=Te.div`
  background: var(--cream);
  padding: 1rem;
  border-radius: 8px;
  text-align: center;
`,QE=Te.div`
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--garnet);
`,$E=Te.div`
  color: #666;
  font-size: 0.9rem;
`,J4=Te.div`
  margin-top: 2rem;
`,eM=Te.div`
  background: var(--cream);
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  border-left: 4px solid var(--garnet);
`,tM=Te.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
`,nM=Te.span`
  font-weight: bold;
  color: var(--garnet);
`,rM=Te.span`
  color: #666;
  font-size: 0.9rem;
`,iM=Te.div`
  color: #f39c12;
  margin-bottom: 0.5rem;
`,sM=Te.p`
  margin: 0;
  line-height: 1.5;
`;function aM(){const{currentUser:r}=Mu();if(!r)return R.jsx(GE,{children:R.jsx(KE,{children:R.jsx("p",{children:"Please log in to view your profile."})})});const{profile:e}=r,n=e?.username||r.displayName||"User",s=r.email,o=e?.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown",u=()=>{const E=[];return["alice-paul","dana","danawell","david-kemp","hallowell","mary-lyon","palmer","parrish","pittenger","roberts","wharton","willets","worth","woolman","the-lodges","ppr-apartments"].forEach(w=>{JSON.parse(localStorage.getItem(`reviews-${w}`)||"[]").filter(Y=>Y.name===n).forEach(Y=>{E.push({...Y,dormSlug:w,dormName:f(w)})})}),E},f=E=>({"alice-paul":"Alice Paul",dana:"Dana",danawell:"Danawell","david-kemp":"David Kemp",hallowell:"Hallowell","mary-lyon":"Mary Lyon",palmer:"Palmer",parrish:"Parrish",pittenger:"Pittenger",roberts:"Roberts",wharton:"Wharton",willets:"Willets",worth:"Worth",woolman:"Woolman","the-lodges":"The Lodges","ppr-apartments":"PPR Apartments"})[E]||E,m=u(),p=m.length,y=m.reduce((E,S)=>E+(S.comments?.length||0),0);return R.jsx(GE,{children:R.jsxs(KE,{children:[R.jsxs(Y4,{children:[R.jsx(Q4,{children:n.charAt(0).toUpperCase()}),R.jsx($4,{children:n}),R.jsx(X4,{children:s}),R.jsxs(W4,{children:["Member since ",o]})]}),R.jsxs(Z4,{children:[R.jsxs(YE,{children:[R.jsx(QE,{children:p}),R.jsx($E,{children:"Reviews"})]}),R.jsxs(YE,{children:[R.jsx(QE,{children:y}),R.jsx($E,{children:"Comments"})]})]}),R.jsxs(J4,{children:[R.jsx("h3",{style:{color:"var(--garnet)",marginBottom:"1rem"},children:"Your Reviews"}),m.length===0?R.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"You haven't written any reviews yet."}):m.map((E,S)=>R.jsxs(eM,{children:[R.jsxs(tM,{children:[R.jsx(nM,{children:E.dormName}),R.jsx(rM,{children:E.date})]}),R.jsx(iM,{children:"".repeat(E.rating)}),R.jsx(sM,{children:E.comment})]},`${E.dormSlug}-${S}`))]})]})})}const oM=Te.nav`
  width: 100vw;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 2;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem 0 1.5rem 0;
  background: rgba(255,255,255,0.95);
  box-shadow: 0 2px 8px rgba(124,34,34,0.04);
  margin: 0;
`,lM=Te.div`
  font-family: var(--serif);
  font-size: 2rem;
  color: var(--garnet);
  font-weight: 700;
  letter-spacing: 1px;
  margin-left: 2.5rem;
`,mh=Te.a`
  background: var(--garnet);
  color: #fff;
  padding: 0.7em 2em;
  border-radius: 6px;
  font-size: 1.1em;
  font-weight: 600;
  text-decoration: none;
  transition: background 0.2s;
  &:hover { background: var(--garnet-dark); }
`,uM=Te.section`
  width: 100vw;
  max-width: 100vw;
  min-height: 70vh;
  height: 100vh;
  background-image: url(${BA});
  background-position: center center;
  background-repeat: no-repeat;
  background-size: cover;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow-x: hidden;
  margin: 0;
`,cM=Te.div`
  background: rgba(35, 35, 35, 0.45);
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding-top: 6rem;
  box-sizing: border-box;
  margin: 0;
`,hM=Te.h1`
  font-size: 2.8rem;
  color: #fff;
  margin-bottom: 1.2rem;
  font-family: var(--serif);
  text-shadow: 0 2px 8px rgba(35,35,35,0.18);
`,fM=Te.p`
  font-size: 1.3rem;
  color: #f8f5f2;
  margin-bottom: 2.5rem;
  max-width: 600px;
  line-height: 1.6;
`,tb=Te.a`
  background: var(--garnet);
  color: #fff;
  padding: 1em 2.5em;
  border-radius: 8px;
  font-size: 1.3em;
  font-weight: 700;
  text-decoration: none;
  box-shadow: 0 2px 12px rgba(124,34,34,0.08);
  transition: background 0.2s, box-shadow 0.2s;
  &:hover {
    background: var(--garnet-dark);
    box-shadow: 0 4px 18px rgba(124,34,34,0.13);
  }
`,dM=Te(tb)`
  margin-top: 1.5rem;
  background: var(--garnet);
  font-size: 1.1em;
  padding: 0.8em 2em;
`,mM=Te.p`
  color: #fff;
  font-size: 1.05rem;
  margin-top: 0.7rem;
  margin-bottom: 0;
  opacity: 0.92;
`,Ig=[{name:"Alice Paul",img:qA,slug:"alice-paul",attributes:{environment:"quiet",ac:!0,dining:"close",style:"modern",room:["single","double","triple"],gym:"medium"},website:"https://www.swarthmore.edu/campus-life/alice-paul-hall"},{name:"Dana",img:HA,slug:"dana",attributes:{environment:"quiet",ac:!1,dining:"medium",style:"modern",room:["single","double"],gym:"medium"},website:"https://www.swarthmore.edu/living-swarthmore/dana-hall"},{name:"Danawell",img:FA,slug:"danawell",attributes:{environment:"social",ac:!0,dining:"medium",style:"modern",room:["double"],gym:"medium"},website:"https://www.swarthmore.edu/living-swarthmore/danawell-hall"},{name:"David Kemp",img:GA,slug:"david-kemp",attributes:{environment:"quiet",ac:!0,dining:"medium",style:"modern",room:["single","double","triple"],gym:"medium"},website:"https://www.swarthmore.edu/living-swarthmore/david-kemp-hall"},{name:"Hallowell",img:KA,slug:"hallowell",attributes:{environment:"quiet",ac:!1,dining:"medium",style:"modern",room:["single","double"],gym:"medium"},website:"https://www.swarthmore.edu/living-swarthmore/hallowell-hall"},{name:"Mary Lyon",img:YA,slug:"mary-lyon",attributes:{environment:"quiet",ac:!1,dining:"far",style:"historic",room:["single","double","triple"],gym:"far"},website:"https://www.swarthmore.edu/living-swarthmore/mary-lyon-hall"},{name:"Palmer",img:QA,slug:"palmer",attributes:{environment:"quiet",ac:!1,dining:"far",style:"historic",room:["single","double"],gym:"far"},website:"https://www.swarthmore.edu/living-swarthmore/palmer-hall"},{name:"Parrish",img:$A,slug:"parrish",attributes:{environment:"quiet",ac:!0,dining:"closest",style:"historic",room:["single","double","triple"],gym:"close"},website:"https://www.swarthmore.edu/living-swarthmore/parrish-hall"},{name:"Pittenger",img:XA,slug:"pittenger",attributes:{environment:"quiet",ac:!1,dining:"far",style:"historic",room:["single","double","quint"],gym:"far"},website:"https://www.swarthmore.edu/living-swarthmore/pittenger-hall"},{name:"Roberts",img:WA,slug:"roberts",attributes:{environment:"quiet",ac:!1,dining:"far",style:"historic",room:["single","double","triple"],gym:"far"},website:"https://www.swarthmore.edu/living-swarthmore/roberts-hall"},{name:"Wharton",img:ZA,slug:"wharton",attributes:{environment:"social",ac:!1,dining:"close",style:"historic",room:["single","double","quad"],gym:"close"},website:"https://www.swarthmore.edu/living-swarthmore/wharton-hall"},{name:"Willets",img:JA,slug:"willets",attributes:{environment:"social",ac:!1,dining:"close",style:"modern",room:["single","double"],gym:"close"},website:"https://www.swarthmore.edu/living-swarthmore/willets-hall"},{name:"Worth",img:eR,slug:"worth",attributes:{environment:"quiet",ac:!1,dining:"medium",style:"historic",room:["single","double"],gym:"medium"},website:"https://www.swarthmore.edu/living-swarthmore/worth-hall"},{name:"Woolman",img:tR,slug:"woolman",attributes:{environment:"quiet",ac:!0,dining:"far",style:"historic",room:["single","double"],gym:"far"},website:"https://www.swarthmore.edu/living-swarthmore/woolman-house"},{name:"The Lodges",img:nR,slug:"the-lodges",attributes:{environment:"quiet",ac:!1,dining:"far",style:"historic",room:["quint"],gym:"far"},website:"https://www.swarthmore.edu/living-swarthmore/lodges"},{name:"PPR Apartments (includes NPPR)",img:rR,slug:"ppr-apartments",attributes:{environment:"quiet",ac:!0,dining:"far",style:"modern",room:["apartment"],gym:"far"},website:"https://www.swarthmore.edu/living-swarthmore/ppr-apartments"}],pM=Te.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 2rem;
  padding: 3rem 2rem;
  max-width: 1200px;
  margin: 0 auto;
`,nb=Te(Qs)`
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 12px rgba(124,34,34,0.08);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: box-shadow 0.2s;
  text-decoration: none;
  position: relative;
  &:hover {
    box-shadow: 0 4px 24px rgba(124,34,34,0.16);
  }
`,gM=Te.img`
  width: 100%;
  height: 200px;
  object-fit: cover;
  background: var(--light-grey);
`,yM=Te.div`
  font-family: var(--serif);
  font-size: 1.2rem;
  color: white;
  font-weight: 600;
  text-align: center;
  position: absolute;
  bottom: 1rem;
  left: 0;
  right: 0;
  z-index: 2;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
`,_M=Te.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(124, 34, 34, 0.3);
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 1;
  ${nb}:hover & {
    opacity: 1;
  }
`;function vM(){return R.jsxs("div",{style:{padding:"4rem 2rem",textAlign:"center",background:"linear-gradient(to bottom, var(--garnet) 0%, var(--garnet-dark) 50%, #3d0f0f 100%)",minHeight:"100vh"},children:[R.jsx("h2",{style:{fontFamily:"var(--serif)",color:"white",fontSize:"2.2rem",marginBottom:"2rem"},children:"Explore Dorms"}),R.jsx(pM,{children:Ig.map(r=>R.jsxs(nb,{to:`/dorms/${r.slug}`,children:[R.jsx(gM,{src:r.img,alt:r.name}),R.jsx(_M,{}),R.jsx(yM,{children:r.name})]},r.name))})]})}function EM(){const{slug:r}=MR(),{currentUser:e}=Mu(),n=Tu(),s=Ig.find(N=>N.slug===r),[o,u]=ae.useState(()=>{const N=localStorage.getItem(`reviews-${r}`);return N?JSON.parse(N):[]}),[f,m]=ae.useState({name:"",rating:"",comment:""}),[p,y]=ae.useState(()=>{const N=localStorage.getItem(`interactions-${r}`);return N?JSON.parse(N):{}}),[E,S]=ae.useState(!1),w=N=>{if(N.preventDefault(),!e){S(!0);return}if(f.comment.trim()&&f.rating){const ne={...f,name:e.profile?.username||e.displayName||e.email,rating:parseInt(f.rating),id:Date.now(),date:new Date().toLocaleDateString(),userId:e.uid,likes:0,dislikes:0,comments:[]},J=[...o,ne];u(J),localStorage.setItem(`reviews-${r}`,JSON.stringify(J)),m({name:"",rating:"",comment:""})}},L=N=>{const ne=o.filter(ee=>ee.id!==N);u(ne),localStorage.setItem(`reviews-${r}`,JSON.stringify(ne));const J={...p};delete J[N],y(J),localStorage.setItem(`interactions-${r}`,JSON.stringify(J))},F=(N,ne)=>{if(!e){S(!0);return}const J=p[N];if(J===ne){const oe=o.map(x=>x.id===N?{...x,[ne+"s"]:x[ne+"s"]-1}:x);u(oe),localStorage.setItem(`reviews-${r}`,JSON.stringify(oe));const ue={...p};delete ue[N],y(ue),localStorage.setItem(`interactions-${r}`,JSON.stringify(ue));return}let ee=o.map(oe=>{if(oe.id===N){let ue={...oe};return J&&(ue[J+"s"]=oe[J+"s"]-1),ue[ne+"s"]=oe[ne+"s"]+1,ue}return oe});u(ee),localStorage.setItem(`reviews-${r}`,JSON.stringify(ee));const ce={...p,[N]:ne};y(ce),localStorage.setItem(`interactions-${r}`,JSON.stringify(ce))};if(!s)return R.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:"Dorm not found."});const Y=o.length>0?(o.reduce((N,ne)=>N+ne.rating,0)/o.length).toFixed(1):0;return R.jsxs("div",{style:{background:"var(--cream)",minHeight:"100vh"},children:[R.jsx("div",{style:{background:`linear-gradient(rgba(124, 34, 34, 0.8), rgba(124, 34, 34, 0.6)), url(${s.img})`,backgroundSize:"cover",backgroundPosition:"center",height:"300px",display:"flex",alignItems:"center",padding:"0 4rem",marginBottom:"3rem"},children:R.jsx("h1",{style:{fontFamily:"var(--serif)",color:"white",fontSize:"3.5rem",fontWeight:"700",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",margin:0},children:s.name})}),R.jsxs("div",{style:{padding:"0 4rem 4rem 4rem"},children:[R.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto 3rem auto",background:"#fff",borderRadius:"12px",padding:"2rem",boxShadow:"0 2px 12px rgba(124,34,34,0.08)"},children:[R.jsx("h3",{style:{fontFamily:"var(--serif)",color:"var(--garnet)",marginBottom:"1rem"},children:"Dorm Features"}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",textAlign:"left",marginBottom:"2rem"},children:[R.jsxs("div",{children:[R.jsx("strong",{children:"Environment:"})," ",s.attributes.environment]}),R.jsxs("div",{children:[R.jsx("strong",{children:"Air Conditioning:"})," ",s.attributes.ac?"Yes":"No"]}),R.jsxs("div",{children:[R.jsx("strong",{children:"Dining Proximity:"})," ",s.attributes.dining]}),R.jsxs("div",{children:[R.jsx("strong",{children:"Style:"})," ",s.attributes.style]}),R.jsxs("div",{children:[R.jsx("strong",{children:"Room Types:"})," ",s.attributes.room.join(", ")]}),R.jsxs("div",{children:[R.jsx("strong",{children:"Gym Proximity:"})," ",s.attributes.gym]})]}),R.jsx("div",{style:{textAlign:"center",paddingTop:"1rem",borderTop:"1px solid #eee"},children:R.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",style:{background:"var(--garnet)",color:"#fff",padding:"0.8em 2em",borderRadius:"8px",textDecoration:"none",fontWeight:"bold",display:"inline-block",transition:"background 0.2s"},onMouseOver:N=>N.target.style.background="var(--garnet-dark)",onMouseOut:N=>N.target.style.background="var(--garnet)",children:"Learn More on Swarthmore's Official Website"})})]}),R.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[R.jsxs("h3",{style:{fontFamily:"var(--serif)",color:"var(--garnet)",fontSize:"1.8rem",marginBottom:"1rem"},children:["Reviews (",o.length,")",Y>0&&R.jsxs("span",{style:{fontSize:"1rem",color:"#666"},children:["  Average Rating: ",Y," stars"]})]}),R.jsxs("form",{onSubmit:w,style:{background:"#fff",borderRadius:"12px",padding:"2rem",marginBottom:"2rem",boxShadow:"0 2px 12px rgba(124,34,34,0.08)"},children:[R.jsx("h4",{style:{fontFamily:"var(--serif)",color:"var(--garnet)",marginBottom:"1rem"},children:"Write a Review"}),R.jsxs("div",{style:{display:"grid",gap:"1rem",maxWidth:"500px",margin:"0 auto"},children:[e&&R.jsxs("div",{style:{textAlign:"center",padding:"0.5rem",background:"var(--cream)",borderRadius:"8px",color:"var(--garnet)",fontWeight:"600"},children:["Reviewing as: ",e.profile?.username||e.displayName||e.email]}),R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[R.jsx("label",{style:{fontWeight:"bold"},children:"Rating:"}),R.jsxs("select",{value:f.rating,onChange:N=>m({...f,rating:N.target.value}),onFocus:()=>!e&&S(!0),required:!0,style:{padding:"0.5em",borderRadius:"6px",border:"1px solid #ddd"},children:[R.jsx("option",{value:"",children:"Select rating"}),[5,4,3,2,1].map(N=>R.jsx("option",{value:N,children:N===1?"one star":`${N} stars`},N))]})]}),R.jsx("textarea",{placeholder:"Share your experience with this dorm...",value:f.comment,onChange:N=>m({...f,comment:N.target.value}),onFocus:()=>!e&&S(!0),required:!0,rows:"4",style:{padding:"0.8em",borderRadius:"8px",border:"1px solid #ddd",fontSize:"1rem",resize:"vertical"}}),R.jsx("button",{type:"submit",onClick:()=>!e&&S(!0),style:{background:"var(--garnet)",color:"#fff",padding:"0.8em 2em",borderRadius:"8px",border:"none",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:"Submit Review"})]})]}),R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:o.length===0?R.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"No reviews yet. Be the first to share your experience!"}):o.map(N=>{const ne=p[N.id];return R.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 12px rgba(124,34,34,0.08)",textAlign:"left"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[R.jsx("h4",{style:{margin:0,color:"var(--garnet)"},children:N.name}),R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsx("span",{children:"".repeat(N.rating)}),R.jsx("span",{style:{color:"#666",fontSize:"0.9rem"},children:N.date}),R.jsx("button",{onClick:()=>L(N.id),style:{background:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",padding:"0.3em 0.6em",fontSize:"0.8rem",cursor:"pointer",marginLeft:"0.5rem"},children:"Delete"})]})]}),R.jsx("p",{style:{margin:"0 0 1rem 0",lineHeight:"1.6"},children:N.comment}),R.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[R.jsxs("button",{onClick:()=>F(N.id,"like"),style:{background:"transparent",color:ne==="like"?"#28a745":"#666",border:"none",padding:"0.5em 1em",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"1rem"},children:[" ",N.likes]}),R.jsxs("button",{onClick:()=>F(N.id,"dislike"),style:{background:"transparent",color:ne==="dislike"?"#dc3545":"#666",border:"none",padding:"0.5em 1em",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"1rem"},children:[" ",N.dislikes]})]}),R.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"1rem"},children:[R.jsxs("h5",{style:{margin:"0 0 0.5rem 0",color:"var(--garnet)"},children:["Comments (",N.comments.length,")"]}),!e&&R.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem",fontStyle:"italic"},children:"Click on any field below to sign in and add a comment"}),R.jsx("form",{onSubmit:J=>{if(J.preventDefault(),!e){S(!0);return}const ce=new FormData(J.target).get("text");if(ce.trim()){const oe=o.map(ue=>ue.id===N.id?{...ue,comments:[...ue.comments,{id:Date.now(),author:e.profile?.username||e.displayName||e.email,text:ce,date:new Date().toLocaleDateString()}]}:ue);u(oe),localStorage.setItem(`reviews-${r}`,JSON.stringify(oe)),J.target.reset()}},style:{marginBottom:"1rem"},children:R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsx("input",{type:"text",name:"text",placeholder:"Add a comment...",onFocus:()=>!e&&S(!0),required:!0,style:{flex:1,padding:"0.5em",borderRadius:"4px",border:"1px solid #ddd",fontSize:"0.9rem"}}),R.jsx("button",{type:"submit",onClick:()=>!e&&S(!0),style:{background:"var(--garnet)",color:"#fff",border:"none",borderRadius:"4px",padding:"0.5em 1em",cursor:"pointer",fontSize:"0.9rem"},children:"Comment"})]})}),R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:N.comments.map(J=>R.jsxs("div",{style:{padding:"0.8rem",borderLeft:"3px solid var(--garnet)"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.3rem"},children:[R.jsx("strong",{style:{color:"var(--garnet)"},children:J.author}),R.jsx("span",{style:{color:"#666",fontSize:"0.8rem"},children:J.date})]}),R.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:J.text})]},J.id))})]})]},N.id)})})]}),E&&R.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:R.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"2rem",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:[R.jsx("h3",{style:{fontFamily:"var(--serif)",color:"var(--garnet)",marginBottom:"1rem",fontSize:"1.5rem"},children:"Sign In Required"}),R.jsx("p",{style:{color:"#666",marginBottom:"2rem",lineHeight:"1.5"},children:"You need to be signed in to interact with reviews and comments."}),R.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[R.jsx("button",{onClick:()=>{S(!1),n("/login")},style:{background:"var(--garnet)",color:"white",border:"none",borderRadius:"8px",padding:"0.8em 1.5em",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:N=>N.target.style.background="var(--garnet-dark)",onMouseOut:N=>N.target.style.background="var(--garnet)",children:"Log In"}),R.jsx("button",{onClick:()=>{S(!1),n("/signup")},style:{background:"transparent",color:"var(--garnet)",border:"2px solid var(--garnet)",borderRadius:"8px",padding:"0.8em 1.5em",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background 0.2s, color 0.2s"},onMouseOver:N=>{N.target.style.background="var(--garnet)",N.target.style.color="white"},onMouseOut:N=>{N.target.style.background="transparent",N.target.style.color="var(--garnet)"},children:"Sign Up"})]}),R.jsx("button",{onClick:()=>S(!1),style:{background:"transparent",color:"#666",border:"none",marginTop:"1rem",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline"},children:"Cancel"})]})})]})]})}function TM(r,e){const n=[];return e.environment&&r.attributes.environment===e.environment&&n.push(`Matches your preference for a ${e.environment} environment.`),e.ac&&(e.ac==="yes"&&r.attributes.ac||e.ac==="no"&&!r.attributes.ac)&&n.push(r.attributes.ac?"Has air conditioning.":"Does not have air conditioning."),e.dining&&r.attributes.dining===e.dining&&n.push(`Dining proximity: ${r.attributes.dining.charAt(0).toUpperCase()+r.attributes.dining.slice(1)}.`),e.style&&r.attributes.style===e.style&&n.push(`You prefer a ${e.style} building.`),e.room&&r.attributes.room.includes(e.room)&&n.push(`Offers your preferred room type: ${e.room}.`),e.gym&&r.attributes.gym===e.gym&&n.push(`Near the gym/athletics: ${r.attributes.gym.charAt(0).toUpperCase()+r.attributes.gym.slice(1)}.`),e.coed&&r.coed&&(e.coed==="coed"&&r.coed.toLowerCase().includes("coed")||e.coed==="single-gender"&&(r.coed.toLowerCase().includes("women")||r.coed.toLowerCase().includes("men"))||e.coed==="mixed"&&r.coed.toLowerCase().includes("mixed"))&&n.push(`Matches your preference for a ${e.coed.replace("-"," ")} dorm.`),n.length?n:["General match based on your preferences."]}function SM(r,e){let n=0;return e.environment&&r.attributes.environment===e.environment&&n++,e.ac&&(e.ac==="yes"&&r.attributes.ac||e.ac==="no"&&!r.attributes.ac)&&n++,e.dining&&r.attributes.dining===e.dining&&n++,e.style&&r.attributes.style===e.style&&n++,e.room&&r.attributes.room.includes(e.room)&&n++,e.gym&&r.attributes.gym===e.gym&&n++,e.coed&&r.coed&&(e.coed==="coed"&&r.coed.toLowerCase().includes("coed")||e.coed==="single-gender"&&(r.coed.toLowerCase().includes("women")||r.coed.toLowerCase().includes("men"))||e.coed==="mixed"&&r.coed.toLowerCase().includes("mixed"))&&n++,n}function bM(){const[r,e]=ae.useState({environment:"",ac:"",dining:"",style:"",room:"",gym:"",coed:""}),[n,s]=ae.useState(!1),[o,u]=ae.useState([]);function f(p){e({...r,[p.target.name]:p.target.value})}function m(p){p.preventDefault();const y=Ig.map(E=>({...E,score:SM(E,r),reasons:TM(E,r)})).sort((E,S)=>S.score-E.score).slice(0,3);u(y),s(!0)}return n?R.jsxs("div",{style:{padding:"4rem 2rem",textAlign:"center",background:"var(--cream)",minHeight:"100vh"},children:[R.jsx("h2",{style:{fontFamily:"var(--serif)",color:"var(--garnet)",fontSize:"2.2rem",marginBottom:"2rem"},children:"Your Top 3 Dorm Recommendations"}),R.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"2rem"},children:o.map((p,y)=>R.jsxs("div",{style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(124,34,34,0.08)",padding:"1.5rem",maxWidth:320,minWidth:220,textAlign:"center"},children:[R.jsx("img",{src:p.img,alt:p.name,style:{width:"100%",height:140,objectFit:"cover",borderRadius:8,marginBottom:12}}),R.jsxs("h3",{style:{fontFamily:"var(--serif)",color:"var(--garnet)",fontSize:"1.3rem",margin:"0 0 0.5rem 0"},children:[y+1,". ",R.jsx(Qs,{to:`/dorms/${p.slug}`,style:{color:"var(--garnet)",textDecoration:"underline",fontWeight:700},children:p.name})]}),R.jsx("ul",{style:{textAlign:"left",margin:"0.5rem 0 0 0",padding:"0 0 0 1.1em",color:"var(--soft-black)",fontSize:"1em"},children:p.reasons.map((E,S)=>R.jsx("li",{children:E},S))})]},p.slug))})]}):R.jsxs("div",{style:{padding:"4rem 2rem",textAlign:"center",background:"var(--cream)",minHeight:"100vh"},children:[R.jsx("h2",{style:{fontFamily:"var(--serif)",color:"var(--garnet)",fontSize:"2.2rem",marginBottom:"2rem"},children:"Find My Dorm"}),R.jsxs("form",{onSubmit:m,style:{maxWidth:500,margin:"0 auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(124,34,34,0.08)",padding:"2rem"},children:[R.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"left"},children:[R.jsx("label",{children:R.jsx("b",{children:"1. Do you prefer a quiet or social environment?"})}),R.jsx("br",{}),R.jsxs("select",{name:"environment",value:r.environment,onChange:f,required:!0,style:{width:"100%",padding:"0.5em",marginTop:"0.5em"},children:[R.jsx("option",{value:"",children:"Select..."}),R.jsx("option",{value:"quiet",children:"Quiet"}),R.jsx("option",{value:"social",children:"Social"}),R.jsx("option",{value:"no-preference",children:"No preference"})]})]}),R.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"left"},children:[R.jsx("label",{children:R.jsx("b",{children:"2. Do you want air conditioning?"})}),R.jsx("br",{}),R.jsxs("select",{name:"ac",value:r.ac,onChange:f,required:!0,style:{width:"100%",padding:"0.5em",marginTop:"0.5em"},children:[R.jsx("option",{value:"",children:"Select..."}),R.jsx("option",{value:"yes",children:"Yes"}),R.jsx("option",{value:"no",children:"No"}),R.jsx("option",{value:"no-preference",children:"No preference"})]})]}),R.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"left"},children:[R.jsx("label",{children:R.jsx("b",{children:"3. Do you want to be close to the dining hall?"})}),R.jsx("br",{}),R.jsxs("select",{name:"dining",value:r.dining,onChange:f,required:!0,style:{width:"100%",padding:"0.5em",marginTop:"0.5em"},children:[R.jsx("option",{value:"",children:"Select..."}),R.jsx("option",{value:"yes",children:"Yes"}),R.jsx("option",{value:"no",children:"No"}),R.jsx("option",{value:"no-preference",children:"No preference"})]})]}),R.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"left"},children:[R.jsx("label",{children:R.jsx("b",{children:"4. Do you prefer a historic or modern building?"})}),R.jsx("br",{}),R.jsxs("select",{name:"style",value:r.style,onChange:f,required:!0,style:{width:"100%",padding:"0.5em",marginTop:"0.5em"},children:[R.jsx("option",{value:"",children:"Select..."}),R.jsx("option",{value:"historic",children:"Historic"}),R.jsx("option",{value:"modern",children:"Modern"}),R.jsx("option",{value:"no-preference",children:"No preference"})]})]}),R.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"left"},children:[R.jsx("label",{children:R.jsx("b",{children:"5. Do you want a single or double room?"})}),R.jsx("br",{}),R.jsxs("select",{name:"room",value:r.room,onChange:f,required:!0,style:{width:"100%",padding:"0.5em",marginTop:"0.5em"},children:[R.jsx("option",{value:"",children:"Select..."}),R.jsx("option",{value:"single",children:"Single"}),R.jsx("option",{value:"double",children:"Double"}),R.jsx("option",{value:"no-preference",children:"No preference"})]})]}),R.jsxs("div",{style:{marginBottom:"2rem",textAlign:"left"},children:[R.jsx("label",{children:R.jsx("b",{children:"6. Do you want to be near the gym/athletics?"})}),R.jsx("br",{}),R.jsxs("select",{name:"gym",value:r.gym,onChange:f,required:!0,style:{width:"100%",padding:"0.5em",marginTop:"0.5em"},children:[R.jsx("option",{value:"",children:"Select..."}),R.jsx("option",{value:"yes",children:"Yes"}),R.jsx("option",{value:"no",children:"No"}),R.jsx("option",{value:"no-preference",children:"No preference"})]})]}),R.jsxs("div",{style:{marginBottom:"2rem",textAlign:"left"},children:[R.jsx("label",{children:R.jsx("b",{children:"7. Do you prefer a coed, single-gender, or mixed-gender dorm?"})}),R.jsx("br",{}),R.jsxs("select",{name:"coed",value:r.coed,onChange:f,required:!0,style:{width:"100%",padding:"0.5em",marginTop:"0.5em"},children:[R.jsx("option",{value:"",children:"Select..."}),R.jsx("option",{value:"coed",children:"Coed"}),R.jsx("option",{value:"single-gender",children:"Single-gender"}),R.jsx("option",{value:"mixed",children:"Mixed-gender"}),R.jsx("option",{value:"no-preference",children:"No preference"})]})]}),R.jsx("button",{type:"submit",style:{background:"var(--garnet)",color:"#fff",fontWeight:700,fontSize:"1.1em",border:"none",borderRadius:8,padding:"0.8em 2em",cursor:"pointer"},children:"See My Recommendations"})]})]})}function wM(){const r=Tu(),{currentUser:e,logout:n}=Mu();return R.jsxs("div",{children:[R.jsxs(oM,{children:[R.jsx(lM,{children:"Swarthmore Dorm Explorer"}),R.jsx("div",{style:{display:"flex",gap:"1rem",marginRight:"2.5rem"},children:e?R.jsxs(R.Fragment,{children:[R.jsx(mh,{as:Qs,to:"/profile",style:{background:"transparent",color:"var(--garnet)",border:"1px solid var(--garnet)"},children:e.profile?.username||e.displayName||"Profile"}),R.jsx(mh,{onClick:n,style:{background:"#dc3545"},children:"Logout"})]}):R.jsxs(R.Fragment,{children:[R.jsx(mh,{as:Qs,to:"/login",style:{background:"transparent",color:"var(--garnet)",border:"1px solid var(--garnet)"},children:"Login"}),R.jsx(mh,{as:Qs,to:"/signup",children:"Sign Up"})]})})]}),R.jsx(uM,{children:R.jsxs(cM,{children:[R.jsx(hM,{children:"Welcome to Swarthmore Dorm Explorer"}),R.jsx(fM,{children:"Your guide to every dorm at Swarthmore  floor plans, photos, vibes, and 360 tours."}),R.jsx(tb,{as:"button",onClick:()=>r("/dorms"),children:"Explore Dorms"}),R.jsx(dM,{as:"button",onClick:()=>r("/quiz"),children:"Find My Dorm"}),R.jsx(mM,{children:"Find what dorm fits you best based on your preferences."})]})})]})}function AM(){return R.jsx(D4,{children:R.jsx(nI,{children:R.jsxs($R,{children:[R.jsx(zi,{path:"/",element:R.jsx(wM,{})}),R.jsx(zi,{path:"/dorms",element:R.jsx(vM,{})}),R.jsx(zi,{path:"/dorms/:slug",element:R.jsx(EM,{})}),R.jsx(zi,{path:"/quiz",element:R.jsx(bM,{})}),R.jsx(zi,{path:"/signup",element:R.jsx(L4,{})}),R.jsx(zi,{path:"/login",element:R.jsx(K4,{})}),R.jsx(zi,{path:"/profile",element:R.jsx(aM,{})})]})})})}Lw.createRoot(document.getElementById("root")).render(R.jsx(ae.StrictMode,{children:R.jsx(AM,{})}));
